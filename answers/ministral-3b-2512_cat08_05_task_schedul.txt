# **Data-Driven Scheduling Optimization for Precision Parts Inc. Using Process Mining**

## **1. Analyzing Historical Scheduling Performance and Dynamics**

### **Process Mining Techniques & Metrics**
To reconstruct and analyze the actual shop floor behavior from the MES event logs, I would employ a combination of **process mining (PM) techniques**, including:

#### **A. Process Discovery & Reconstruction**
- **Alpha Miner, Heuristics Miner, or Inductive Miner** (e.g., PM4Py, Celonis) to reconstruct the **actual job routing paths** and identify deviations from planned sequences.
- **Event Log Analysis:** Extract **task sequences, dependencies, and exceptions** (e.g., breakdowns, priority changes) to visualize the real-world workflow.

#### **B. Key Performance Metrics Derived from Process Mining**
| **Metric**               | **Process Mining Technique**                     | **Purpose** |
|--------------------------|------------------------------------------------|-------------|
| **Job Flow Time (Cycle Time)** | Time-to-Make-Span (TMS) analysis, cumulative flow time | Measures total time from job release to completion. |
| **Lead Time Distribution** | Histograms, box plots of lead times per job | Identifies variability and outliers (e.g., tardy jobs). |
| **Task Waiting Times** | Queue time analysis (e.g., waiting for machine/operator) | Quantifies inefficiencies due to bottlenecks. |
| **Machine Utilization** | Resource utilization graphs (productive vs. idle time) | Identifies overloaded vs. underutilized machines. |
| **Setup Time Analysis** | Sequence-dependent setup time (SDST) modeling | Extracts setup durations based on previous job properties (e.g., material, complexity). |
| **Tardiness & Schedule Adherence** | Due-date deviation analysis (e.g., % of jobs late, average lateness) | Measures compliance with customer deadlines. |
| **Disruption Impact** | Event log filtering for breakdowns/priority changes | Quantifies their effect on lead times and WIP. |

#### **C. Quantifying Sequence-Dependent Setup Times (SDST)**
- **Approach:**
  - Group jobs by **material, dimensions, or previous job properties** (e.g., "similar to JOB-6998").
  - Use **log-based clustering** (e.g., k-means on setup durations) to identify **setup patterns**.
  - Apply **regression analysis** to predict setup times based on job sequence (e.g., `SetupTime = f(PreviousJobMaterial, CurrentJobType)`).
- **Example Insight:**
  If `JOB-7001` (Cutting) follows `JOB-6998` (also Cutting but with different material), the setup time might be **20 min (historical avg.) vs. 23.5 min (actual observed)** due to tool wear or calibration needs.

---

## **2. Diagnosing Scheduling Pathologies**

### **Key Inefficiencies Identified via Process Mining**
| **Pathology** | **Evidence from Process Mining** | **Impact** |
|--------------|--------------------------------|------------|
| **Bottleneck Identification** | High waiting times at `CUT-01` or `MILL-02` (e.g., >50% idle time during peak hours). | Delays downstream jobs, increasing lead times. |
| **Poor Prioritization** | High-priority "hot jobs" (e.g., `JOB-7005`) often processed after low-priority jobs, leading to tardiness. | Missed due dates for critical orders. |
| **Suboptimal Sequencing** | Jobs with high SDSTs (e.g., `JOB-7001` after `JOB-6998`) are scheduled in a way that maximizes setup delays. | Increases total cycle time. |
| **Resource Starvation** | Downstream machines (e.g., `GRIND-01`) have long queue lengths due to upstream bottlenecks. | WIP buildup and delayed completions. |
| **Bullwhip Effect in WIP** | Sudden spikes in WIP during disruptions (e.g., breakdowns) followed by crashes. | Inventory management becomes chaotic. |
| **Lack of Real-Time Visibility** | No correlation between planned vs. actual task durations (e.g., `Task Duration (Planned)` vs. `Task Duration (Actual)` shows significant variance). | Poor predictive scheduling. |

### **Example Diagnoses from the Event Log Snippet**
- **Bottleneck at `CUT-01`:**
  - `JOB-7001` took **66.4 min** (actual) vs. **60 min** (planned), with an extra **23.5 min setup** due to sequence dependency.
  - If `CUT-01` is always overloaded, downstream machines (`MILL-03`) suffer from long queues.
- **Priority Misalignment:**
  - `JOB-7005` (High priority) was released at **11:30 AM** but was not processed until **after** `JOB-7001` (Medium priority), causing a **5-hour delay**.
- **Disruption Impact:**
  - `MILL-02` breakdown at **11:05 AM** caused a **25-minute shutdown**, leading to a **10-minute delay in `JOB-7001`** (from `10:45 AM` to `11:05 AM`).

---

## **3. Root Cause Analysis of Scheduling Ineffectiveness**

### **Root Causes Identified**
| **Cause** | **Evidence** | **Impact** |
|-----------|-------------|------------|
| **Static Dispatching Rules** | No dynamic adjustment for real-time constraints (e.g., due dates, machine loads). | Poor job sequencing leads to tardiness. |
| **Lack of Real-Time Visibility** | MES logs show planned vs. actual durations diverge, but no real-time adjustments. | No adaptive scheduling. |
| **Inaccurate Task Durations** | Planned durations (`60 min`)  actual durations (`66.4 min`), leading to overestimates. | Poor lead-time forecasting. |
| **Ignored Sequence-Dependent Setups** | No predictive modeling of SDSTs; setups are treated as fixed costs. | Suboptimal job sequencing. |
| **Poor Coordination Between Work Centers** | No feedback loop between upstream and downstream machines. | Starvation of downstream resources. |
| **Inadequate Handling of Disruptions** | Breakdowns and urgent jobs are treated as exceptions without recovery strategies. | Unpredictable lead times. |

### **How Process Mining Helps Differentiate Causes**
- **Scheduling Logic vs. Capacity Issues:**
  - If **tardiness is high even when machines are not overloaded**, the issue is likely **poor sequencing rules**.
  - If **WIP is high despite low machine utilization**, the issue is **poor prioritization or lack of flow control**.
- **Example:**
  - If `CUT-01` is always at 80% utilization but `MILL-03` has long queues, the bottleneck is **sequencing** (not capacity).
  - If `MILL-02` breaks down frequently, the issue is **maintenance capacity** (not scheduling).

---

## **4. Developing Advanced Data-Driven Scheduling Strategies**

### **Strategy 1: Enhanced Dynamic Dispatching Rules (Multi-Factor Priority Dispatching)**
**Core Logic:**
Replace static rules (e.g., FCFS, EDD) with a **weighted priority dispatching system** that considers:
- **Remaining processing time (RPT)** at the source machine.
- **Due date urgency** (e.g., `Due Date - Current Time`).
- **Downstream machine load** (e.g., queue length at next work center).
- **Estimated sequence-dependent setup time (SDST)** based on historical data.
- **Priority level** (High/Medium/Low).

**Process Mining Insights Used:**
- **Historical SDST models** (e.g., regression on `SetupTime = f(PreviousJobType, CurrentJobType)`).
- **Queue length distributions** at bottleneck machines.
- **Tardiness patterns** (e.g., jobs due in <6 hours have higher priority).

**Expected Impact:**
 **Reduces tardiness** by prioritizing high-risk jobs.
 **Lowers WIP** by balancing upstream/downstream loads.
 **Improves lead-time predictability** with dynamic adjustments.

**Example Rule:**
```
Priority Score = (1 - RPT/MaxRPT) * 0.4 + (DueDate - Now)/MaxLeadTime * 0.3 + (DownstreamQueueLength/MaxQueue) * 0.2 + (SDST/MaxSDST) * 0.1 + PriorityLevelFactor
Job with highest score is dispatched next.
```

---

### **Strategy 2: Predictive Scheduling with Machine Learning**
**Core Logic:**
Use **historical task duration data** (mined from logs) to:
1. **Predict task durations** (including setups) for new jobs.
2. **Forecast potential bottlenecks** (e.g., if `CUT-01` is expected to be busy, schedule jobs accordingly).
3. **Adjust schedules proactively** before disruptions occur.

**Process Mining Insights Used:**
- **Task duration distributions** (e.g., `Cutting` jobs take **60-70 min** on average).
- **Breakdown frequencies** (e.g., `MILL-02` breaks down **1x/week** for **25 min**).
- **Operator skill variability** (e.g., some operators finish setups faster).

**Implementation:**
- **Time Series Forecasting (ARIMA, Prophet)** for task durations.
- **Bayesian Networks** to model disruption probabilities.
- **Reinforcement Learning (RL)** for dynamic re-scheduling.

**Expected Impact:**
 **Reduces lead-time uncertainty** with better estimates.
 **Minimizes tardiness** by anticipating delays.
 **Optimizes resource allocation** before bottlenecks occur.

---

### **Strategy 3: Setup Time Optimization via Intelligent Batching**
**Core Logic:**
Since **sequence-dependent setups are a major bottleneck**, we can:
1. **Group similar jobs** to minimize setup changes.
2. **Optimize sequencing** at bottleneck machines (e.g., `CUT-01`).
3. **Use clustering** to identify "setup families" (e.g., all jobs requiring **steel cutting**).

**Process Mining Insights Used:**
- **Setup time clusters** (e.g., jobs with similar materials take **20-25 min** to set up).
- **Job routing deviations** (e.g., some jobs skip certain steps due to material properties).
- **Operator experience effects** (e.g., experienced operators reduce setup time by **10%**).

**Implementation:**
- **Job Batching:** Schedule jobs with **similar setup requirements** back-to-back.
- **Sequencing Heuristic:** Use **Shortest Processing Time (SPT) with SDST penalty** to minimize setup delays.
- **Dynamic Rebalancing:** If a machine is overloaded, **swap jobs** to reduce setup changes.

**Expected Impact:**
 **Reduces setup delays by 20-30%**.
 **Lowers WIP** by preventing long queues at bottleneck machines.
 **Improves on-time delivery** by reducing total cycle time.

---

## **5. Simulation, Evaluation, and Continuous Improvement**

### **Discrete-Event Simulation (DES) for Strategy Testing**
**Approach:**
- **Model the shop floor** using **Areven (AnyLogic) or FlexSim** with:
  - **Historical task durations** (mined from logs).
  - **Routing probabilities** (from process mining).
  - **Breakdown frequencies** (from MES logs).
  - **Setup time models** (regression-based).
- **Test Scenarios:**
  - **High load (100% capacity)**  Does scheduling hold up?
  - **Frequent disruptions (breakdowns + urgent jobs)**  Can system recover?
  - **Randomized sequencing**  Does new rule outperform FCFS?

**Expected Outcomes:**
- **Compare KPIs** (tardiness, WIP, lead time) across strategies.
- **Identify weak points** (e.g., if predictive scheduling fails under high disruption).

### **Continuous Monitoring & Adaptive Scheduling**
**Framework:**
1. **Real-Time Process Mining:**
   - Continuously track **KPIs** (e.g., tardiness, queue lengths).
   - **Detect anomalies** (e.g., sudden increase in setup times).
2. **Automated Re-Scheduling:**
   - If a job is **>5 min late**, trigger a **dynamic re-prioritization**.
   - Use **ML models** to **predict future delays** and adjust schedules.
3. **Feedback Loop:**
   - Compare **live performance** vs. **simulated predictions**.
   - **Adjust weights** in dispatching rules if new inefficiencies emerge.

**Tools:**
- **Celonis for real-time PM.**
- **Python (Scikit-learn, TensorFlow) for ML-based adjustments.**
- **MES Integration (e.g., SAP IOB, OPC UA) for live data feeds.**

---

## **Conclusion**
By leveraging **process mining, advanced scheduling heuristics, and predictive analytics**, Precision Parts Inc. can:
 **Eliminate tardiness** by dynamic prioritization.
 **Reduce WIP** through intelligent sequencing.
 **Improve lead-time predictability** with real-time adjustments.
 **Optimize setup times** via intelligent batching.

**Next Steps:**
1. **Extract and clean MES logs** for process mining.
2. **Run DES simulations** to validate strategies.
3. **Pilot the best-performing approach** in a controlled environment.
4. **Implement continuous monitoring** for real-time improvements.

This **data-driven, adaptive scheduling approach** will transform Precision Parts Inc. from a reactive to a **proactive, high-performance job shop**.