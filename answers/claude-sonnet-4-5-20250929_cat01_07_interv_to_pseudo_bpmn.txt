# BPMN-Like Textual Process Model: Invoice Approval Process

## Process Overview
This model represents the Invoice Approval Process as described by stakeholders across Accounts Payable, Purchasing, Management, and Supplier Relations departments.

---

## 1. Process Participants (Pools/Lanes)

- **Accounts Payable Clerk (Mary)**
- **Purchasing Officer (Dan)**
- **Department Manager (Carlos)**
- **Accounts Payable Supervisor (Rita)**
- **Supplier Relationship Manager (Karen)**
- **Supplier** (external entity)
- **Accounting System** (supporting system)

---

## 2. Process Flow Description

### **Start Event:**
- **Trigger:** Invoice received (typically via email)
- **Input Artifact:** Invoice document

---

### **Activity 1: Check for Purchase Order (PO) Number**
- **Performer:** Accounts Payable Clerk (Mary)
- **Description:** Review incoming invoice to verify presence of valid PO number

**Gateway 1 (Exclusive): PO Number Present?**

#### **Path A: NO PO Number Present**
- **Activity 1a:** Send invoice back to Supplier requesting PO details
  - **Performer:** Accounts Payable Clerk (Mary)
  - **Output:** Request communication to Supplier
  - **Flow:** Process loops back awaiting revised invoice (returns to Start Event)

#### **Path B: PO Number Present**
- Continue to Activity 2

---

### **Activity 2: Log Invoice in Accounting System**
- **Performer:** Accounts Payable Clerk (Mary)
- **System:** Accounting System
- **Description:** Register invoice details in the system
- **Output Artifact:** Logged invoice record

---

### **Activity 3: Forward Invoice to Purchasing for Receipt Confirmation**
- **Performer:** Accounts Payable Clerk (Mary)
- **Recipient:** Purchasing Officer (Dan)
- **Description:** Request confirmation that goods/services were actually received

---

### **Activity 4: Verify Receipt and Match Invoice to PO**
- **Performer:** Purchasing Officer (Dan)
- **Description:** Compare invoice details (quantities, prices, delivery charges) against original PO
- **Input Artifacts:** Invoice, Purchase Order

**Gateway 2 (Exclusive): Invoice Matches PO?**

#### **Path A: Discrepancy Found**

**Sub-Gateway 2a (Exclusive): Type of Discrepancy**

- **Path 2a-1: Minor/Resolvable Discrepancy**
  - **Activity 4a:** Contact Supplier to clarify or request corrected invoice
    - **Performer:** Purchasing Officer (Dan) OR Accounts Payable Clerk (Mary) with assistance from Supplier Relationship Manager (Karen)
    - **Description:** Examples include incorrect pricing, extra units billed, missing PO information
  - **Activity 4b:** Hold invoice pending supplier response
  - **Flow:** Upon receipt of corrected invoice or clarification, loop back to Activity 4 (Verify Receipt)

- **Path 2a-2: Complex/Unresolvable Discrepancy**
  - **Activity 4c:** Escalate to Accounts Payable Supervisor
    - **Performer:** Accounts Payable Clerk (Mary)
    - **Recipient:** Accounts Payable Supervisor (Rita)
  - **Activity 4d:** Exception Handling Process (see Section 3)
  - **Flow:** After resolution, return to Activity 4 (Verify Receipt)

#### **Path B: Invoice Matches PO**
- **Activity 4e:** Send confirmation email to Accounts Payable
  - **Performer:** Purchasing Officer (Dan)
  - **Recipient:** Accounts Payable Clerk (Mary)
- Continue to Activity 5

---

### **Activity 5: Match Invoice Line Items Against PO in System**
- **Performer:** Accounts Payable Clerk (Mary)
- **System:** Accounting System
- **Description:** Final verification that all line items align with PO

**Gateway 3 (Exclusive): Line Items Match?**

#### **Path A: Discrepancy Found**
- **Activity 5a:** Email Purchasing team to clarify
  - **Flow:** Similar exception handling as Gateway 2; may escalate to Supervisor (Rita) if cannot be resolved
  - **Loop:** Returns to Activity 5 after resolution

#### **Path B: All Items Match**
- Continue to Activity 6

---

### **Activity 6: Generate Manager Approval Request**
- **Performer:** Accounting System (automatic)
- **Trigger:** Confirmation of goods receipt + invoice-PO match
- **Description:** System sends automatic email notification to Department Manager
- **Recipient:** Department Manager (Carlos)

---

### **Activity 7: Review Invoice for Final Approval**
- **Performer:** Department Manager (Carlos)
- **Input Artifacts:** Invoice details, PO, confirmation from Purchasing
- **Description:** Manager reviews for budget alignment, quantities, pricing, special conditions

**Gateway 4 (Exclusive): Manager Approves?**

#### **Path A: Manager Rejects or Requests Investigation**
- **Activity 7a:** Request hold and investigation
  - **Performer:** Department Manager (Carlos)
  - **Recipient:** Accounts Payable Clerk (Mary)
  - **Trigger Conditions:** Suspicious amounts, budget discrepancies, unexpected items
  - **Frequency Note:** Occurs approximately once every couple of months
- **Activity 7b:** Investigation by AP Clerk or Supervisor
- **Flow:** After investigation/clarification, loop back to Activity 7

#### **Path B: Manager Approves**
- **Activity 7c:** Approve invoice in system
  - **Performer:** Department Manager (Carlos)
  - **System:** Accounting System
- Continue to Activity 8

---

### **Activity 8: Schedule Invoice for Payment**
- **Performer:** Accounts Payable Clerk (Mary)
- **Description:** Add approved invoice to next payment cycle/payment run
- **Output Artifact:** Payment scheduled in system

---

### **End Event:**
- **Result:** Invoice successfully approved and scheduled for payment

---

## 3. Exception Handling Sub-Process

### **Trigger:** Complex discrepancies escalated to AP Supervisor (Rita)

**Scenarios handled:**
1. Invoice cannot be matched to any PO
2. Missing critical information that Purchasing cannot resolve
3. Invoices for informally contracted services

**Activities:**
- **Exception Activity 1:** Supervisor investigates issue
  - **Performer:** Accounts Payable Supervisor (Rita)
  
**Gateway (Exclusive): Nature of Exception**

- **Path A: Missing PO for Valid Service**
  - **Exception Activity 2a:** Coordinate with department heads to create retrospective PO
    - **Performers:** AP Supervisor (Rita) + Department Manager (Carlos)
  - **Flow:** Return to Activity 4 (Verify Receipt) with new PO

- **Path B: Supplier Communication Required**
  - **Exception Activity 2b:** Engage Supplier Relationship Manager
    - **Performers:** AP Supervisor (Rita) + Supplier Relationship Manager (Karen)
  - **Exception Activity 2c:** Karen contacts Supplier to resolve
    - **Actions:** Request revised invoice, clarify contract terms, verify pricing
  - **Flow:** Return to Activity 1 (Check for PO) or Activity 4 (Verify Receipt) depending on issue

- **Path C: Invoice Should Be Rejected**
  - **Exception Activity 2d:** Reject invoice and notify Supplier
    - **Performer:** AP Supervisor (Rita)
  - **Flow:** End Event (Invoice Rejected)

---

## 4. Key Decision Points Summary

| Gateway | Decision Criteria | Outcomes |
|---------|------------------|----------|
| Gateway 1 | PO number present? | Yes  Continue; No  Return to Supplier |
| Gateway 2 | Invoice matches PO? | Yes  Continue; No  Resolve discrepancy or escalate |
| Gateway 2a | Discrepancy type? | Minor  Resolve with supplier; Complex  Escalate to Supervisor |
| Gateway 3 | Line items match? | Yes  Continue; No  Clarify with Purchasing or escalate |
| Gateway 4 | Manager approves? | Yes  Schedule payment; No  Investigate and re-review |

---

## 5. Data Objects/Artifacts

- **Invoice** (input document)
- **Purchase Order (PO)** (reference document)
- **Receipt Confirmation** (from Purchasing)
- **Approval Record** (from Manager)
- **Payment Schedule** (output to payment system)
- **Email Communications** (between roles)
- **Contract Terms** (referenced for pricing disputes)

---

## 6. Process Variations & Ambiguities

### **Noted Variations:**
1. **Missing PO handling:** Can result in either immediate rejection or creation of retrospective PO depending on service legitimacy
2. **Discrepancy resolution:** May involve Accounts Payable Clerk, Purchasing Officer, Supervisor, or Supplier Relationship Manager depending on complexity
3. **Manager rejection frequency:** Relatively rare (once every couple of months per Carlos)

### **Ambiguities:**
1. **Exact point of Supervisor (Rita) escalation:** Interviews suggest this happens when "discrepancy can't be resolved easily," but specific criteria not defined
2. **Supplier Relationship Manager (Karen) involvement:** Triggered by AP or Purchasing when supplier communication needed, but exact handoff mechanism unclear
3. **System automation boundaries:** Unclear which activities are fully automated vs. requiring manual system entry beyond the manager approval notification

### **Consensus Points:**
- All stakeholders agree: No approval without confirmed PO reference
- Sequential dependencies confirmed: Receipt confirmation must precede manager approval
- Manager approval is always the final gate before payment scheduling

---

## 7. Performance Characteristics (From Interviews)

- **Standard path:** Invoice receipt  PO check  Log  Purchasing confirmation  Matching  Manager approval  Payment scheduling
- **Exception frequency:** Manager rejections occur ~1-2 times per month
- **Common rework causes:** Missing PO numbers, pricing discrepancies, quantity mismatches
- **Critical control point:** PO validation (prevents processing of unauthorized invoices)

---

**End of Process Model**

This textual representation can be directly translated into a BPMN diagram with appropriate start/end events, task boxes, exclusive gateways (diamonds), sequence flows (arrows), and swim lanes for each participant role.