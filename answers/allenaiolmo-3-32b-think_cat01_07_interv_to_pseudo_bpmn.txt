<think>
Okay, let's tackle this. I need to create a BPMN-like textual model based on these interview transcripts. First, I'll go through each interview and note down the key points.

Starting with Mary from Accounts Payable. She describes the process from receiving an invoice. The first step is checking the PO number. If missing, send back to supplier. If present, log into the system, then forward to Purchasing for confirmation of goods received. Then match line items against PO. If discrepancies, contact Purchasing or escalate to supervisor. After resolution, send to manager for approval. Manager's approval is triggered after both PO confirmation and matching. Then schedule payment.

Dan from Purchasing talks about receiving the invoice from AP. He checks PO details, compares with PO, contacts supplier or AP if issues. Needs a valid PO to proceed. Confirms with AP, then sends confirmation. If PO missing, tells AP to get it. After his confirmation, it goes to manager approval. Then AP handles payment.

Carlos, the manager, gets a notification after AP and Purchasing steps. Approves if all looks good. Rejects or investigates if issues. After approval, it goes to AP for payment.

Rita, the supervisor, handles exceptions. When Mary escalates, she resolves issues like missing POs or discrepancies. Coordinates between departments. After resolving, the invoice goes back into the normal flow. She doesn't approve but ensures things don't get stuck.

Karen from Supplier Relations helps resolve issues with suppliers when discrepancies are found. She doesn't handle approvals but facilitates communication.

Now, I need to structure this into BPMN elements. Let's list the activities first. The main steps are:

1. Receive Invoice (AP)
2. Check PO Number (AP)
3. Send to Supplier if no PO (AP)
4. Log into System (AP)
5. Forward to Purchasing (AP)
6. Confirm Receipt of Goods (Purchasing)
7. Compare Invoice with PO (Purchasing)
8. Resolve Discrepancies (Purchasing/AP/Rita/Karen)
9. Send Confirmation to AP (Purchasing)
10. Match Line Items (AP)
11. Escalate to Supervisor (AP) if needed
12. Manager Approval (Manager)
13. Schedule Payment (AP)
14. Handle Exceptions (Rita/Karen)

Wait, need to sequence these properly. Let's outline the main flow first.

Main Path:
- Start with Receive Invoice (AP)
- Check PO: if no PO  send to supplier (end here? Or maybe recheck later? Probably a decision gateway here)
- If has PO: log into system, forward to Purchasing.
- Purchasing receives, checks details. If discrepancies, they might contact supplier or AP. But according to Dan, if discrepancies, they contact supplier/AP to resolve. So this is a decision point in Purchasing's step.
- Once Purchasing confirms, they send confirmation to AP.
- AP then matches line items. If discrepancies here, maybe escalate to Rita or supervisor? Mary mentions if discrepancies after Purchasing's confirmation, she emails purchasing to clarify. If unresolved, escalate to supervisor. So another decision here.
- After matching, send to Manager for approval.
- Manager approves or rejects. If rejects, maybe loop back? Carlos mentions rejecting and asking to hold, so that's a decision.
- If approved, schedule payment.

Now, the exceptions and alternative paths:

- When PO is missing, invoice is sent back to supplier. That's a separate path.
- Discrepancies in Purchasing's step: they might need to resolve with supplier (Karen involved?), or AP might need to escalate. Need to see how this is handled. Dan says if discrepancies, contact supplier or ask AP to hold until corrected. So maybe a decision here: if discrepancy, loop back to supplier for correction, then resubmit? Or is it handled by Purchasing coordinating with supplier?
- If discrepancies in AP's line item matching, they contact Purchasing again. If unresolved, escalate to Rita/supervisor. Rita's role is to handle these exceptions, possibly looping back to Purchasing or supplier again.
- Karen's role is more about supplier communication when discrepancies are found, so maybe part of the resolution process in the discrepancy steps.

Roles involved: AP Clerk (Mary), Purchasing Officer (Dan), Department Manager (Carlos), AP Supervisor (Rita), Supplier Relationship (Karen).

Gateways: Decision points at PO check, discrepancy in Purchasing, discrepancy in line items, manager approval.

Let me try to map the sequence with decision points.

Start:
1. **Activity: Receive Invoice (Accounts Payable)**
   - Decision: **Gateway (Check PO Number)**
     - No PO: **Activity: Send Invoice to Supplier Requesting PO (Accounts Payable)**  End? Or maybe the invoice is rejected here, but maybe it can be resubmitted later. The interviews don't mention resubmission, so perhaps this is an end point unless the supplier provides PO later. But for BPMN, maybe it's a subprocess or just a terminate? Let's note as an alternative path.
     - With PO: Proceed.

2. **Activity: Log Invoice into System (Accounts Payable)**
3. **Activity: Forward Invoice to Purchasing (Accounts Payable)**
4. **Activity: Receive Invoice (Purchasing)**
   - Decision: **Gateway (Check Invoice vs. PO)**
     - Matches PO: Proceed.
     - Discrepancies (e.g., pricing, quantities):
       - **Activity: Contact Supplier or AP to Resolve (Purchasing)**
         - If resolved quickly: Proceed to confirm.
         - If unresolved: **Activity: Escalate to Rita/Supplier (Purchasing/Rita/Karen)**  Need to loop back? Maybe a subprocess here for resolution. Alternatively, if unresolved, maybe the invoice is held until resolved. Then after resolution, confirm. But the interviews say Dan might ask AP to hold until supplier sends corrected invoice. So perhaps after contacting supplier, if not resolved, the invoice is put on hold, then later when resolved, continue. But in BPMN, this could be a subprocess or a loop. Since the user wants textual, maybe note the alternative path.

5. **Activity: Confirm Receipt of Goods/PO Match (Purchasing)**
   - Then send confirmation to AP.

6. **Activity: Receive Confirmation (Accounts Payable)**
   - Decision: **Gateway (Match Line Items?)**
     - If match: Proceed to Manager Approval.
     - Discrepancies:
       - **Activity: Contact Purchasing to Clarify (Accounts Payable)**
         - If resolved: Proceed.
         - If unresolved: **Activity: Escalate to Supervisor (Accounts Payable  Rita)**
           - Rita handles: **Activity: Resolve Exception (Rita/Karen)**
             - If resolved: Proceed.
             - If not resolved: Maybe terminate or hold? Interviews mention Rita works to resolve, but if can't, perhaps it's rejected? Not clear, but Carlos mentions rejecting if suspicious. Maybe after Rita's step, if still issue, it goes to manager for rejection?

7. **Activity: Manager Approval Request (System)**
   - Decision: **Gateway (Manager Approval)**
     - Approved: Proceed to Schedule Payment.
     - Rejected/Need Investigation: **Activity: Reject Invoice (Manager)**
       - Possibly loop back to AP to handle? Maybe the invoice is sent back to AP to address issues, then re-enter the process. But interviews don't specify, so maybe it's an end point or needs to be reprocessed. For now, note as an alternative path.

8. **Activity: Schedule Payment (Accounts Payable)**
   - End.

Now, considering Karen's role: when discrepancies are found in Purchasing or AP steps, Karen might be involved in contacting suppliers. So in the discrepancy resolution steps, Karen could be part of the "Contact Supplier" activities.

Also, Rita's role is mainly in exceptions, so when escalation happens, Rita coordinates between departments. So perhaps in the escalation steps, Rita is involved in mediating between AP and Purchasing or supplier.

Need to structure all these into a coherent flow with gateways and roles.

Let me try to outline the main flow with alternative paths.

Main Path (without exceptions):
1. Receive Invoice (AP)
2. Check PO  has PO  Log and Forward to Purchasing
3. Purchasing checks vs PO  matches  Confirm to AP
4. AP matches line items  matches  Send to Manager
5. Manager approves  Schedule Payment  End

Alternative Paths/Exceptions:

Path A: Missing PO
- At step 2, if no PO: Send to Supplier, End (or maybe the invoice is rejected and supplier resubmits with PO? Not specified, so just terminate here).

Path B: Discrepancies in Purchasing step
- At step 3's decision: If discrepancies, Purchasing contacts supplier/AP. If resolved quickly, proceed. If not, escalate to Rita/Karen. Rita/Karen handle it (maybe a subprocess here). After resolution, Purchasing confirms, then proceed to AP's line item check.

Path C: Discrepancies in AP's line item check
- At step 4's decision: If discrepancies, AP contacts Purchasing. If unresolved, escalate to Rita. Rita resolves, then AP proceeds. If still unresolved, maybe Manager rejects? Or Rita's resolution leads to proceeding.

Path D: Manager Rejects
- At approval step, if rejected, invoice is rejected. Not clear if it's sent back to AP for correction, but interviews don't mention that. So maybe end here as rejected.

Now, structuring this into textual BPMN-like description.

First, list all activities with their roles:

Activities:
1. Receive Invoice (Accounts Payable)
2. Check PO Number (Accounts Payable)
3. Send Invoice to Supplier Requesting PO (Accounts Payable)
4. Log Invoice into System (Accounts Payable)
5. Forward Invoice to Purchasing (Accounts Payable)
6. Receive Invoice (Purchasing)
7. Compare Invoice with PO (Purchasing)
8. Contact Supplier/AP to Resolve Discrepancy (Purchasing, Supplier Relationship Manager, Accounts Payable)
9. Confirm Receipt and PO Match (Purchasing)
10. Send Confirmation to AP (Purchasing)
11. Receive Confirmation (Accounts Payable)
12. Match Line Items (Accounts Payable)
13. Contact Purchasing to Clarify Discrepancy (Accounts Payable)
14. Escalate to Supervisor (Accounts Payable)
15. Resolve Exception (Accounts Payable Supervisor, Supplier Relationship Manager)
16. Manager Approval Request (Department Manager)
17. Approve Invoice (Department Manager)
18. Reject Invoice (Department Manager)
19. Schedule Payment (Accounts Payable)

Gateways (Decision Points):

Gateway 1: After Activity 2 (Check PO)
- Paths:
  - No PO  Activity 3  End
  - With PO  Proceed

Gateway 2: After Activity 7 (Compare Invoice with PO)
- Paths:
  - Matches  Proceed to Activity 9
  - Discrepancies  Activity 8 (Contact to resolve)
    - If resolved  Proceed to Activity 9
    - If unresolved  Activity 15 (Resolve Exception) [handled by Rita/Karen]
      - After resolution  Proceed to Activity 9
      - If still unresolved  Maybe terminate? Or loop back? Not clear, but perhaps Activity 15 leads back to Gateway 2?

Wait, maybe Gateway 2's discrepancy path leads to Activity 8, which could have its own subflow. Alternatively, Activity 8's resolution could lead back to Gateway 2's decision. But in text, need to represent this as a loop.

Alternatively, after Activity 8 (Contact Supplier), if unresolved, then Activity 14 (Escalate to Rita)  Activity 15 (Resolve Exception). If resolved, then proceed. If not, maybe Activity 18 (Reject) by Manager? Not sure. Carlos mentions rejecting if suspicious, but that's at his approval stage. Hmm, need to check.

Wait, the discrepancy in Purchasing's step (Gateway 2) might be resolved before reaching AP's line item check. So after Purchasing confirms (Activity 9), the invoice goes to AP for line item matching (Activity 12). If that's where another discrepancy happens, then Gateway 3 at Activity 12.

Gateway 3: After Activity 12 (Match Line Items)
- Paths:
  - Match  Proceed to Manager Approval (Activity 16)
  - Discrepancy  Activity 13 (Contact Purchasing to clarify)
    - If resolved  Proceed to Activity 16
    - If unresolved  Activity 14 (Escalate to Supervisor)
      - Activity 15 (Resolve Exception by Rita/Karen)
        - If resolved  Proceed to Activity 16
        - If unresolved  Activity 18 (Reject by Manager) or maybe Activity 18 is after Manager's decision.

Wait, the Manager's approval is after line items are matched. So if line items are unresolved, they might not even reach the Manager. But Carlos says he gets it after AP and Purchasing confirm. So perhaps the line item matching is part of AP's process before sending to Manager. So if line items don't match, they have to resolve before Manager approval.

So, the flow after Gateway 2 (Purchasing confirms) is:

Activity 10 (Send confirmation to AP)  Activity 11 (AP receives)  Activity 12 (AP matches line items). Then Gateway 3.

If discrepancy in line items (Gateway 3):

- Activity 13: Contact Purchasing to clarify
  - If resolved  proceed to Manager Approval (Activity 16)
  - If unresolved  Activity 14: Escalate to Rita (Supervisor)
    - Activity 15: Rita resolves (with Karen if needed)
      - If resolved  proceed to Activity 16 (Manager Approval)
      - If unresolved  maybe Activity 18 (Manager Rejects) or another path. Carlos might reject if suspicious. So perhaps after Rita's resolution, if still an issue, it goes to Manager for rejection.

Alternatively, after Rita resolves, if still not okay, Manager might reject. So after Activity 15, there could be another Gateway for Manager's decision.

Alternatively, maybe the Manager's approval is the final check where he can reject based on any unresolved issues.

Hmm, this is getting complex. Let me try to outline the main flow with all paths.

Main flow (without exceptions):

1. Receive Invoice (AP)
2. Check PO  has PO  Log and Forward (4,5)
3. Purchasing receives (6)
4. Compare with PO  matches  Confirm (79)
5. Send confirmation to AP (10)
6. AP receives (11)
7. Match line items  matches  Send to Manager (1216)
8. Manager approves (17)  Schedule Payment (19)  End

Exceptions:

A. No PO at step 2  Send to supplier (3)  End

B. Discrepancy in Purchasing step (Gateway after 7):
   - Contact to resolve (8)
     - Resolved  proceed to Confirm (9)
     - Unresolved  Escalate to Rita (14)
       - Rita resolves (15)
         - Resolved  Confirm (9)
         - Unresolved  Maybe go to Manager for rejection? Or back to Purchasing?

C. Discrepancy in line items (Gateway after 12):
   - Contact Purchasing (13)
     - Resolved  proceed to Manager (16)
     - Unresolved  Escalate to Rita (14)
       - Rita resolves (15)
         - Resolved  Manager Approval (16)
         - Unresolved  Manager Rejects (18)  End

D. Manager Rejects (from Gateway at 16):
   - Reject Invoice (18)  End

Also, Karen is involved in some of the contact activities, like in Activity 8 (Contact Supplier) and possibly in Rita's resolution (15).

Now, structuring this into a textual BPMN description.

First, list all the activities in order, with their roles and the sequence. Then describe the gateways and their conditions.

Let me try to write it step by step.

Starting with the main sequence:

1. **Activity: Receive Invoice**
   - **Role:** Accounts Payable (Mary)
   - **Description:** Invoice is received via email or other means.

2. **Gateway: Check PO Number**
   - **Condition:** Does the invoice have a valid Purchase Order number?
   - **Paths:**
     a. **No PO:** Proceed to Activity 3.
     b. **Yes PO:** Proceed to Activity 4.

3. **Activity: Send Invoice to Supplier Requesting PO**
   - **Role:** Accounts Payable (Mary)
   - **Description:** Invoice is returned to supplier with a request to provide a valid PO.

4. **Activity: Log Invoice into System**
   - **Role:** Accounts Payable (Mary)
   - **Description:** Invoice details are recorded in the accounting system.

5. **Activity: Forward Invoice to Purchasing**
   - **Role:** Accounts Payable (Mary)
   - **Description:** Invoice is sent to the Purchasing department for confirmation.

6. **Activity: Receive Invoice**
   - **Role:** Purchasing (Dan)
   - **Description:** Purchasing receives the invoice from Accounts Payable.

7. **Gateway: Compare Invoice with PO**
   - **Condition:** Do the invoice details match the Purchase Order?
   - **Paths:**
     a. **Match:** Proceed to Activity 9.
     b. **Discrepancy:** Proceed to Activity 8.

8. **Activity: Contact Supplier/AP to Resolve Discrepancy**
   - **Roles:** Purchasing (Dan), Supplier Relationship Manager (Karen), Accounts Payable (Mary)
   - **Description:** Purchasing contacts the supplier or AP to resolve pricing, quantity, or other issues. If unresolved, escalate to Rita.

9. **Activity: Confirm Receipt and PO Match**
   - **Role:** Purchasing (Dan)
   - **Description:** Purchasing confirms that the invoice matches the PO and goods/services were received.

10. **Activity: Send Confirmation to AP**
    - **Role:** Purchasing (Dan)
    - **Description:** Confirmation email is sent to Accounts Payable.

11. **Activity: Receive Confirmation**
    - **Role:** Accounts Payable (Mary)
    - **Description:** AP receives confirmation from Purchasing.

12. **Gateway: Match Line Items**
    - **Condition:** Do the invoice line items match the PO and received goods/services?
    - **Paths:**
      a. **Match:** Proceed to Activity 16.
      b. **Discrepancy:** Proceed to Activity 13.

13. **Activity: Contact Purchasing to Clarify Discrepancy**
    - **Role:** Accounts Payable (Mary)
    - **Description:** AP contacts Purchasing to resolve line item discrepancies.

14. **Activity: Escalate to Supervisor**
    - **Role:** Accounts Payable (Mary)
    - **Description:** If unresolved, the issue is escalated to the Accounts Payable Supervisor (Rita).

15. **Activity: Resolve Exception**
    - **Roles:** Accounts Payable Supervisor (Rita), Supplier Relationship Manager (Karen)
    - **Description:** Rita coordinates with relevant parties (e.g., Karen) to resolve the exception. This may involve contacting suppliers or rechecking data.

16. **Gateway: Manager Approval Request**
    - **Condition:** Is the invoice ready for manager approval?
    - **Paths:**
      a. **Ready:** Proceed to Activity 17.
      b. **Not Ready (e.g., after exception resolution):** Re-evaluate at Gateway 12 or 7? Wait, after resolving exceptions, the flow should rejoin. Maybe after Activity 15, it goes back to Gateway 12's decision? Hmm, perhaps need to loop.

Wait, after Activity 15 (Resolve Exception), if resolved, the invoice should go back to checking line items again (Gateway 12). But in the textual model, maybe we can note that after resolution, it proceeds to the next step. Alternatively, the Gateway 12's "Match" path is taken after resolution.

Alternatively, after Activity 15, if resolved, it proceeds to Activity 16 (Manager Approval). If not resolved, then Activity 18 (Reject).

This is getting a bit tangled. Let me re-express:

After Gateway 12 (Match Line Items):

- If match  Manager Approval (16)
- If discrepancy  Activity 13 (Contact Purchasing)
  - If resolved  proceed to Manager Approval (16)
  - If unresolved  Activity 14 (Escalate to Rita)
    - Activity 15 (Resolve Exception)
      - If resolved  proceed to Manager Approval (16)
      - If unresolved  Activity 18 (Reject by Manager)

At Manager Approval Gateway (16):

- If approved  Schedule Payment (19)
- If rejected  Activity 18 (Reject Invoice)  End

But Carlos mentions he can reject if suspicious. So perhaps the Manager's Gateway (16) is after all prior steps, and he can reject based on any remaining issues.

Putting this together:

After Activity 15 (Resolve Exception), if resolved, the invoice proceeds to Activity 16 (Manager Approval). If unresolved, it goes to Activity 18 (Reject).

Alternatively, maybe the Manager's approval is the final check where he can catch any lingering issues.

This needs to be clear. Let's structure the Manager's approval as the final step before payment, where he can approve or reject based on the information up to that point.

So the flow after all prior steps (whether through main path or exception paths) converges at Activity 16 (Manager Approval Request). The Gateway 16 decides approval.

Thus, after Activity 15 (Resolve Exception), the invoice goes to Activity 16.

Therefore, the path from exceptions would merge back into the main flow at Activity 16.

Now, compiling all this into a structured textual BPMN description.

First, outline all activities in order, then the gateways and their paths.

Textual BPMN Description:

Process: Invoice Approval Workflow

**Activities:**
1. **Receive Invoice (Accounts Payable):** Invoice is received via email or other means.
2. **Check PO Number (Accounts Payable):** Verify if the invoice has a valid purchase order number.
3. **Send Invoice to Supplier Requesting PO (Accounts Payable):** If no PO, return invoice to supplier with request for PO.
4. **Log Invoice into System (Accounts Payable):** Record invoice details in the accounting system.
5. **Forward Invoice to Purchasing (Accounts Payable):** Send invoice to Purchasing for confirmation.
6. **Receive Invoice (Purchasing):** Purchasing receives the invoice from AP.
7. **Compare Invoice with PO (Purchasing):** Check if invoice details match the PO and goods/services were received.
8. **Contact Supplier/AP to Resolve Discrepancy (Purchasing, Supplier Relationship Manager):** Resolve pricing/quantity issues; if unresolved, escalate to Rita.
9. **Confirm Receipt and PO Match (Purchasing):** Send confirmation to AP after validation.
10. **Send Confirmation to AP (Purchasing):** Notification sent to AP.
11. **Receive Confirmation (Accounts Payable):** AP receives confirmation from Purchasing.
12. **Match Line Items (Accounts Payable):** Verify line items match PO and received goods/services.
13. **Contact Purchasing to Clarify Discrepancy (Accounts Payable):** Seek clarification on line item discrepancies.
14. **Escalate to Supervisor (Accounts Payable):** If unresolved, escalate to Rita.
15. **Resolve Exception (Accounts Payable Supervisor, Supplier Relationship Manager):** Rita coordinates resolution with suppliers or departments.
16. **Manager Approval Request (Department Manager):** Invoice is routed for manager approval.
17. **Approve Invoice (Department Manager):** Manager approves if all checks pass.
18. **Reject Invoice (Department Manager):** Manager rejects if issues remain unresolved.
19. **Schedule Payment (Accounts Payable):** Approved invoices are scheduled for payment.

**Gateways (Decision Points):**

**Gateway 1: Check PO Number (After Activity 2)**
- **Condition:** Invoice has a valid PO?
  - **Yes ** Proceed to Activity 4 (Log Invoice).
  - **No ** Proceed to Activity 3 (Send to Supplier), then **End Process**.

**Gateway 2: Compare Invoice with PO (After Activity 7)**
- **Condition:** Do invoice details match the PO?
  - **Match ** Proceed to Activity 9 (Confirm).
  - **Discrepancy ** Proceed to Activity 8 (Resolve Discrepancy).

**Gateway 3: Match Line Items (After Activity 12)**
- **Condition:** Do line items match PO and received goods?
  - **Match ** Proceed to Activity 16 (Manager Approval).
  - **Discrepancy ** Proceed to Activity 13 (Contact Purchasing).

**Gateway 4: Manager Approval (After Activity 16)**
- **Condition:** Is the invoice approved by the manager?
  - **Approved ** Proceed to Activity 19 (Schedule Payment).
  - **Rejected ** Proceed to Activity 18 (Reject Invoice), then **End Process**.

**Exception Handling Paths:**

- **Path A (Discrepancy in Gateway 2):**
  - Activity 8 (Resolve Discrepancy) may involve:
    - Quick resolution  Proceed to Activity 9 (Confirm).
    - Unresolved  Proceed to Activity 14 (Escalate to Rita).
      - Activity 15 (Resolve Exception):
        - Resolved  Proceed to Activity 16 (Manager Approval).
        - Unresolved  Proceed to Gateway 4 (Manager Approval), where rejection is likely.

- **Path B (Discrepancy in Gateway 3):**
  - Activity 13 (Contact Purchasing) may resolve the issue  Proceed to Activity 16.
  - Unresolved  Proceed to Activity 14 (Escalate to Rita).
    - Activity 15 (Resolve Exception):
      - Resolved  Proceed to Activity 16.
      - Unresolved  Proceed to Activity 18 (Reject).

- **Path C (Escalation to Rita):**
  - Rita (Activity 15) may involve Supplier Relationship Manager (Karen) for supplier communication.

**Roles and Artifacts:**
- **Key Roles:**
  - Accounts Payable (Mary): Primary handler from receipt to forwarding and line item checks.
  - Purchasing (Dan): Validates PO and goods receipt.
  - Department Manager (Carlos): Final approver.
  - Accounts Payable Supervisor (Rita): Handles exceptions and escalations.
  - Supplier Relationship Manager (Karen): Assists in resolving supplier-related discrepancies.

- **Artifacts/Inputs/Outputs:**
  - **Input:** Invoice document, Purchase Order (PO) number, system records.
  - **Output:** Approved invoices for payment, rejection notices, confirmation emails.

**Notes on Uncertainties/Conflicts:**
- The exact point at which Rita intervenes in discrepancies between AP and Purchasing is not fully specified but inferred from interviews. Rita’s role is to mediate unresolved issues.
- The process for resubmitting invoices after rejection or PO addition is not detailed; rejected invoices (Activity 18) are assumed to terminate the process unless manually restarted.
- Karen’s involvement is primarily in supplier communication but does not directly handle system approvals.
- Timeframes for resolving discrepancies are not provided, so no timers are included.

This textual model captures the main flow, key decision points, roles, and exception handling based on the interview data. It consolidates conflicting accounts by indicating alternative paths (e.g., escalation to Rita) and notes uncertainties where interview details are incomplete.

</think>


### BPMN-like Textual Process Model: Invoice Approval Workflow  

---

#### **Process Overview**  
This model captures the invoice approval process as described by stakeholders from Accounts Payable, Purchasing, and Management. It includes core activities, decision points, roles, and exception handling.  

---

#### **Activities**  
1. **Receive Invoice (Accounts Payable)**  
   - *Description:* Invoice is received via email or system upload.  
   - *Trigger:* Invoice arrival.  

2. **Check PO Number (Accounts Payable)**  
   - *Description:* Verify if the invoice references a valid purchase order (PO).  

3. **Send Invoice to Supplier Requesting PO (Accounts Payable)**  
   - *Description:* If no PO is present, invoice is returned to the supplier with a request for a PO.  

4. **Log Invoice into System (Accounts Payable)**  
   - *Description:* Invoice details are recorded in the accounting system.  

5. **Forward Invoice to Purchasing (Accounts Payable)**  
   - *Description:* Invoice is sent to Purchasing for validation.  

6. **Receive Invoice (Purchasing)**  
   - *Description:* Purchasing receives the invoice from Accounts Payable.  

7. **Compare Invoice with PO (Purchasing)**  
   - *Description:* Validate invoice details (pricing, quantities) against the PO and confirm goods/services were received.  

8. **Contact Supplier/AP to Resolve Discrepancy (Purchasing, Supplier Relationship Manager)**  
   - *Description:* Resolve mismatches (e.g., pricing errors) by contacting the supplier or Accounts Payable.  

9. **Confirm Receipt and PO Match (Purchasing)**  
   - *Description:* Purchasing confirms invoice validity and sends confirmation to Accounts Payable.  

10. **Send Confirmation to AP (Purchasing)**  
    - *Description:* Automated email/notification to Accounts Payable.  

11. **Receive Confirmation (Accounts Payable)**  
    - *Description:* AP acknowledges confirmation from Purchasing.  

12. **Match Line Items (Accounts Payable)**  
    - *Description:* Cross-check invoice line items against the PO and delivery records.  

13. **Contact Purchasing to Clarify Discrepancy (Accounts Payable)**  
    - *Description:* AP seeks clarification on unresolved line-item mismatches.  

14. **Escalate to Supervisor (Accounts Payable)**  
    - *Description:* If unresolved, escalate to the Accounts Payable Supervisor (Rita).  

15. **Resolve Exception (Accounts Payable Supervisor, Supplier Relationship Manager)**  
    - *Description:* Rita coordinates with Purchasing, Karen, or suppliers to resolve issues (e.g., missing POs, pricing disputes).  

16. **Manager Approval Request (Department Manager)**  
    - *Description:* Invoice is routed to the Department Manager for final approval.  

17. **Approve Invoice (Department Manager)**  
    - *Description:* Manager approves if all checks pass.  

18. **Reject Invoice (Department Manager)**  
    - *Description:* Invoice is rejected due to unresolved issues (e.g., fraud, budget overruns).  

19. **Schedule Payment (Accounts Payable)**  
    - *Description:* Approved invoices are added to the payment queue.  

---

#### **Gateways (Decision Points)**  
**Gateway 1: PO Validation (After Activity 2)**  
- *Condition:* Does the invoice have a valid PO?  
  - **Yes ** Proceed to Activity 4 (*Log Invoice*).  
  - **No ** Proceed to Activity 3 (*Send to Supplier*), then **End Process**.  

**Gateway 2: PO/Invoice Match (After Activity 7)**  
- *Condition:* Do invoice details match the PO?  
  - **Match ** Proceed to Activity 9 (*Confirm*).  
  - **Discrepancy ** Proceed to Activity 8 (*Resolve Discrepancy*).  

**Gateway 3: Line-Item Match (After Activity 12)**  
- *Condition:* Do line items match the PO and delivery records?  
  - **Match ** Proceed to Activity 16 (*Manager Approval*).  
  - **Discrepancy ** Proceed to Activity 13 (*Contact Purchasing*).  

**Gateway 4: Manager Approval (After Activity 16)**  
- *Condition:* Is the invoice approved by the manager?  
  - **Approved ** Proceed to Activity 19 (*Schedule Payment*).  
  - **Rejected ** Proceed to Activity 18 (*Reject Invoice*), then **End Process**.  

---

#### **Exception Handling Paths**  
1. **Unresolved Discrepancy in Gateway 2 (Purchasing Step):**  
   - Activity 8 (*Resolve Discrepancy*) may involve:  
     - Quick resolution  Proceed to Activity 9 (*Confirm*).  
     - Unresolved  Proceed to Activity 14 (*Escalate to Rita*).  
       - Activity 15 (*Resolve Exception*):  
         - Resolved  Proceed to Activity 16 (*Manager Approval*).  
         - Unresolved  Proceed to Gateway 4 (*Manager Approval*), leading to rejection (Activity 18).  

2. **Unresolved Discrepancy in Gateway 3 (AP Line-Item Step):**  
   - Activity 13 (*Contact Purchasing*) may resolve the issue  Proceed to Activity 16.  
   - Unresolved  Proceed to Activity 14 (*Escalate to Rita*).  
     - Activity 15 (*Resolve Exception*):  
       - Resolved  Proceed to Activity 16.  
       - Unresolved  Proceed to Activity 18 (*Reject*).  

3. **Supplier Communication (Involves Supplier Relationship Manager):**  
   - Karen (Supplier Relationship Manager) assists in resolving supplier-related issues during Activities 8 and 15.  

---

#### **Roles and Artifacts**  
- **Key Roles:**  
  - **Accounts Payable (Mary):** Handles receipt, PO checks, and line-item validation.  
  - **Purchasing (Dan):** Validates POs and confirms goods receipt.  
  - **Department Manager (Carlos):** Final approver.  
  - **Accounts Payable Supervisor (Rita):** Manages exceptions and escalations.  
  - **Supplier Relationship Manager (Karen):** Mediates supplier disputes.  

- **Artifacts:**  
  - **Inputs:** Invoice document, PO number, delivery receipts.  
  - **Outputs:** Approved invoices for payment, rejection notices, confirmation emails.  

---

#### **Notes on Uncertainties**  
1. **Resubmission Process:** The model assumes rejected invoices (Activity 18) terminate the process. Resubmission workflows are not specified in interviews.  
2. **Rita’s Involvement:** Rita’s exact intervention point in AP-Purchasing conflicts is inferred but not explicitly detailed.  
3. **Karen’s Scope:** Karen does not directly interact with the system; involvement is limited to supplier communication.  
4. **Timing:** No time-based triggers (e.g., SLAs) are mentioned in interviews.  

--- 

This model consolidates interview data into a structured workflow, highlighting dependencies, exceptions, and role responsibilities. It can be visualized as a BPMN diagram using standard symbols for activities (rectangles), gateways (diamonds), and roles/artifacts.