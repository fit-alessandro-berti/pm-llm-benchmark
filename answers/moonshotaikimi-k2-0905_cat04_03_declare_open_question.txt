Imagine you walk into a branch and ask for a € 250 000 mortgage.  
From the moment the clerk clicks “Create new loan file” every subsequent keystroke is governed by the little rule engine shown above.  
Below is a “walk-through” of that invisible rule engine, translated into the language of risk officers, auditors, regulators and, ultimately, the customer.

--------------------------------------------------------------------
1.  The “front door” – where compliance starts
--------------------------------------------------------------------
existence  Receive_Application  (A)  support = 1.0  
init  Receive_Application  

- The system will not let any other activity be logged until A has been registered.  
- Practically: the moment your on-line form is submitted, a time-stamp is written and a
  legally binding “start of business relationship” record is created (GDPR, BCBS 239,
  local consumer-credit laws).

absence  Proceed_Without_Compliance  (Z)  support = 1.0  

- The rule is used as a *negative* control.  If any user tries to short-circuit a
  mandatory step (say, skip the credit check) the workflow engine raises
  “Activity Z attempted” – which is *forbidden*.  
- Internally this is the “compliance kill-switch” required by prudential regulators
  (e.g. ECB Guide to Internal Models, Art. 178 CRR).

--------------------------------------------------------------------
2.  One-shot gate – the credit check
--------------------------------------------------------------------
exactly_one  Preliminary_Credit_Check  (B)

- No file can leave the front-office until the credit bureau pull is done, and you
  cannot repeat it later to “improve” the score.  
- Business goal: prevent *score shopping* (multiple pulls until a lucky number
  appears) – a key conduct-risk finding in 2022 MiFID inspections.

response  A  B  

- The pull must be executed *after* the application is received, never before.  
- Guarantees that the bank does not run “pro-active” checks on people who never
  asked for credit (privacy, GDPR Art. 6-1-b).

--------------------------------------------------------------------
3.  Paper-work loop – documents and quality
--------------------------------------------------------------------
succession  B  C  

- Only *after* the credit check may the bank ask for additional papers.  
- Rational: do not over-demand documents from obviously unqualified applicants
  (treating-customers-fairly rule, UK FCA CONC 7).

coexistence  C  F  

- The two tasks must appear in the *same* case – you cannot authorise a contract
  if you never collected the documents, and once you collect them you must
  eventually decide (no “zombie” files).  
- Drives the KPI “days to decision” and keeps the pipeline clean for Basel
  reporting (non-performing exposure starts counting once documents are complete).

altsuccession  C  E  

- After documents arrive they are *immediately* queued for quality assurance, but
  QA can also request *another* round of documents.  
- The “alt” prefix models the *iteration* without forcing a strict loop; auditors
  love it because it shows the bank *acknowledges* rework without hiding it.

--------------------------------------------------------------------
4.  The “back-office diamond” – offer preparation & approval
--------------------------------------------------------------------
responded_existence  D  E  

- If an offer package is ever assembled, a QA review must *at some point* exist.  
- Guarantees the “four-eyes principle” mandated by EBA Guidelines on Internal
  Governance (2017).

precedence  E  F  

- Contract terms can be authorised only *after* QA review.  
- Prevents the commercial officer from sending out an unchecked offer – a typical
  source of mis-selling claims.

chainprecedence  F • B  

- A cute *chainsuccession* shortcut: the *authorisation* event is *immediately*
  preceded by the *preliminary* credit check.  
- In IT terms: the authorisation screen is greyed out until the B-event time-stamp
  is present; no re-pull is allowed (see exactly_one above).

--------------------------------------------------------------------
5.  Payout – the moment of truth
--------------------------------------------------------------------
chainresponse  D • G  

- The *instant* the loan offer is assembled the funds transfer job is queued.  
- In practice the queue is date-driven (value date = customer signing + 10 days),
  but the rule guarantees no manual mis-routing.

altresponse  G  H  

- Every successful disbursement is *eventually* reported to the customer.  
- Regulatory root: Consumer Credit Directive (EU 2008/48) Art. 10 – consumer must
  receive “adequate explanations”.

noncoexistence  G  A  

- A sanity check: you can *not* have a disbursement event in the *same* case
  without an application event.  
- Blocks the classic fraud pattern where a rogue employee creates a *loan* file
  directly in the disbursement system.

--------------------------------------------------------------------
6.  Regulatory storyline that explains the “100 % confidence”
--------------------------------------------------------------------
All constraints carry support = 1.0, confidence = 1.0.  
That is *not* academic optimism; it is the *target* state the bank committed to
its supervisor in the “Internal Control self-assessment” (ICAAP).  
Each rule is hard-coded in the workflow engine; exceptions trigger a *blocking*
incident that is automatically reported to the central compliance data lake.  
Therefore the historic log used to mine the model contained *zero* violations –
hence the perfect support figures.  
In other words: the model is *not* a description of what *usually* happens, it
is a *digital twin* of the control framework the regulator has signed off.

--------------------------------------------------------------------
7.  Business goals that shaped the rule set
--------------------------------------------------------------------
- Conduct risk & mis-selling fines: by chaining QA  Offer  Authorise the bank
  proves that *every* customer offer was reviewed by an independent credit risk
  officer.  
- Anti-money-laundering: the “no payout before application” and the mandatory
  document collection create an immutable origination trail requested by FATF
  Recommendation 10.  
- Capital adequacy: the “exactly-one” credit check guarantees that the
  Probability-of-Default attached to the loan is based on the *same* score that
  was used in the IRB model, keeping RWA consistent.  
- Operational risk: the absence of activity Z is the key control used to
  calculate the “frequency” factor in the Advanced Measurement Approach (AMA)
  loss model; every prevented violation reduces expected loss.

--------------------------------------------------------------------
8.  Take-away for the customer
--------------------------------------------------------------------
When the bank says “Your loan is being processed”, the sentence is shorthand for  
“Your file is currently traversing an invisible maze of 17 DECLARE constraints;  
each step is time-stamped, tamper-proof and automatically reported to the
regulator, so the quoted rate and the eventual payout are fully traceable and
legally enforceable.”  
That maze is exactly the JSON you started with – a formalised promise that
fairness, prudence and transparency are not marketing slogans but executable
code.