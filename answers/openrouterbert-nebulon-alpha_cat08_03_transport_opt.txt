# **Process Mining Approach for Speedy Parcels: Optimizing Last-Mile Delivery Operations**

## **1. Process Discovery and Conformance Checking**

### **1.1 Data Preprocessing and Integration**
To create a cohesive event log suitable for process mining, we must integrate data from **GPS trackers, driver scanners, dispatch systems, and maintenance logs** into a unified format. The key steps include:

#### **Data Cleaning & Harmonization**
- **Timestamp Alignment:** Ensure all events share a consistent timezone and granularity (e.g., seconds).
- **Case ID Definition:** Use **Vehicle-Day** (e.g., `V12-20241205`) as the primary case identifier, linking all events for a single vehicle’s shift.
- **Activity Standardization:**
  - **GPS Events:** Classify into `Depart Depot`, `Arrive Depot`, `In Transit`, `Idle`, `Low Speed Detected`, `Unscheduled Stop`.
  - **Scanner Events:** Map to `Arrive Customer`, `Delivery Success`, `Delivery Failed`, `Depart Customer`.
  - **Dispatch Events:** Include `Route Assigned`, `Package Loaded`.
  - **Maintenance Events:** Tag as `Scheduled Maintenance` or `Unscheduled Repair`.
- **Location Mapping:** Convert GPS coordinates into meaningful locations (e.g., `Depot`, `Customer X`, `Traffic Hotspot Y`).
- **Attribute Enrichment:**
  - Add **planned vs. actual route** comparisons.
  - Include **traffic conditions** (e.g., peak hours, road closures) from external APIs.
  - Flag **failed deliveries** and **re-delivery attempts**.

#### **Challenges in Data Integration**
- **Data Silos:** GPS, scanner, and dispatch systems may use different schemas.
- **Missing Events:** GPS pings may drop in tunnels or low-signal areas.
- **Ambiguous Events:** "Low Speed Detected" could mean traffic, parking, or a delivery stop.
- **Temporal Gaps:** Scanner events may not align perfectly with GPS timestamps.
- **Driver Behavior Variability:** Some drivers may not scan packages consistently.

**Solution:**
- Use **fuzzy matching** to align timestamps.
- Apply **interpolation** for missing GPS data.
- Define **business rules** (e.g., "If speed = 0 for >5 min near a customer location, classify as `Arrive Customer`").
- Validate data with **domain experts** (e.g., dispatchers, drivers).

---

### **1.2 Process Discovery**
Using **process mining algorithms** (e.g., **Inductive Miner, Heuristics Miner, or Fuzzy Miner**), we visualize the **actual delivery process** from the event log.

#### **Expected Process Model**
A typical last-mile delivery process should follow:
1. **Start Shift** (Depot)
2. **Route Assigned** (Dispatch)
3. **Depart Depot** (GPS)
4. **In Transit** (GPS)
5. **Arrive Customer** (Scanner)
6. **Delivery Attempt** (Scanner: Success/Failure)
7. **Depart Customer** (Scanner)
8. **Repeat for all stops**
9. **Return to Depot** (GPS)
10. **End Shift** (Driver Log)

#### **Deviations to Identify**
- **Unplanned Stops:** Engine warnings, traffic jams, detours.
- **Sequence Violations:** Skipping stops, backtracking.
- **Idle Time:** Excessive waiting at customer locations.
- **Failed Deliveries:** Leading to re-delivery attempts.
- **Overtime:** Extended shifts due to delays.

**Tools:** **Disco (Fluxicon), Celonis, PM4Py, or ProM** for visualization.

---

### **1.3 Conformance Checking**
We compare the **discovered process** against the **planned routes** from the dispatch system using **conformance checking techniques** (e.g., **alignments, token replay**).

#### **Types of Deviations to Detect**
| **Deviation Type**          | **Example** | **Impact** |
|-----------------------------|------------|------------|
| **Sequence Deviations**     | Driver skips Stop 3 and goes to Stop 4 first. | Increases travel time, may violate time windows. |
| **Unplanned Stops**         | Engine warning forces a 30-min unscheduled stop. | Delays subsequent deliveries. |
| **Timing Mismatches**       | Planned: 10 min between stops. Actual: 25 min. | Indicates traffic, parking issues, or slow service. |
| **Failed Deliveries**       | Customer not home  re-delivery next day. | Increases costs, reduces efficiency. |
| **Route Detours**           | Driver takes a longer path due to road closures. | Higher fuel consumption. |
| **Idle Time**               | Vehicle stationary for 15+ min at a stop. | Wasted fuel, driver inefficiency. |

**Tools:** **Celonis Conformance Checker, ProM’s Alignment Plugin**.

---

## **2. Performance Analysis and Bottleneck Identification**

### **2.1 Key Performance Indicators (KPIs)**
We define **data-driven KPIs** to measure efficiency and punctuality:

| **KPI** | **Calculation** | **Why It Matters** |
|---------|----------------|-------------------|
| **On-Time Delivery Rate** | % of deliveries completed within customer time window. | Directly impacts customer satisfaction. |
| **Average Time per Stop** | (Total service time) / (Number of stops). | High values indicate inefficiencies. |
| **Travel Time vs. Service Time Ratio** | (Time in transit) / (Time at customer locations). | High ratio suggests poor routing. |
| **Fuel Consumption per km/Package** | (Total fuel used) / (Distance traveled / Packages delivered). | Measures cost efficiency. |
| **Vehicle Utilization Rate** | (Time in transit + service time) / (Total shift time). | Low utilization = wasted resources. |
| **Failed Delivery Rate** | % of deliveries requiring re-attempts. | Increases operational costs. |
| **Traffic Delay Frequency** | % of trips with "Low Speed Detected" events. | Identifies congestion hotspots. |
| **Maintenance Downtime** | (Unscheduled repair time) / (Total operational time). | Affects fleet availability. |

**Data Sources:**
- **GPS:** Travel time, speed, idle time.
- **Scanner:** Service time, failed deliveries.
- **Dispatch:** Planned vs. actual routes.
- **Maintenance Logs:** Downtime, repair frequency.

---

### **2.2 Bottleneck Identification Techniques**
We use **process mining techniques** to pinpoint inefficiencies:

#### **A. Process Variant Analysis**
- Compare **high-performing** (fast, on-time) vs. **low-performing** (delayed, high fuel use) routes.
- **Example:** If Route A has 90% on-time deliveries vs. Route B’s 60%, analyze differences in:
  - **Traffic patterns** (peak vs. off-peak).
  - **Driver behavior** (speed, idle time).
  - **Customer density** (urban vs. suburban).

#### **B. Performance Spectrum Analysis**
- Visualize **time spent per activity** (e.g., driving, parking, customer interaction).
- **Example:** If "Arrive Customer  Delivery Success" takes **5 min on average but 15 min in 20% of cases**, investigate:
  - **Parking difficulties** (urban areas).
  - **Customer interaction delays** (e.g., signatures, questions).

#### **C. Social Network Analysis (SNA)**
- Identify **driver performance clusters**:
  - **Top performers:** Fast, low idle time.
  - **Struggling drivers:** Frequent delays, high fuel use.
- **Example:** If Driver X consistently has **20% longer service times**, they may need training.

#### **D. Spaghetti Diagrams (Route Visualization)**
- Overlay **actual vs. planned routes** on a map.
- **Example:** If drivers frequently **deviate from planned routes**, investigate:
  - **Traffic congestion** (real-time vs. static routing).
  - **Driver shortcuts** (may save time but increase risk).

#### **E. Root Cause Clustering**
- Group delays by:
  - **Time of day** (morning vs. evening rush).
  - **Location** (specific neighborhoods with parking issues).
  - **Vehicle type** (older vans may break down more).
  - **Driver** (inexperienced vs. veteran).

**Tools:** **Celonis Process Explorer, Disco Performance Dashboard, Python (PM4Py + Folium for maps).**

---

## **3. Root Cause Analysis for Inefficiencies**

### **Potential Root Causes & Process Mining Validation**

| **Inefficiency** | **Possible Root Cause** | **Process Mining Validation** |
|------------------|------------------------|-------------------------------|
| **Late Deliveries** | Suboptimal route planning (static vs. dynamic). | Compare **planned vs. actual routes** for delays. |
| **High Fuel Consumption** | Traffic congestion, aggressive driving, idle time. | Analyze **speed patterns, idle events, route deviations**. |
| **Long Service Times** | Parking difficulties, customer unavailability. | Measure **dwell time at stops** (Arrive  Depart). |
| **Failed Deliveries** | Poor time window management, customer not home. | Correlate **failed deliveries with time of day**. |
| **Vehicle Breakdowns** | Lack of predictive maintenance. | Check **maintenance logs vs. usage patterns**. |
| **Driver Variability** | Skill differences, route familiarity. | Compare **KPIs across drivers** (e.g., time per stop). |
| **Overtime Costs** | Unplanned stops, traffic, failed deliveries. | Analyze **shift end times vs. planned hours**. |

### **Key Analyses to Validate Root Causes**
1. **Variant Analysis:**
   - Compare **top 10% vs. bottom 10% of routes** by on-time performance.
   - **Example:** If top routes avoid **high-traffic zones at 8-9 AM**, adjust schedules.

2. **Traffic Impact Analysis:**
   - Overlay **GPS speed data with traffic APIs** (e.g., Google Maps, HERE).
   - **Example:** If **Route X has 30% more "Low Speed" events on Mondays**, reroute.

3. **Dwell Time Analysis:**
   - Measure **time between "Arrive Customer" and "Depart Customer"**.
   - **Example:** If **urban stops take 50% longer**, investigate parking.

4. **Failed Delivery Patterns:**
   - Check **time of day, location, and customer type** (residential vs. commercial).
   - **Example:** If **failed deliveries peak at 12-2 PM**, adjust time windows.

5. **Maintenance Correlation:**
   - Link **unscheduled stops** to **vehicle age, mileage, and driver behavior**.
   - **Example:** If **Vehicle Y breaks down 3x more than others**, prioritize maintenance.

---

## **4. Data-Driven Optimization Strategies**

### **Strategy 1: Dynamic Routing with Real-Time Traffic & Process Mining Insights**
**Targeted Inefficiency:**
- **Late deliveries due to static routing.**
- **High fuel consumption from traffic delays.**

**Root Cause:**
- Planned routes do not account for **real-time traffic, road closures, or parking difficulties**.
- **Process mining shows 25% of delays occur in 5 high-congestion zones.**

**Solution:**
- **Integrate real-time traffic data** (e.g., Google Maps API, Waze) with **historical process mining insights**.
- **Adjust routes dynamically** based on:
  - **Traffic conditions** (avoid jams).
  - **Parking availability** (prioritize stops with easy access).
  - **Failed delivery risk** (reschedule high-risk stops).
- **Use machine learning** to predict **optimal stop sequences** based on:
  - **Time of day** (rush hour vs. off-peak).
  - **Customer density** (urban vs. suburban).
  - **Driver performance** (some drivers handle certain areas better).

**Expected Impact:**
| **KPI** | **Before** | **After** | **Improvement** |
|---------|-----------|----------|----------------|
| On-Time Delivery Rate | 75% | 90% | **+15%** |
| Fuel Consumption per km | 0.12 L/km | 0.10 L/km | **-17%** |
| Travel Time vs. Service Time Ratio | 1.8 | 1.3 | **-28%** |

**Implementation:**
- **Phase 1:** Pilot with **10% of routes**, compare against control group.
- **Phase 2:** Full rollout with **driver feedback loop**.
- **Phase 3:** Continuous monitoring via **process mining dashboards**.

---

### **Strategy 2: Predictive Maintenance Based on Vehicle Usage Patterns**
**Targeted Inefficiency:**
- **Unscheduled breakdowns causing delays.**
- **High maintenance costs from reactive repairs.**

**Root Cause:**
- **Process mining reveals:**
  - **30% of unscheduled stops are due to engine warnings.**
  - **Older vehicles (5+ years) break down 4x more often.**
  - **Aggressive driving (high RPM, sudden braking) correlates with breakdowns.**

**Solution:**
- **Develop a predictive maintenance model** using:
  - **GPS data** (speed, idle time, harsh acceleration).
  - **Maintenance logs** (past failures, mileage).
  - **Driver behavior** (aggressive vs. smooth driving).
- **Schedule maintenance proactively** based on:
  - **Usage patterns** (e.g., vehicles in high-traffic areas wear faster).
  - **Predicted failure risk** (e.g., "Vehicle X has 80% chance of brake failure in 2 weeks").
- **Optimize maintenance windows** to **minimize downtime** (e.g., during low-demand periods).

**Expected Impact:**
| **KPI** | **Before** | **After** | **Improvement** |
|---------|-----------|----------|----------------|
| Maintenance Downtime | 8% | 3% | **-62%** |
| Unscheduled Stops | 12% of trips | 4% of trips | **-67%** |
| Vehicle Utilization Rate | 78% | 85% | **+9%** |

**Implementation:**
- **Phase 1:** Retrofit **telematics devices** on high-risk vehicles.
- **Phase 2:** Train **maintenance team on predictive alerts**.
- **Phase 3:** Integrate with **dispatch system** to avoid assigning high-risk vehicles to critical routes.

---

### **Strategy 3: Time Window Optimization & Customer Communication to Reduce Failed Deliveries**
**Targeted Inefficiency:**
- **High failed delivery rate (15%).**
- **Re-delivery attempts increase costs and delays.**

**Root Cause:**
- **Process mining shows:**
  - **Failed deliveries peak at 12-2 PM (lunchtime).**
  - **Residential areas have 2x higher failure rates than commercial.**
  - **Customers with "flexible" time windows are more likely to be unavailable.**

**Solution:**
- **Optimize time windows** using:
  - **Historical delivery success rates** (e.g., avoid 12-2 PM for residential).
  - **Customer behavior data** (e.g., some customers are always home after 5 PM).
- **Improve customer communication:**
  - **SMS/email alerts** 30 min before delivery.
  - **Self-service rescheduling** for missed deliveries.
  - **Incentivize "preferred delivery slots"** (e.g., discounts for choosing 3-5 PM).
- **Dynamic re-routing for failed deliveries:**
  - If a delivery fails, **reassign to the next available driver** instead of waiting for the next day.

**Expected Impact:**
| **KPI** | **Before** | **After** | **Improvement** |
|---------|-----------|----------|----------------|
| Failed Delivery Rate | 15% | 5% | **-67%** |
| Re-delivery Costs | $50,000/month | $15,000/month | **-70%** |
| On-Time Delivery Rate | 75% | 85% | **+13%** |

**Implementation:**
- **Phase 1:** A/B test **time window adjustments** in one region.
- **Phase 2:** Roll out **customer communication tools** (SMS, app).
- **Phase 3:** Integrate with **dispatch system** for real-time re-routing.

---

## **5. Considering Operational Constraints & Continuous Monitoring**

### **5.1 Accounting for Operational Constraints**
| **Constraint** | **Impact on Optimization** | **Mitigation Strategy** |
|---------------|---------------------------|------------------------|
| **Driver Working Hours** | Dynamic routing must respect **shift limits (e.g., 8-10 hours).** | - **Cap maximum route duration.** <br> - **Prioritize high-priority stops early.** |
| **Vehicle Capacity** | Routes must not exceed **weight/volume limits.** | - **Use dispatch system to enforce capacity constraints.** <br> - **Optimize package loading sequence.** |
| **Customer Time Windows** | Deliveries must align with **promised slots.** | - **Penalize time window violations in routing algorithm.** <br> - **Offer incentives for flexible windows.** |
| **Traffic Regulations** | Some roads may have **time-of-day restrictions.** | - **Integrate traffic rules into routing engine.** <br> - **Avoid restricted zones during peak hours.** |
| **Driver Familiarity** | Some drivers perform better in **certain areas.** | - **Assign routes based on driver expertise.** <br> - **Rotate drivers to improve adaptability.** |

---

### **5.2 Continuous Monitoring with Process Mining Dashboards**
To ensure **sustainable improvements**, we implement a **real-time process mining dashboard** tracking:

#### **A. Key Metrics Dashboard**
| **Metric** | **Visualization** | **Purpose** |
|------------|------------------|------------|
| **On-Time Delivery Rate** | Trend line (daily/weekly). | Monitor punctuality improvements. |
| **Failed Delivery Rate** | Heatmap by time/location. | Identify high-risk areas. |
| **Fuel Consumption per km** | Bar chart by vehicle/driver. | Detect inefficiencies. |
| **Average Time per Stop** | Box plot by route. | Spot outliers. |
| **Unscheduled Stops** | Pareto chart (top reasons). | Prioritize maintenance. |

#### **B. Process Compliance Dashboard**
- **Actual vs. Planned Route Deviations** (map overlay).
- **Idle Time Hotspots** (heatmap).
- **Driver Performance Comparison** (ranking by KPIs).

#### **C. Predictive Alerts**
- **Traffic Delay Warnings** (e.g., "Route X has 80% chance of delay").
- **Maintenance Alerts** (e.g., "Vehicle Y needs brake inspection in 1 week").
- **Failed Delivery Risk** (e.g., "Customer Z has 60% chance of being unavailable").

#### **D. Feedback Loop for Continuous Improvement**
1. **Weekly Review Meetings:**
   - Analyze **dashboard trends** with dispatchers and drivers.
   - Discuss **root causes of new bottlenecks**.
2. **Driver Training:**
   - **Personalized coaching** based on performance data.
   - **Gamification** (e.g., rewards for top performers).
3. **Route Optimization Updates:**
   - **Monthly rebalancing** of delivery territories.
   - **Seasonal adjustments** (e.g., holiday traffic patterns).

---

## **Conclusion**
By applying **process mining** to Speedy Parcels’ last-mile delivery operations, we can:
1. **Discover inefficiencies** in routing, driver behavior, and maintenance.
2. **Validate root causes** through data-driven analyses.
3. **Implement targeted optimizations** (dynamic routing, predictive maintenance, time window management).
4. **Monitor continuously** to ensure sustainable improvements.

**Expected Outcomes:**
- **15-25% improvement in on-time deliveries.**
- **10-20% reduction in fuel and maintenance costs.**
- **30-50% decrease in failed deliveries.**
- **Higher driver satisfaction and customer retention.**

**Next Steps:**
1. **Pilot the approach** on a subset of routes.
2. **Refine models** based on real-world feedback.
3. **Scale optimizations** across the entire fleet.
4. **Expand to predictive analytics** (e.g., demand forecasting, dynamic pricing).

This **data-driven, process-centric approach** ensures that Speedy Parcels can **compete effectively in the last-mile delivery market** while **reducing costs and improving service quality**.