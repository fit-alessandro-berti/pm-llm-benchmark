Section 1: Process Discovery and Conformance Checking

1.1 Data integration and preprocessing
Goal: Build a cohesive, analysis-ready event log with consistent cases, activities, timestamps, and attributes.

a) Case notion and hierarchy
- Primary case = Vehicle-Day (e.g., V12-20241205). This supports end-to-end operational analysis (shift start to shift end).
- Secondary case = Package (Package ID). Use a multi-dimensional or hierarchical log so we can switch views: vehicle-day flow vs. per-package flow.
- Tertiary case = Vehicle (for maintenance over time) and Driver-Day (for behavior and performance).

b) Event schema harmonization
- Minimum fields: Case ID, Activity name, Timestamp, Resource (Driver ID and/or Vehicle ID), Location (lat/lon or zone), Event source, Additional attributes (speed, fuel if available, planned time window, planned route order, planned dwell, package size/weight, capacity, road segment ID).
- Normalize timestamps to a single timezone; ensure clock synchronization across systems (NTP offsets).
- Create canonical activities across sources:
  - Depot process: Start Shift, Route Assigned, Depart Depot, Arrive Depot, End Shift.
  - Travel: Driving, Low Speed/Traffic Jam, Unscheduled Stop.
  - Customer service: Arrive Customer, Delivery Success, Delivery Failed, Depart Customer.
  - Maintenance: Scheduled Maintenance Start/End, Unscheduled Repair, Engine Warning Detected.
- Derive composite events when needed (e.g., “Travel segment” between geo-stamped scanner events using GPS points).

c) Event correlation and enrichment
- Link scanner events to GPS-derived nearest stop by time and proximity; snap to road network if available. Use a max matching window (e.g., ±10 min, 200 m) and tie-breakers by planned sequence from dispatch.
- Join dispatch plan to create planned timestamps, planned stop order, package list per route, time windows, vehicle capacity. Keep both planned and actual attributes.
- Link maintenance logs to vehicle-day cases when overlap occurs; create events that interrupt the route.
- Derive segments and metrics:
  - Travel segments: from Depart X to Arrive Y; compute distance, avg speed, idle time, expected travel time vs. actual; associate with road segments or zones.
  - Service segments: Arrive Customer to Depart Customer; compute dwell; label success/failure and reason code; check time-window compliance (early/on-time/late).
  - Idle and parking detection from GPS: speed=0 or < threshold outside customer dwell.
  - Unplanned stops: zero-speed or ignition-off not aligned to known customer or depot/maintenance location.

d) Data quality challenges and mitigation
- Missing/duplicate events: deduplicate by (timestamp, source, vehicle) and smooth GPS noise; interpolate missing points cautiously.
- Clock drift across devices: detect offsets via cross-events (e.g., Arrive Customer on scanner vs. GPS stop); apply systematic corrections.
- Inconsistent IDs: driver swaps mid-route; reconcile using closest match by time and vehicle assignment records.
- Granularity mismatch: GPS high-frequency vs. scanner event-level; aggregate GPS into segments to avoid event explosion.
- Ambiguous stops (multi-tenant buildings): use geofencing with a tolerance radius; backfill using planned address coordinates.
- Data volume: partition by day/region; use parquet storage and scalable processing (Spark/Dask) before importing to process mining tool.

1.2 Process discovery
- Use flexible discovery algorithms: Inductive Miner (IMf/IMd) for a sound model; Heuristics Miner for frequency-focused view; Fuzzy Miner for complex variability.
- Separate models for:
  - Vehicle-day flow: Depot  Travel/Deliveries/Unplanned Stops/Maintenance  Depot.
  - Package flow: Depot scan  Out for delivery  Arrive  Success/Fail  Return or re-delivery.
- Include performance overlays:
  - Median/percentile durations on edges for travel and service.
  - Waiting/idle times at hotspots.
- Create activity clusters:
  - Travel (by zone/segment).
  - Service Success vs. Failure.
  - Maintenance events during route.
  - Traffic-congestion events (low speed).
- Variant analysis:
  - Common route patterns vs. variants with detours, extra stops, or out-of-sequence deliveries.

1.3 Conformance checking vs. plan
- Align actual to planned sequences using trace alignment:
  - Conformance metrics: fitness, precision, move-on-model (planned but not executed), move-on-log (executed but unplanned).
- Deviation types to detect:
  - Sequence deviations: out-of-order deliveries versus planned order.
  - Unplanned stops: non-customer stops > threshold time.
  - Skipped/added deliveries or rescheduled same-day.
  - Timing deviations: travel times vs. ETA, dwell times vs. standard, early/late relative to time windows.
  - Capacity violations: loading beyond capacity; route load vs. weight/volume constraints.
  - Route adherence: divergence from planned path (map-matched path distance difference).
  - Shift/labor deviations: overtime, breaks not compliant.
- Quantify deviations:
  - Frequency and impact on KPI (e.g., late delivery rate increase if sequence deviation > n positions).
  - Root-causing deviations by driver, vehicle, route, zone, time-of-day, weather/traffic conditions.


Section 2: Performance Analysis and Bottleneck Identification

2.1 KPIs and calculations
- On-Time Delivery Rate (OTD): count of deliveries with Delivery Success timestamp within customer time window / total deliveries.
- Average Time per Stop: mean(Depart Customer - Arrive Customer).
- Travel vs. Service Ratio: total travel time / total service time per vehicle-day; benchmark by zone and route type.
- Fuel Consumption per km / per package: join telematics fuel or estimate via speed/idle model and distance; fuel per package = total fuel / delivered packages.
- Vehicle Utilization Rate: time in productive travel/service / shift time; also capacity utilization (delivered weight/volume vs. capacity).
- Traffic Delay Frequency/Duration: count and duration of low-speed segments below threshold vs. free-flow baseline for same segment/time-of-day.
- Failed Delivery Rate: failures / total attempts; also repeat attempt rate.
- Overtime Rate: overtime minutes / shift minutes; overtime per route type.
- Unplanned Stop Rate and Duration.
- Maintenance Disruption: frequency and duration of maintenance events during shifts; MTBF/MTTR per vehicle.
- Re-sequencing Deviation Score: average absolute difference between planned and actual stop order.
- First Attempt Success Rate per time window segment and building type.

2.2 Techniques to identify bottlenecks
- Performance annotation on discovered model: highlight edges/nodes with high mean/95th percentile durations.
- Heat maps by geography/time: grid or road-segment heat map of travel delays and idle hotspots; time-of-day/week patterns.
- Queueing/wait analysis at customer stops: detect parking search time (Arrive area by GPS vs. Arrive Customer scan) using pre-arrival low-speed radius.
- Driver and vehicle benchmarking: boxplots of dwell, travel speed adherence, idle ratios; control charts to flag unusual days.
- Route/variant comparison: contrast top 10 route variants by OTD and cost; identify which patterns correlate with poor performance.
- Bottleneck quantification:
  - Impact on OTD: what portion of late deliveries pass through hotspot segments or long dwell categories.
  - Cost impact: additional fuel from detours/idling; expected savings if removed (scenario analysis).
- Cycle time decomposition: shift time = depot ops + travel + service + idle/parking + unplanned + maintenance; show contributions by factor for different clusters.


Section 3: Root Cause Analysis for Inefficiencies

Potential root causes and how to validate with process mining:

a) Suboptimal route planning
- Symptoms: high re-sequencing deviations, long deadhead segments, crisscrossing paths.
- Analysis: compare planned vs. actual sequence cost; what-if re-optimization using historical travel matrices; check if drivers routinely re-order to avoid traffic/time windows (suggests plan not congestion-aware).

b) Inaccurate travel time estimation
- Symptoms: systematic lateness in specific corridors/times.
- Analysis: build time-dependent travel time profiles per road segment and hour-of-week; compare planned ETA vs. actual; measure forecast bias and MAPE.

c) Traffic congestion patterns
- Symptoms: recurrent low-speed segments.
- Analysis: correlate delay frequency with external traffic feeds or internal low-speed events; construct congestion calendars; cluster delays by time and zone.

d) High variability in service time
- Symptoms: wide dwell time distribution by customer type.
- Analysis: dwell time by building type, parcel count/size, floor/elevator indicators (if available), signature requirement; detect outliers; estimate service-time models.

e) Vehicle reliability issues
- Symptoms: engine warning, unscheduled stops mid-route, high MTTR/low MTBF vehicles.
- Analysis: survival analysis for breakdown probability vs. odometer, age, load, stop-start frequency; link disruptions to late deliveries and overtime.

f) Driver behavior differences
- Symptoms: variability in idle time, speed compliance, parking search time, adherence to plan.
- Analysis: driver-level KPIs normalized for route difficulty; mixed-effects models to separate driver effect from route/traffic; variant analysis by driver.

g) Failed delivery dynamics
- Symptoms: high failure clusters by time-of-day or customer segment; repeated attempts.
- Analysis: time-window compliance vs. customer presence patterns; first-attempt success by hour/weekday; effect of pre-arrival notifications.

h) Parking and access constraints
- Symptoms: long pre-arrival low-speed near dense areas.
- Analysis: detect parking search via GPS speed near customer; tag addresses with chronic parking delays.

These analyses combine event-level performance overlays, conformance alignment, statistical modeling, and variant comparisons to validate root causes quantitatively.


Section 4: Data-Driven Optimization Strategies

Strategy 1: Time-dependent dynamic routing and ETA recalibration
- Target bottleneck: Late deliveries due to congestion and inaccurate travel time estimates; sequence deviations.
- Root cause: Plans not time-dependent; static ETA assumptions; drivers re-sequence on the fly.
- Data support: Time-of-day segment travel profiles show systematic underestimation; high move-on-log deviations; hotspots recurring by hour.
- Action:
  - Build time-dependent, road-segment travel time matrix from GPS data; include recurring congestion calendars.
  - Recompute planned routes with constraints (capacity, time windows, breaks) using VRPTW with time-dependent travel times.
  - Deploy mid-route re-optimization triggers when predicted lateness exceeds threshold; provide driver app guidance and live ETA updates.
- Expected KPI impact:
  - OTD: +5–15% in congested zones.
  - Travel vs. Service Ratio: reduce travel time 5–10%.
  - Fuel per km/package: -3–8% from fewer detours/idling.
  - Re-sequencing deviation: down significantly; improved conformance.

Strategy 2: Service-time informed stop scheduling and micro-time windows
- Target bottleneck: High dwell variability causing cascading lateness.
- Root cause: Service times vary by customer type and parcel attributes; plans assume uniform dwell.
- Data support: Dwell model shows building type, parcel count, and signature requirements explain variance; long-tail addresses identified.
- Action:
  - Predict dwell per stop using historical features; integrate into routing (VRPTW with service-time estimates).
  - Assign micro-time-window buffers for long-dwell stops; schedule them at slack-friendly positions.
  - Pre-arrival communication tailored to likely long-service addresses (e.g., request elevator access, instructions).
  - Parking guidance: preload recommended parking spots for chronic addresses.
- Expected KPI impact:
  - OTD: +3–10%.
  - Average Time per Stop: reduce variance; 95th percentile dwell -10–20%.
  - Overtime: -5–10%.
  - Failed deliveries: slight improvement due to better presence alignment.

Strategy 3: Predictive maintenance and vehicle assignment optimization
- Target bottleneck: Unscheduled stops, mid-route breakdowns, high maintenance cost.
- Root cause: Wear patterns linked to stop-start density, age, past warnings; reactive maintenance.
- Data support: Hazard models show higher breakdown risk after N starts/day and specific error codes; certain vehicles have low MTBF.
- Action:
  - Train predictive model using maintenance logs + usage patterns; schedule maintenance proactively during low-demand windows.
  - Assign low-reliability vehicles to shorter/near-depot routes until remediated.
  - In-cab early warning workflows: route to nearby depot or swap hub before failure risk window.
- Expected KPI impact:
  - Maintenance disruptions: -30–50%.
  - OTD: +2–5% (avoid route interruption).
  - Fuel per km: marginal -1–3% (healthier vehicles).
  - Vehicle utilization: +3–6%.

Strategy 4: First-attempt success uplift via dynamic contact and time-window reshaping
- Target bottleneck: Failed deliveries leading to re-delivery costs.
- Root cause: Mismatch between customer availability and stop timing; insufficient communication.
- Data support: Failure rates spike at specific hours/segments; success improves when arrivals align with evening windows.
- Action:
  - Offer adjustable micro-windows based on predicted arrival and customer preference; dynamic SMS with live ETA and reschedule option.
  - Prioritize addresses with high failure risk into windows with higher presence probability (learned from history).
  - For multi-tenant buildings, integrate locker/drop-off options when allowed.
- Expected KPI impact:
  - Failed Delivery Rate: -20–40%.
  - Fuel per package and travel time: -5–12% due to fewer re-attempts.
  - OTD: +2–6%.

Strategy 5: Driver coaching and assistive guidance
- Target bottleneck: Excess idle, parking search, non-adherence to optimal sequence.
- Root cause: Behavior differences, local heuristics, incomplete information.
- Data support: Driver-level benchmarking shows significant spread after controlling for route difficulty; specific micro-behaviors (idling, harsh acceleration).
- Action:
  - Personalized coaching focused on parking practices, sequence adherence, and idling reduction; simulate savings on their historic routes.
  - In-app navigation to suggested parking spots and building entrances; highlight “time sink” addresses.
  - Incentives tied to normalized KPIs (OTD, idle ratio adjusted for route mix).
- Expected KPI impact:
  - Idle time: -10–20%.
  - Fuel per km: -3–7%.
  - OTD: +1–3%.

(Implement at least three of the above; combinations amplify gains.)

Section 5: Considering Operational Constraints and Monitoring

5.1 Constraints handling
- Labor rules: Encode maximum shift length, breaks, overtime thresholds into VRPTW solver; conformance checks for violations; dashboards showing break adherence.
- Vehicle capacities: Respect weight/volume constraints in route plans; prevent ad-hoc overload by aligning dispatch with scanner check at loading; monitor capacity utilization.
- Customer time windows: Treat as hard or soft with penalties; minimize soft-window violations; scenario runs to trade-off OTD vs. cost.
- Service level agreements: Prioritize premium time windows in optimization; alert if mid-route re-optimization risks SLA breach.
- Depot and cut-off times: Include dock constraints and departure windows; pre-sort waves sequenced to optimized routes.
- Safety and speed policies: Include legal speed limits and company policies in ETA models; detect non-compliance separately from optimization.

5.2 Continuous monitoring plan
Dashboards and alerts (updated daily and intra-day where applicable):
- OTD and lateness breakdown by route, zone, and time-of-day; trend lines and weekly cohorts.
- Travel vs. Service time ratio; idle/parking search time; geographic heatmaps of delay hotspots.
- Conformance: sequence deviation score, unplanned stop rate and top causes; move-on-model/log rates.
- Fuel and emissions per km/package; idling minutes; harsh events if available.
- Failed delivery metrics: first-attempt success, repeat attempts, reasons; impact on next-day backlog.
- Maintenance: MTBF/MTTR by vehicle, predicted risk flags, disruptions per 1,000 km.
- Driver benchmarking: normalized KPIs with fair-mix adjustment; coaching progress.
- Capacity/utilization: vehicle load utilization, stop density per route.
- A/B test panels: show KPI deltas for routes using dynamic routing vs. control; statistical significance indicators.

Governance and cadence
- Weekly ops review: hotspot list, top 5 bottlenecks, owner and remediation plan.
- Monthly model refresh: retrain travel-time and dwell models; recalibrate ETA bias.
- Feedback loop: capture driver/customer feedback into features (e.g., access notes improve dwell predictions).
- Alerting: real-time notifications for predicted SLA breaches, clustering of congestion, or vehicle risk.

Implementation toolchain
- Data platform: scalable ETL (Spark), parquet data lake; geospatial processing (H3, OSRM/GraphHopper).
- Process mining: tools like Celonis/Apromore/PM4Py for discovery, conformance, and performance overlays.
- Optimization: VRPTW with time-dependent costs (OR-Tools, commercial solvers); API-driven re-optimization.
- MLOps: travel-time and dwell-time models (gradient boosting), maintenance survival models; monitored drift.

Outcome
By integrating and aligning multi-source events, discovering the actual operational flows, checking conformance to plan, and targeting the quantified root causes with dynamic routing, service-time-aware scheduling, predictive maintenance, better customer coordination, and driver coaching, Speedy Parcels can measurably improve on-time delivery, reduce fuel and overtime, and stabilize maintenance costs. Continuous monitoring ensures gains are sustained and refined over time.