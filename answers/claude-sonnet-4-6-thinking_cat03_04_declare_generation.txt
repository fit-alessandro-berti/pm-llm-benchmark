# DECLARE Model for Product Design and Launch Process

## Reasoning Through the Constraints

Before building the dictionary, let me reason about the key process rules:

| Constraint Type | Rationale |
|---|---|
| `existence` | Every activity must appear at least once |
| `exactly_one` | IG, AG, FL each happen exactly once per process |
| `init` | The process always starts with Idea Generation |
| `response` | The process flows forward (e.g., IG  DD  TFC/CE  PC  …) |
| `precedence` | Later activities require earlier ones to have happened |
| `succession` | Strong ordering along the main flow |
| `coexistence` | TFC & CE are both mandatory; LT & UT are both mandatory |
| `chainsuccession` | Immediate consecutiveness (LTUT, AGMP, MPFL) |
| `nonsuccession` | Nothing follows Final Launch |
| `nonchainsuccession` | FL cannot be the immediate successor of early activities |

---

```python
declare_model = {

    # ------------------------------------------------------------------ #
    #  UNARY CONSTRAINTS                                                   #
    # ------------------------------------------------------------------ #

    # Every activity must occur at least once in every valid process trace
    'existence': {
        'IG':  {'support': 1.0, 'confidence': 1.0},
        'DD':  {'support': 1.0, 'confidence': 1.0},
        'TFC': {'support': 1.0, 'confidence': 1.0},
        'CE':  {'support': 1.0, 'confidence': 1.0},
        'PC':  {'support': 1.0, 'confidence': 1.0},
        'LT':  {'support': 1.0, 'confidence': 1.0},
        'UT':  {'support': 1.0, 'confidence': 1.0},
        'AG':  {'support': 1.0, 'confidence': 1.0},
        'MP':  {'support': 1.0, 'confidence': 1.0},
        'FL':  {'support': 1.0, 'confidence': 1.0},
    },

    # No activity is permanently forbidden in this process
    'absence': {},

    # These milestone activities must occur exactly once per trace
    'exactly_one': {
        'IG': {'support': 1.0, 'confidence': 1.0},   # One idea kick-off
        'AG': {'support': 1.0, 'confidence': 1.0},   # One approval gate
        'FL': {'support': 1.0, 'confidence': 1.0},   # One product launch
    },

    # Every trace must start with Idea Generation
    'init': {
        'IG': {'support': 1.0, 'confidence': 1.0},
    },

    # ------------------------------------------------------------------ #
    #  BINARY EXISTENCE CONSTRAINTS                                        #
    # ------------------------------------------------------------------ #

    # If A occurs, B must also occur somewhere in the trace (order free)
    'responded_existence': {
        ('IG',  'DD'):  {'support': 1.0, 'confidence': 1.0},  # IG triggers DD
        ('DD',  'TFC'): {'support': 1.0, 'confidence': 1.0},  # Design needs feasibility check
        ('DD',  'CE'):  {'support': 1.0, 'confidence': 1.0},  # Design needs cost evaluation
        ('TFC', 'PC'):  {'support': 1.0, 'confidence': 1.0},  # Feasibility triggers prototype
        ('CE',  'PC'):  {'support': 1.0, 'confidence': 1.0},  # Cost eval triggers prototype
        ('PC',  'LT'):  {'support': 1.0, 'confidence': 1.0},  # Prototype triggers lab test
        ('LT',  'UT'):  {'support': 1.0, 'confidence': 1.0},  # Lab test triggers user test
        ('UT',  'AG'):  {'support': 1.0, 'confidence': 1.0},  # User test triggers approval gate
        ('AG',  'MP'):  {'support': 1.0, 'confidence': 1.0},  # Approval triggers marketing plan
        ('AG',  'FL'):  {'support': 1.0, 'confidence': 1.0},  # Approval triggers final launch
        ('MP',  'FL'):  {'support': 1.0, 'confidence': 1.0},  # Marketing plan triggers launch
    },

    # A and B must either both appear or both be absent in the trace
    'coexistence': {
        ('TFC', 'CE'): {'support': 1.0, 'confidence': 1.0},  # Technical & cost checks are paired
        ('LT',  'UT'): {'support': 1.0, 'confidence': 1.0},  # Lab and user tests are paired
        ('AG',  'FL'): {'support': 1.0, 'confidence': 1.0},  # Approval always leads to launch
        ('MP',  'FL'): {'support': 1.0, 'confidence': 1.0},  # Marketing and launch are paired
    },

    # ------------------------------------------------------------------ #
    #  ORDERING CONSTRAINTS                                                #
    # ------------------------------------------------------------------ #

    # If A occurs, B must occur at some point AFTER A
    'response': {
        ('IG',  'DD'):  {'support': 1.0, 'confidence': 1.0},
        ('DD',  'TFC'): {'support': 1.0, 'confidence': 1.0},
        ('DD',  'CE'):  {'support': 1.0, 'confidence': 1.0},
        ('TFC', 'PC'):  {'support': 1.0, 'confidence': 1.0},
        ('CE',  'PC'):  {'support': 1.0, 'confidence': 1.0},
        ('PC',  'LT'):  {'support': 1.0, 'confidence': 1.0},
        ('LT',  'UT'):  {'support': 1.0, 'confidence': 1.0},
        ('UT',  'AG'):  {'support': 1.0, 'confidence': 1.0},
        ('AG',  'MP'):  {'support': 1.0, 'confidence': 1.0},
        ('MP',  'FL'):  {'support': 1.0, 'confidence': 1.0},
    },

    # B can only occur if A has occurred BEFORE it
    'precedence': {
        ('IG',  'DD'):  {'support': 1.0, 'confidence': 1.0},
        ('DD',  'TFC'): {'support': 1.0, 'confidence': 1.0},
        ('DD',  'CE'):  {'support': 1.0, 'confidence': 1.0},
        ('TFC', 'PC'):  {'support': 1.0, 'confidence': 1.0},
        ('CE',  'PC'):  {'support': 1.0, 'confidence': 1.0},
        ('PC',  'LT'):  {'support': 1.0, 'confidence': 1.0},
        ('LT',  'UT'):  {'support': 1.0, 'confidence': 1.0},
        ('UT',  'AG'):  {'support': 1.0, 'confidence': 1.0},
        ('AG',  'MP'):  {'support': 1.0, 'confidence': 1.0},
        ('AG',  'FL'):  {'support': 1.0, 'confidence': 1.0},
        ('MP',  'FL'):  {'support': 1.0, 'confidence': 1.0},
    },

    # Combines response + precedence: A  B are strictly ordered
    'succession': {
        ('IG',  'DD'):  {'support': 1.0, 'confidence': 1.0},
        ('DD',  'TFC'): {'support': 1.0, 'confidence': 1.0},
        ('DD',  'CE'):  {'support': 1.0, 'confidence': 1.0},
        ('TFC', 'PC'):  {'support': 1.0, 'confidence': 1.0},
        ('CE',  'PC'):  {'support': 1.0, 'confidence': 1.0},
        ('PC',  'LT'):  {'support': 1.0, 'confidence': 1.0},
        ('LT',  'UT'):  {'support': 1.0, 'confidence': 1.0},
        ('UT',  'AG'):  {'support': 1.0, 'confidence': 1.0},
        ('AG',  'MP'):  {'support': 1.0, 'confidence': 1.0},
        ('MP',  'FL'):  {'support': 1.0, 'confidence': 1.0},
    },

    # ------------------------------------------------------------------ #
    #  ALTERNATING CONSTRAINTS                                             #
    # ------------------------------------------------------------------ #

    # Every A must be followed by B before A may recur
    'altresponse': {
        ('PC', 'LT'): {'support': 1.0, 'confidence': 1.0},  # Each prototype  lab test
        ('LT', 'UT'): {'support': 1.0, 'confidence': 1.0},  # Each lab test  user test
        ('UT', 'AG'): {'support': 1.0, 'confidence': 1.0},  # Each user test  approval
        ('AG', 'MP'): {'support': 1.0, 'confidence': 1.0},  # Each approval  marketing plan
        ('MP', 'FL'): {'support': 1.0, 'confidence': 1.0},  # Each marketing plan  launch
    },

    # Every B must be preceded by A with no other B in between
    'altprecedence': {
        ('TFC', 'PC'): {'support': 1.0, 'confidence': 1.0},  # Every PC needs a fresh TFC
        ('CE',  'PC'): {'support': 1.0, 'confidence': 1.0},  # Every PC needs a fresh CE
        ('LT',  'UT'): {'support': 1.0, 'confidence': 1.0},  # Every UT needs a fresh LT
        ('UT',  'AG'): {'support': 1.0, 'confidence': 1.0},  # Every AG needs a fresh UT
        ('AG',  'MP'): {'support': 1.0, 'confidence': 1.0},  # Every MP needs a fresh AG
        ('MP',  'FL'): {'support': 1.0, 'confidence': 1.0},  # Every FL needs a fresh MP
    },

    # Combines altresponse + altprecedence (strict alternation)
    'altsuccession': {
        ('PC', 'LT'): {'support': 1.0, 'confidence': 1.0},  # PC  LT strictly alternate
        ('LT', 'UT'): {'support': 1.0, 'confidence': 1.0},  # LT  UT strictly alternate
        ('UT', 'AG'): {'support': 1.0, 'confidence': 1.0},  # UT  AG strictly alternate
        ('AG', 'MP'): {'support': 1.0, 'confidence': 1.0},  # AG  MP strictly alternate
        ('MP', 'FL'): {'support': 1.0, 'confidence': 1.0},  # MP  FL strictly alternate
    },

    # ------------------------------------------------------------------ #
    #  CHAIN (IMMEDIATE) CONSTRAINTS                                       #
    # ------------------------------------------------------------------ #

    # A must be IMMEDIATELY followed by B (no events in between)
    'chainresponse': {
        ('PC', 'LT'): {'support': 1.0, 'confidence': 1.0},  # Prototype directly into lab
        ('LT', 'UT'): {'support': 1.0, 'confidence': 1.0},  # Lab test directly into user test
        ('AG', 'MP'): {'support': 1.0, 'confidence': 1.0},  # Approval directly into marketing
        ('MP', 'FL'): {'support': 1.0, 'confidence': 1.0},  # Marketing plan directly into launch
    },

    # B must be IMMEDIATELY preceded by A (no events in between)
    'chainprecedence': {
        ('PC', 'LT'): {'support': 1.0, 'confidence': 1.0},  # LT may only follow PC directly
        ('LT', 'UT'): {'support': 1.0, 'confidence': 1.0},  # UT may only follow LT directly
        ('AG', 'MP'): {'support': 1.0, 'confidence': 1.0},  # MP may only follow AG directly
        ('MP', 'FL'): {'support': 1.0, 'confidence': 1.0},  # FL may only follow MP directly
    },

    # Combines chainresponse + chainprecedence (immediate bidirectional)
    'chainsuccession': {
        ('PC', 'LT'): {'support': 1.0, 'confidence': 1.0},  # PC  LT are always consecutive
        ('LT', 'UT'): {'support': 1.0, 'confidence': 1.0},  # LT  UT are always consecutive
        ('AG', 'MP'): {'support': 1.0, 'confidence': 1.0},  # AG  MP are always consecutive
        ('MP', 'FL'): {'support': 1.0, 'confidence': 1.0},  # MP  FL are always consecutive
    },

    # ------------------------------------------------------------------ #
    #  NEGATIVE CONSTRAINTS                                                #
    # ------------------------------------------------------------------ #

    # A and B must never both appear in the same trace
    'noncoexistence': {
        # All activities are expected; no mutual exclusions in this process
    },

    # A must never be eventually followed by B (process does not loop back)
    'nonsuccession': {
        ('FL', 'IG'):  {'support': 1.0, 'confidence': 1.0},  # No restart after launch
        ('FL', 'DD'):  {'support': 1.0, 'confidence': 1.0},  # No redesign after launch
        ('FL', 'TFC'): {'support': 1.0, 'confidence': 1.0},  # No re-check after launch
        ('FL', 'CE'):  {'support': 1.0, 'confidence': 1.0},  # No re-costing after launch
        ('FL', 'PC'):  {'support': 1.0, 'confidence': 1.0},  # No new prototype after launch
        ('FL', 'LT'):  {'support': 1.0, 'confidence': 1.0},  # No lab test after launch
        ('FL', 'UT'):  {'support': 1.0, 'confidence': 1.0},  # No user test after launch
        ('FL', 'AG'):  {'support': 1.0, 'confidence': 1.0},  # No re-approval after launch
    },

    # A must never be IMMEDIATELY followed by B
    'nonchainsuccession': {
        ('IG', 'FL'): {'support': 1.0, 'confidence': 1.0},  # Cannot jump IG  FL
        ('IG', 'AG'): {'support': 1.0, 'confidence': 1.0},  # Cannot jump IG  AG
        ('DD', 'FL'): {'support': 1.0, 'confidence': 1.0},  # Cannot jump DD  FL
        ('DD', 'AG'): {'support': 1.0, 'confidence': 1.0},  # Cannot jump DD  AG
        ('TFC','FL'): {'support': 1.0, 'confidence': 1.0},  # Cannot jump TFC  FL
        ('CE', 'FL'): {'support': 1.0, 'confidence': 1.0},  # Cannot jump CE  FL
        ('PC', 'FL'): {'support': 1.0, 'confidence': 1.0},  # Cannot jump PC  FL
        ('LT', 'FL'): {'support': 1.0, 'confidence': 1.0},  # Cannot jump LT  FL
        ('UT', 'FL'): {'support': 1.0, 'confidence': 1.0},  # Cannot jump UT  FL
        ('AG', 'FL'): {'support': 1.0, 'confidence': 1.0},  # MP must sit between AG and FL
    },
}
```

---

## Summary of Constraint Coverage

```
Process backbone (strict left-to-right flow):
  IG  DD   TFC  PC  LT  UT  AG  MP  FL
              CE  

Constraint layers applied:

 existence          All 10 activities must appear            
 exactly_one        IG, AG, FL occur exactly once            
 init               IG is always first                       
 responded_exist.   Forward dependencies throughout the flow 
 coexistence        TFCCE, LTUT, AGFL, MPFL paired      
 response           Every step triggers the next             
 precedence         Every step requires its predecessors     
 succession         Bidirectional ordering on main flow      
 alt*               Strict alternation in testing/approval   
 chain*             PCLT, LTUT, AGMP, MPFL consecutive  
 nonsuccession      Nothing follows FL (process is terminal) 
 nonchainsuccession No short-circuit jumps to FL or AG       

```