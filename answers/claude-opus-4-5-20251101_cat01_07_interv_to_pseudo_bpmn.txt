# BPMN-Like Textual Process Model: Invoice Approval Process

## Process Overview
**Process Name:** Invoice Approval Process  
**Process Owner:** Accounts Payable Department  
**Trigger:** Receipt of supplier invoice (typically via email)  
**End State:** Invoice scheduled for payment OR Invoice rejected/returned

---

## Participants (Pools/Lanes)

| Lane | Role | Representative |
|------|------|----------------|
| **Accounts Payable** | AP Clerk | Mary |
| **Accounts Payable** | AP Supervisor | Rita |
| **Purchasing** | Purchasing Officer | Dan |
| **Management** | Department Manager | Carlos |
| **External** | Supplier Relationship Manager | Karen |
| **External** | Supplier | (External Party) |

---

## Process Flow Description

### **START EVENT**
- **Event:** Invoice Received
- **Trigger:** Invoice arrives via email from supplier
- **Lane:** Accounts Payable (Clerk)

---

### **TASK 1: Check for Valid Purchase Order Number**
- **Performer:** AP Clerk (Mary)
- **Input:** Incoming Invoice
- **Description:** Verify whether the invoice contains a valid PO reference number
- **Output:** Validation result (PO present/absent)

---

### **GATEWAY 1: Exclusive Gateway (XOR) – PO Number Present?**

#### **Path A: NO – PO Number Missing**

**TASK 1A: Request PO Information from Supplier**
- **Performer:** AP Clerk (Mary)
- **Description:** Send invoice back to supplier requesting PO number or additional details
- **Output:** Request sent to supplier

**TASK 1B: Supplier Provides Information** *(May involve Supplier Relationship Manager)*
- **Performer:** Supplier (External) / Supplier Relationship Manager (Karen) if escalated
- **Description:** Supplier sends corrected/updated invoice with PO reference
- **Note:** Karen may be looped in to expedite resolution with key suppliers
- **Output:** Revised invoice with PO number

 **Loop back to TASK 1** (Re-check for valid PO)

#### **Path B: YES – PO Number Present**
 Proceed to **TASK 2**

---

### **TASK 2: Log Invoice in Accounting System**
- **Performer:** AP Clerk (Mary)
- **Input:** Invoice with valid PO number
- **Description:** Enter invoice details into the accounting system
- **Output:** Logged invoice record
- **System:** Accounting System

---

### **TASK 3: Forward Invoice to Purchasing for Goods/Services Receipt Confirmation**
- **Performer:** AP Clerk (Mary)
- **Description:** Send invoice to Purchasing department via email/system notification
- **Output:** Invoice forwarded to Purchasing Officer

---

### **TASK 4: Verify Receipt of Goods/Services and PO Match**
- **Performer:** Purchasing Officer (Dan)
- **Input:** Invoice, Purchase Order
- **Description:** Compare invoice details against PO (quantities, prices, delivery charges) and confirm goods/services were received
- **Output:** Verification result

---

### **GATEWAY 2: Exclusive Gateway (XOR) – Invoice Matches PO?**

#### **Path A: NO – Discrepancy Found**

**GATEWAY 2A: Exclusive Gateway (XOR) – Discrepancy Type?**

##### **Path A1: Minor/Resolvable Discrepancy**
**TASK 4A: Clarify Discrepancy**
- **Performer:** Purchasing Officer (Dan) and/or AP Clerk (Mary)
- **Description:** Email between AP and Purchasing to clarify issue; may contact supplier directly or request corrected invoice
- **Note:** Supplier Relationship Manager (Karen) may be involved to check contract terms or contact supplier
- **Output:** Clarification received or corrected invoice requested

**GATEWAY 2B: Exclusive Gateway (XOR) – Discrepancy Resolved?**
- **YES:**  Return to **TASK 4** or proceed to **TASK 5**
- **NO:**  Proceed to **TASK 4B (Escalation)**

##### **Path A2: Unresolvable/Complex Discrepancy**
**TASK 4B: Escalate to AP Supervisor**
- **Performer:** AP Clerk (Mary)  AP Supervisor (Rita)
- **Description:** Escalate invoice to supervisor for exception handling
- **Output:** Exception case created

**TASK 4C: Handle Exception**
- **Performer:** AP Supervisor (Rita)
- **Description:** Coordinate between departments, contact suppliers, or work with department heads. May involve:
  - Creating retrospective PO for informal service contracts
  - Deciding to reject invoice if unresolvable
- **Note:** Karen (Supplier Relationship Manager) may assist with supplier communication
- **Output:** Resolution decision

**GATEWAY 2C: Exclusive Gateway (XOR) – Exception Resolution Outcome?**
- **Resolved (Retrospective PO created or correction received):**  Return to normal flow at **TASK 4** or **TASK 5**
- **Rejected:**  Proceed to **END EVENT (Invoice Rejected)**

#### **Path B: YES – Invoice Matches PO**
**TASK 4D: Send Confirmation to Accounts Payable**
- **Performer:** Purchasing Officer (Dan)
- **Description:** Send confirmation email to AP that goods/services were received and invoice matches PO
- **Output:** Confirmation email

 Proceed to **TASK 5**

---

### **TASK 5: Match Invoice Line Items Against PO in System**
- **Performer:** AP Clerk (Mary)
- **Input:** Invoice, PO, Purchasing confirmation
- **Description:** Perform system-level matching of invoice line items to PO
- **Output:** Matched invoice ready for approval
- **System:** Accounting System

---

### **TASK 6: Send Invoice for Manager Approval**
- **Performer:** System (Automated)
- **Input:** Matched invoice with receipt confirmation
- **Description:** System sends automatic email notification to Department Manager requesting approval
- **Output:** Approval request notification
- **System:** Accounting System

---

### **TASK 7: Review and Approve/Reject Invoice**
- **Performer:** Department Manager (Carlos)
- **Input:** Invoice details, PO, Purchasing confirmation
- **Description:** Review invoice in system; verify quantities, pricing, budget alignment, and any special notes
- **Output:** Approval decision

---

### **GATEWAY 3: Exclusive Gateway (XOR) – Manager Decision?**

#### **Path A: APPROVED**
 Proceed to **TASK 8**

#### **Path B: REJECTED or HOLD FOR INVESTIGATION**
**TASK 7A: Request Investigation**
- **Performer:** Department Manager (Carlos)  AP Clerk (Mary)
- **Description:** Manager rejects or places hold on invoice, requesting further investigation
- **Note:** Occurs infrequently (approximately "once every couple of months" per Carlos)
- **Output:** Investigation request

 Return to **GATEWAY 2A** (Discrepancy handling) or **TASK 4B** (Escalation to Supervisor)

---

### **TASK 8: Schedule Invoice for Payment**
- **Performer:** AP Clerk (Mary)
- **Input:** Approved invoice
- **Description:** Add approved invoice to the next payment cycle/payment run
- **Output:** Invoice scheduled for payment
- **System:** Accounting System

---

### **END EVENTS**

| End Event | Description |
|-----------|-------------|
| **Invoice Scheduled for Payment** | Normal completion – invoice approved and queued for payment |
| **Invoice Rejected** | Exception path – invoice rejected due to unresolvable issues |
| **Invoice Returned to Supplier** | Invoice sent back for correction (loops back into process upon resubmission) |

---

## Artifacts and Data Objects

| Artifact | Description | Used In |
|----------|-------------|---------|
| **Invoice** | Supplier invoice document (received via email) | Throughout process |
| **Purchase Order (PO)** | Internal document authorizing purchase | Tasks 1, 4, 5, 7 |
| **Confirmation Email** | Receipt verification from Purchasing | Tasks 4D, 5, 6 |
| **Supplier Contract** | Agreement terms with supplier | Exception handling (Karen) |
| **Retrospective PO** | PO created after-the-fact for informal services | Exception handling (Rita) |
| **Approval Notification** | System-generated email to Manager | Task 6 |

---

## Exception Paths Summary

| Exception | Trigger | Handler | Resolution |
|-----------|---------|---------|------------|
| Missing PO Number | Invoice lacks PO reference | AP Clerk / Supplier Relationship Manager | Request corrected invoice from supplier |
| Pricing/Quantity Discrepancy | Invoice doesn't match PO | Purchasing / AP Clerk | Clarify with supplier; request correction |
| Unresolvable Discrepancy | Cannot reconcile invoice | AP Supervisor (Rita) | Escalate; create retrospective PO or reject |
| No Matching PO (Informal Service) | Services contracted without PO | AP Supervisor + Department Heads | Create retrospective PO or reject invoice |
| Manager Rejection | Suspicious amounts or unexpected items | Department Manager | Hold for investigation; may escalate |

---

## Ambiguities and Uncertainties Noted

1. **System Automation Extent:** It is unclear whether the matching in Task 5 is fully automated or requires manual verification. Mary describes it as "I match," suggesting manual involvement.

2. **Exact Timing of Supplier Contact:** When discrepancies arise, both Dan (Purchasing) and Mary (AP) may contact the supplier. The exact division of responsibility is not explicitly defined—*in some cases, Purchasing contacts the supplier directly; in others, AP handles it.*

3. **Retrospective PO Approval:** Rita mentions creating retrospective POs for informal services, but the approval workflow for these retrospective POs is not detailed.

4. **Karen's Involvement Trigger:** The Supplier Relationship Manager is involved "indirectly" when issues arise, but the formal trigger for her involvement versus direct supplier contact by AP/Purchasing is not clearly defined.

5. **Rejection Finality:** Whether a "rejected" invoice can re-enter the process after supplier correction or is permanently closed is not explicitly stated.

---

## Visual Representation Guide

```
[Start] 
     [Check for PO] 
     <PO Present?> 
        No [Request from Supplier]  (wait)  [Loop back]
        Yes [Log Invoice] 
             [Forward to Purchasing]
             [Verify Receipt & Match]
             <Matches?>
                No [Clarify/Escalate]  <Resolved?>  ...
                Yes [Confirm to AP]
                     [System Match]
                     [Auto-notify Manager]
                     [Manager Review]
                     <Approved?>
                        No [Investigate]  (loop)
                        Yes [Schedule Payment]
                             [End: Scheduled]
```

---

This textual model provides sufficient detail for conversion into a formal BPMN diagram using any standard modeling tool.