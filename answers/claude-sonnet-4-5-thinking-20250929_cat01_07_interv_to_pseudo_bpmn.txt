# BPMN-Like Textual Process Model: Invoice Approval Process

## Process Overview
This model describes the invoice approval process from invoice receipt through payment scheduling, involving multiple departments and exception-handling mechanisms.

---

## Participants/Roles
1. **Accounts Payable Clerk** (Mary) – Primary process coordinator
2. **Purchasing Officer** (Dan) – Validates receipt and PO matching
3. **Department Manager** (Carlos) – Final approver
4. **Accounts Payable Supervisor** (Rita) – Exception handler
5. **Supplier Relationship Manager** (Karen) – External liaison for supplier issues
6. **Supplier** – External party submitting invoices

---

## Process Flow

### **Start Event: Invoice Received**
- **Trigger:** Invoice arrives (typically via email)
- **Responsible:** Accounts Payable Clerk
- **Artifact:** Invoice document

---

### **Task 1: Check for Valid Purchase Order (PO) Number**
- **Responsible:** Accounts Payable Clerk (Mary)
- **Description:** Verify that the invoice contains a reference to a valid purchase order number.

**Gateway 1A: Does Invoice Have Valid PO?**

- **Condition: NO (Missing PO)**
  - **Task 1A.1:** Request PO Information from Supplier
    - **Responsible:** Accounts Payable Clerk
    - **Output:** Email/request to supplier for PO details
    - **Alternative (Exception):** If no PO exists (e.g., informal service contract):
      - **Task 1A.2:** Escalate to AP Supervisor (Rita)
      - **Task 1A.3:** Supervisor coordinates with Department Head to create retrospective PO **OR** reject invoice
      - **Output:** Either retrospective PO created  proceed to Task 2, or invoice rejected  End Process
  - **Flow:** Return to Start Event when corrected invoice is received (loop back)

- **Condition: YES (Valid PO Present)**
  - **Proceed to Task 2**

---

### **Task 2: Log Invoice in Accounting System**
- **Responsible:** Accounts Payable Clerk (Mary)
- **Description:** Enter invoice details into the accounting system with PO reference.
- **Output:** Invoice record created in system
- **Sequence Flow:** Proceed to Task 3

---

### **Task 3: Forward Invoice to Purchasing for Receipt Confirmation**
- **Responsible:** Accounts Payable Clerk (Mary)
- **Description:** Send invoice to Purchasing Department to verify that goods or services were actually received.
- **Output:** Invoice forwarded to Purchasing Officer
- **Sequence Flow:** Proceed to Task 4

---

### **Task 4: Verify Receipt and Compare Invoice to PO**
- **Responsible:** Purchasing Officer (Dan)
- **Description:** Open the PO and compare invoice details (quantities, prices, delivery charges) against the purchase order.
- **Input:** Invoice, Purchase Order
- **Sequence Flow:** Proceed to Gateway 2

**Gateway 2: Does Invoice Match PO?**

- **Condition: YES (Invoice Matches PO)**
  - **Task 4A:** Send Confirmation Email to Accounts Payable
    - **Responsible:** Purchasing Officer (Dan)
    - **Output:** Confirmation email
  - **Sequence Flow:** Proceed to Task 5

- **Condition: NO (Discrepancy Detected)**
  - **Examples:** Incorrect pricing, missing items, extra units billed, incorrect quantities
  - **Task 4B:** Clarify Discrepancy
    - **Responsible:** Accounts Payable Clerk (Mary) in coordination with Purchasing Officer (Dan)
    - **Actions:**
      - Email Purchasing team for clarification
      - Contact supplier directly (Purchasing Officer may initiate)
      - May involve Supplier Relationship Manager (Karen) to check contract terms and coordinate with supplier
    - **Sub-Gateway 2A: Can Discrepancy Be Resolved Easily?**
      - **YES:** 
        - **Task 4B.1:** Request Corrected Invoice from Supplier (if needed)
        - **Task 4B.2:** Hold invoice until corrected version received or clarification obtained
        - **Flow:** Loop back to Task 4 (re-verify) or update system and proceed to Task 5
      - **NO (Cannot be resolved easily):**
        - **Task 4C:** Escalate to AP Supervisor (Rita)
          - **Responsible:** AP Supervisor coordinates between departments and suppliers
          - **Actions:** Contact suppliers, resolve data issues, determine if invoice should proceed or be rejected
          - **Output:** Resolution decision
        - **Flow:** After resolution, loop back to Task 4 (re-verify) or proceed to Task 5

---

### **Task 5: Match Invoice Line Items Against PO in System**
- **Responsible:** Accounts Payable Clerk (Mary)
- **Description:** Perform final system-based matching of invoice line items to the confirmed PO.
- **Precondition:** Receipt confirmation received from Purchasing
- **Sequence Flow:** Proceed to Task 6

---

### **Task 6: Send Invoice to Department Manager for Approval**
- **Responsible:** Accounts Payable Clerk (Mary) / System (automated notification)
- **Description:** System generates automatic email notification to Department Manager requesting sign-off.
- **Input:** Invoice details, PO, confirmation from Purchasing
- **Output:** Approval request sent
- **Sequence Flow:** Proceed to Gateway 3

**Gateway 3: Manager Approval Decision**

- **Responsible:** Department Manager (Carlos)
- **Description:** Manager reviews invoice details, PO, and confirmation in the system.

- **Condition: APPROVE**
  - Quantities, pricing, and special notes align with budget and expectations
  - **Task 6A:** Approve Invoice in System
    - **Output:** Approval recorded
  - **Sequence Flow:** Proceed to Task 7

- **Condition: REJECT or HOLD**
  - Occurs if: Large difference in total amount vs. budget, unexpected items, suspicious details
  - **Frequency:** Approximately once every couple of months (infrequent)
  - **Task 6B:** Reject Invoice or Request Hold for Investigation
    - **Responsible:** Department Manager (Carlos) communicates decision; AP Clerk (Mary) executes hold
    - **Actions:** Mary investigates issue, potentially escalates to AP Supervisor (Rita)
  - **Flow:** After investigation and resolution, loop back to Task 4 (re-verification) or Task 6 (re-submit for approval)

---

### **Task 7: Schedule Invoice for Payment**
- **Responsible:** Accounts Payable Clerk (Mary)
- **Description:** Add approved invoice to the next payment cycle/payment run.
- **Input:** Approved invoice
- **Output:** Invoice scheduled in payment system
- **Sequence Flow:** Proceed to End Event

---

### **End Event: Payment Scheduled**
- **Description:** Invoice is queued for payment processing in the next payment cycle.
- **Note:** Actual payment execution is outside the scope of this process model.

---

## Summary of Decision Points (Gateways)

| Gateway | Question | Outcomes | Responsible |
|---------|----------|----------|-------------|
| **Gateway 1A** | Does invoice have valid PO? | YES  Log in system (Task 2)<br>NO  Request PO from supplier (Task 1A.1) or escalate for retrospective PO/rejection (Task 1A.2-1A.3) | AP Clerk |
| **Gateway 2** | Does invoice match PO? | YES  Send confirmation (Task 4A)<br>NO  Clarify discrepancy (Task 4B) | Purchasing Officer |
| **Sub-Gateway 2A** | Can discrepancy be resolved easily? | YES  Correct and re-verify (loop to Task 4)<br>NO  Escalate to Supervisor (Task 4C) | AP Clerk / Purchasing Officer |
| **Gateway 3** | Manager approval decision | APPROVE  Schedule payment (Task 7)<br>REJECT/HOLD  Investigate and loop back (Task 6B) | Department Manager |

---

## Key Data Objects/Artifacts

1. **Invoice** – Primary input document, flows through entire process
2. **Purchase Order (PO)** – Reference document for validation
3. **Confirmation Email** – Evidence of receipt verification from Purchasing
4. **Approval Notification** – System-generated request to Manager
5. **Corrected Invoice** – Revised document from supplier (when applicable)

---

## Exception Handling & Variations

1. **Missing PO at Receipt:**
   - Invoice returned to supplier for PO information
   - If no PO can be provided (informal contract), escalated to AP Supervisor to create retrospective PO or reject invoice

2. **Invoice-PO Discrepancy:**
   - Minor discrepancies: Resolved via email clarification between AP, Purchasing, and potentially Supplier Relationship Manager
   - Major discrepancies: Escalated to AP Supervisor for cross-department coordination
   - May require corrected invoice from supplier (loop back to start or re-verification)

3. **Manager Rejection:**
   - Infrequent (~once every couple months)
   - Triggers investigation by AP Clerk, possibly involving AP Supervisor
   - After resolution, re-enters approval flow

4. **Supplier Relationship Manager Involvement:**
   - Invoked when supplier communication or contract interpretation is needed
   - Does not directly approve but facilitates resolution (e.g., confirms correct pricing per contract, requests revised invoices)

---

## Notes and Ambiguities

- **Retrospective PO Process:** The exact steps for creating a retrospective PO are not fully detailed. Rita works with department heads, but the specific approval or documentation steps are unclear.
- **Payment Execution:** The model ends at payment scheduling. The actual payment disbursement process is not covered in these interviews.
- **System Automation:** The system appears to automate certain notifications (e.g., to the Manager for approval), but the degree of automation in matching and validation is not fully specified.
- **Frequency of Exceptions:** Most invoices follow the main path. Discrepancies and rejections are exceptions rather than the norm.

---

## Process Diagram Summary (High-Level)

```
[Start: Invoice Received]
        
[Task 1: Check PO Number]
        
   <Gateway 1A: Valid PO?>
    /           \
  NO            YES
                
[Request PO]   [Task 2: Log Invoice]
                
[Escalate if   [Task 3: Forward to Purchasing]
 no PO exists]  
              [Task 4: Verify Receipt & Match PO]
[Create         
 Retro PO      <Gateway 2: Match?>
 or Reject]    /          \
            NO           YES
[End/Loop]                
           [Clarify]    [Task 4A: Confirm]
                          
         <Sub-Gateway:   [Task 5: Match in System]
          Resolved?>      
          /      \       [Task 6: Send to Manager]
        YES      NO       
                      <Gateway 3: Approve?>
    [Correct] [Escalate] /            \
                     YES             NO
       [Loop]  [Resolve]              
                     [Task 7:      [Investigate
               [Loop] Schedule       & Loop]
                      Payment]
                        
                   [End: Payment Scheduled]
```

---

## Conclusion

This textual BPMN-like model consolidates the accounts from all five interviewees into a coherent process flow. The main path proceeds from invoice receipt  PO validation  logging  purchasing confirmation  matching  manager approval  payment scheduling. Exception paths handle missing POs, discrepancies, and rejections through escalation to supervisors and coordination with suppliers. The model highlights roles, decision points, data objects, and loops, providing a foundation for creating a formal BPMN diagram.