# **Process Mining Approach for Speedy Parcels: Optimizing Last-Mile Delivery Operations**

## **1. Process Discovery and Conformance Checking**

### **1.1 Data Preprocessing and Integration**
To create a cohesive event log suitable for process mining, we must integrate data from **GPS trackers, driver scanners, dispatch systems, and maintenance logs** into a unified format. The key steps include:

#### **Data Cleaning & Harmonization**
- **Standardize timestamps** across all sources (e.g., ensuring GPS and scanner logs use the same timezone).
- **Resolve inconsistencies** (e.g., missing GPS pings, duplicate scanner events, or conflicting timestamps).
- **Enrich event logs** with contextual data:
  - **Geospatial data:** Convert GPS coordinates into meaningful locations (e.g., "Depot," "Customer X," "Traffic Hotspot Y").
  - **Package metadata:** Link scanner events to package IDs, delivery windows, and customer addresses.
  - **Vehicle/driver attributes:** Include vehicle type, capacity, driver experience, and maintenance history.

#### **Event Log Construction**
- **Case ID:** Use `Vehicle-Day` (e.g., `V12-20241205`) as the primary case identifier, as it represents a single vehicle’s daily route.
- **Activity mapping:**
  - **Planned activities:** "Route Assigned," "Depart Depot," "Arrive Customer," "Delivery Success," "Return to Depot."
  - **Unplanned activities:** "Low Speed Detected," "Unscheduled Stop," "Delivery Failed," "Engine Warning."
- **Attributes per event:**
  - **Time-related:** Timestamp, duration (e.g., time spent at customer location).
  - **Location-related:** GPS coordinates, distance from depot, traffic conditions.
  - **Resource-related:** Vehicle ID, driver ID, package ID.
  - **Performance-related:** Speed, idle time, fuel consumption (if available).

#### **Challenges in Data Integration**
- **Data silos:** GPS, scanner, and dispatch systems may use different formats or have missing linkages (e.g., a GPS ping may not align with a scanner event).
- **Noise in GPS data:** Signal loss, urban canyons, or incorrect speed readings due to tunnels.
- **Ambiguous events:** "Unscheduled Stop" could mean a breakdown, traffic jam, or driver break—requiring additional context.
- **Temporal granularity:** GPS data is high-frequency (e.g., every 10 seconds), while scanner events are sparse (only at key milestones).

**Solution:**
- Use **fuzzy matching** to align GPS and scanner events (e.g., matching "Arrive Customer" with the nearest GPS ping).
- Apply **outlier detection** to filter erroneous GPS data (e.g., unrealistic speeds).
- **Impute missing data** (e.g., interpolate GPS positions if signals are lost briefly).

---

### **1.2 Process Discovery**
Using **process discovery algorithms** (e.g., Inductive Miner, Heuristics Miner, or Fuzzy Miner), we can visualize the **actual delivery process** from the event log. The discovered model should include:
- **Main process flow:** Depot  Customer Stops  Return to Depot.
- **Branches for deviations:**
  - Failed deliveries ( re-attempt or return to depot).
  - Unscheduled stops ( breakdown, traffic, or driver break).
  - Low-speed segments ( traffic congestion).
- **Loops:** Multiple attempts at a single delivery.

**Example Process Model (Simplified):**
```
[Start Shift]  [Depart Depot]  (Loop: [Arrive Customer]  [Delivery Success/Fail]  [Depart Customer])
 [Unscheduled Stop?]  [Return to Depot]  [End Shift]
```

**Key Insights from Discovery:**
- **Variants:** How many different process paths exist? (e.g., routes with vs. without failed deliveries).
- **Frequency of deviations:** How often do unplanned stops or failed deliveries occur?
- **Duration analysis:** How long does each activity take on average?

---

### **1.3 Conformance Checking**
We compare the **discovered process** (actual execution) against the **planned routes** from the dispatch system to identify deviations.

#### **Types of Deviations to Detect**
| **Deviation Type**          | **Example**                                                                 | **Potential Root Cause**                          |
|-----------------------------|-----------------------------------------------------------------------------|--------------------------------------------------|
| **Sequence violations**     | Driver skips a planned stop or delivers out of order.                      | Traffic, driver error, or last-minute re-routing.|
| **Missing activities**      | A "Delivery Success" event is missing for a planned stop.                  | Failed delivery or data recording issue.         |
| **Unplanned activities**    | "Unscheduled Stop" or "Low Speed Detected" not in the planned route.       | Traffic, breakdown, or driver break.             |
| **Timing deviations**       | Arrival at a customer is 30+ minutes later than planned.                   | Traffic, long service time, or route inefficiency.|
| **Looping behavior**        | Multiple attempts at the same delivery.                                    | Customer not home, access issues.                |

**Conformance Checking Techniques:**
- **Alignment-based conformance checking:** Quantify how well the actual process aligns with the planned route (e.g., using **token-based replay**).
- **Fitness & precision metrics:**
  - **Fitness:** Does the actual process follow the planned model? (Low fitness = many deviations.)
  - **Precision:** Does the planned model allow for unnecessary flexibility? (Low precision = overgeneralized plan.)
- **Visual deviation analysis:** Highlight mismatches in a process model (e.g., red paths for unplanned stops).

**Expected Findings:**
- **High deviation rates** on certain routes  Indicates poor planning or unpredictable traffic.
- **Frequent unplanned stops**  Suggests vehicle reliability issues or driver behavior.
- **Failed deliveries clustering** in specific areas  May indicate customer availability issues.

---

## **2. Performance Analysis and Bottleneck Identification**

### **2.1 Key Performance Indicators (KPIs)**
We define KPIs aligned with Speedy Parcels’ goals (punctuality and cost reduction):

| **KPI**                          | **Calculation**                                                                 | **Why It Matters**                                                                 |
|----------------------------------|---------------------------------------------------------------------------------|-----------------------------------------------------------------------------------|
| **On-Time Delivery Rate**        | % of deliveries completed within the customer’s time window.                   | Directly impacts customer satisfaction.                                           |
| **Average Time per Delivery**    | (Total service time) / (Number of successful deliveries).                      | High values may indicate inefficiencies in parking or customer interaction.       |
| **Travel Time vs. Service Time** | (Total travel time) / (Total service time).                                    | High ratio suggests excessive driving vs. actual delivery work.                   |
| **Fuel Consumption per km**      | (Total fuel used) / (Total distance driven).                                   | High values indicate inefficient routes or aggressive driving.                    |
| **Vehicle Utilization Rate**     | (Total active hours) / (Total available hours per vehicle).                    | Low utilization suggests underused assets or poor scheduling.                     |
| **Failed Delivery Rate**         | % of deliveries requiring re-attempts.                                         | High rates increase costs and reduce efficiency.                                  |
| **Traffic Delay Frequency**      | % of trips with "Low Speed Detected" events.                                   | Identifies congestion hotspots.                                                   |
| **Maintenance Downtime**         | (Total unscheduled maintenance hours) / (Total vehicle operating hours).       | High downtime indicates reliability issues.                                       |

---

### **2.2 Bottleneck Identification Techniques**
We use **process mining performance analysis** to pinpoint inefficiencies:

#### **A. Process Map with Performance Overlays**
- **Color-code activities** by duration (e.g., red = long delays, green = efficient).
- **Highlight bottlenecks:**
  - Long **idle times** at customer locations (e.g., waiting for signatures).
  - Frequent **low-speed segments** (traffic jams).
  - **Unscheduled stops** (breakdowns or driver breaks).

#### **B. Dotted Chart Analysis**
- Plot events over time for multiple cases (e.g., all deliveries on a given day).
- **Identify patterns:**
  - **Peak congestion times** (e.g., 8-10 AM, 5-7 PM).
  - **Clusters of failed deliveries** (e.g., in residential vs. commercial areas).

#### **C. Variant Analysis**
- Compare **high-performing routes** (fast, few deviations) vs. **low-performing routes** (slow, many failed deliveries).
- **Key questions:**
  - Do certain drivers consistently perform better?
  - Are some vehicles more prone to breakdowns?
  - Do specific routes have higher traffic delays?

#### **D. Social Network Analysis (SNA)**
- Analyze **driver-vehicle interactions**:
  - Which drivers have the most failed deliveries?
  - Which vehicles have the highest maintenance needs?
- **Resource utilization:**
  - Are some vehicles overused while others sit idle?

#### **E. Geospatial Analysis**
- Overlay **GPS data on a map** to identify:
  - **Traffic hotspots** (frequent low-speed events).
  - **Parking difficulties** (long dwell times at certain locations).
  - **Optimal vs. suboptimal routes** (e.g., taking highways vs. side streets).

**Example Bottleneck Findings:**
- **Route X** has a **30% higher failed delivery rate** than average  Likely due to narrow streets or customer unavailability.
- **Driver Y** consistently takes **20% longer per delivery**  May need training on efficient parking or customer interaction.
- **Vehicle Z** has **twice the maintenance downtime**  Suggests mechanical issues or poor usage patterns.

---

## **3. Root Cause Analysis for Inefficiencies**

### **3.1 Potential Root Causes**
| **Inefficiency**               | **Possible Root Causes**                                                                 |
|--------------------------------|-----------------------------------------------------------------------------------------|
| **Late deliveries**            | - Suboptimal route planning (static vs. dynamic).                                       |
|                                | - Underestimated travel times (e.g., not accounting for traffic).                       |
|                                | - High failed delivery rates (requiring re-attempts).                                   |
|                                | - Driver behavior (e.g., excessive breaks, inefficient parking).                        |
| **High fuel costs**            | - Inefficient routes (excessive idling, backtracking).                                  |
|                                | - Aggressive driving (high speeds, rapid acceleration).                                 |
|                                | - Vehicle maintenance issues (e.g., clogged air filters).                               |
| **High maintenance costs**     | - Poor vehicle utilization (some vehicles overused, others underused).                  |
|                                | - Lack of predictive maintenance (reactive repairs instead of proactive servicing).     |
|                                | - Driver behavior (e.g., harsh braking, overloading).                                   |
| **Low vehicle utilization**    | - Poor scheduling (vehicles sitting idle during peak hours).                            |
|                                | - Inefficient route assignments (some drivers have too few stops).                      |

---

### **3.2 Process Mining Techniques for Root Cause Validation**

#### **A. Variant Analysis (High vs. Low Performers)**
- **Compare:**
  - **Top 20% of routes** (fastest, fewest failed deliveries) vs. **bottom 20%**.
  - **Key differences:**
    - Route structure (e.g., highway vs. side streets).
    - Time of day (e.g., early morning vs. rush hour).
    - Driver experience (e.g., senior vs. junior drivers).
- **Example finding:**
  - Top routes **avoid downtown areas** during peak hours  Suggests traffic is a major factor.

#### **B. Correlation Analysis**
- **Correlate delays with external factors:**
  - **Traffic data:** Do delays increase during rush hour?
  - **Weather data:** Does rain or snow slow deliveries?
  - **Customer location type:** Are residential deliveries slower than commercial?
- **Example finding:**
  - **Failed deliveries spike in apartment complexes**  Suggests access issues (e.g., no doorman, intercom problems).

#### **C. Dwell Time Analysis**
- **Break down time at customer locations:**
  - **Parking time** (finding a spot).
  - **Customer interaction time** (handing over package, getting a signature).
  - **Idle time** (waiting for customer to answer door).
- **Example finding:**
  - **30% of dwell time is spent parking**  Suggests need for better parking guidance.

#### **D. Predictive Maintenance Analysis**
- **Analyze maintenance logs vs. vehicle usage:**
  - Do breakdowns correlate with **mileage, idle time, or driver behavior**?
  - Are some vehicles **overused** (leading to more repairs)?
- **Example finding:**
  - **Vehicles with >8 hours of idle time per day** have **2x more breakdowns**  Suggests engine strain.

#### **E. Failed Delivery Root Cause Analysis**
- **Cluster failed deliveries by:**
  - **Location type** (residential vs. commercial).
  - **Time of day** (e.g., lunchtime vs. evening).
  - **Customer segment** (e.g., high-rise apartments vs. single-family homes).
- **Example finding:**
  - **60% of failed deliveries occur between 12-2 PM**  Suggests customers are at work.

---

## **4. Data-Driven Optimization Strategies**

### **Strategy 1: Dynamic Routing with Real-Time Traffic Adjustments**
**Targeted Inefficiency:**
- **Late deliveries due to traffic congestion.**
- **High fuel consumption from inefficient routes.**

**Root Cause Addressed:**
- **Static route planning** does not account for real-time traffic conditions.
- **Underestimated travel times** lead to missed delivery windows.

**Process Mining Insights Supporting This:**
- **Conformance checking** shows **30% of routes deviate due to traffic**.
- **Performance analysis** reveals **low-speed events cluster in specific areas** (e.g., downtown during rush hour).
- **Variant analysis** shows **top-performing routes avoid congested zones**.

**Implementation:**
- **Integrate real-time traffic data** (e.g., Google Maps API, Waze) into the dispatch system.
- **Use process mining to identify traffic hotspots** and adjust routes dynamically.
- **Re-optimize routes mid-shift** if delays exceed a threshold (e.g., 15+ minutes behind schedule).

**Expected Impact on KPIs:**
| **KPI**                     | **Expected Improvement**                          |
|-----------------------------|--------------------------------------------------|
| On-Time Delivery Rate       | **+15-20%** (fewer traffic-related delays).      |
| Travel Time vs. Service Time| **-10%** (less time spent in traffic).           |
| Fuel Consumption per km     | **-8%** (optimized routes reduce idling).        |

---

### **Strategy 2: Predictive Failed Delivery Prevention**
**Targeted Inefficiency:**
- **High failed delivery rate (15-20%)**, leading to re-delivery costs and customer dissatisfaction.

**Root Cause Addressed:**
- **Customers not home during delivery windows.**
- **Lack of real-time customer communication.**

**Process Mining Insights Supporting This:**
- **Failed deliveries cluster in residential areas** (60% occur between 12-2 PM).
- **Variant analysis** shows **apartment complexes have 2x higher failure rates** (likely due to access issues).
- **Dwell time analysis** reveals **30% of failed deliveries involve >5 minutes of waiting** (driver waiting for customer).

**Implementation:**
- **Customer availability prediction:**
  - Use **historical failed delivery data** to predict when customers are likely to be home.
  - **Adjust delivery windows** (e.g., shift residential deliveries to evenings).
- **Real-time customer communication:**
  - **SMS/email alerts** 30 minutes before delivery with a **1-click reschedule option**.
  - **Smart lockers** for high-failure-rate areas.
- **Driver guidance:**
  - **Prioritize deliveries with high success probability** (e.g., commercial stops first).
  - **Provide alternative drop-off options** (e.g., neighbor, parcel locker).

**Expected Impact on KPIs:**
| **KPI**                     | **Expected Improvement**                          |
|-----------------------------|--------------------------------------------------|
| Failed Delivery Rate        | **-50%** (from 15% to 7.5%).                     |
| On-Time Delivery Rate       | **+10%** (fewer re-delivery attempts).           |
| Travel Time vs. Service Time| **-5%** (less time wasted on failed attempts).   |

---

### **Strategy 3: Predictive Maintenance Based on Vehicle Usage Patterns**
**Targeted Inefficiency:**
- **High maintenance costs** (unscheduled repairs, vehicle downtime).
- **Fuel inefficiency** due to poorly maintained vehicles.

**Root Cause Addressed:**
- **Reactive maintenance** (fixing vehicles after breakdowns) is costly.
- **Lack of insight into vehicle usage patterns** (e.g., some vehicles are overused).

**Process Mining Insights Supporting This:**
- **Maintenance logs** show **vehicles with >8 hours of idle time per day have 2x more breakdowns**.
- **GPS data** reveals **some vehicles are driven more aggressively** (harsh braking, rapid acceleration).
- **Variant analysis** shows **older vehicles have 30% more unscheduled stops**.

**Implementation:**
- **Predictive maintenance dashboard:**
  - **Monitor vehicle health metrics** (idle time, harsh braking, fuel efficiency).
  - **Flag vehicles needing servicing** before breakdowns occur.
- **Usage-based maintenance scheduling:**
  - **Prioritize maintenance for high-mileage vehicles**.
  - **Rotate vehicles** to balance usage (prevent overuse of older vans).
- **Driver training:**
  - **Identify drivers with aggressive driving patterns** and provide coaching.
  - **Incentivize fuel-efficient driving** (e.g., gamification, bonuses).

**Expected Impact on KPIs:**
| **KPI**                     | **Expected Improvement**                          |
|-----------------------------|--------------------------------------------------|
| Maintenance Downtime        | **-40%** (fewer unscheduled repairs).            |
| Fuel Consumption per km     | **-10%** (better-maintained engines).            |
| Vehicle Utilization Rate    | **+5%** (less downtime, better scheduling).      |

---

## **5. Considering Operational Constraints and Monitoring**

### **5.1 Accounting for Operational Constraints**
Any optimization strategy must respect:
| **Constraint**               | **How It’s Addressed**                                                                 |
|------------------------------|---------------------------------------------------------------------------------------|
| **Driver working hours**     | - Dynamic routing **avoids overtime** by capping shift lengths.                      |
|                              | - Predictive failed delivery prevention **reduces re-delivery attempts** (less overtime). |
| **Vehicle capacity**         | - Route optimization **ensures no vehicle is overloaded**.                            |
|                              | - **Real-time load tracking** prevents capacity violations.                           |
| **Customer time windows**    | - **Dynamic routing adjusts for traffic** but still respects delivery windows.        |
|                              | - **Failed delivery prevention** ensures customers are home when deliveries arrive.   |
| **Traffic regulations**      | - **GPS-based route adjustments** avoid restricted zones (e.g., truck bans).          |

---

### **5.2 Continuous Monitoring with Process Mining Dashboards**
After implementing changes, we establish a **real-time monitoring system** to track KPIs and detect new inefficiencies.

#### **Key Dashboards:**
1. **Delivery Performance Dashboard**
   - **KPIs:** On-Time Delivery Rate, Failed Delivery Rate, Average Time per Delivery.
   - **Visualizations:**
     - **Process map with performance overlays** (e.g., red = delays, green = on time).
     - **Heatmap of traffic delays** (identify new congestion hotspots).
     - **Driver performance comparison** (identify training needs).

2. **Vehicle Health & Maintenance Dashboard**
   - **KPIs:** Maintenance Downtime, Fuel Consumption per km, Unscheduled Stop Rate.
   - **Visualizations:**
     - **Predictive maintenance alerts** (e.g., "Vehicle V12 needs servicing in 500 km").
     - **Driver behavior trends** (e.g., harsh braking incidents).

3. **Route Efficiency Dashboard**
   - **KPIs:** Travel Time vs. Service Time, Fuel Consumption per Route, Vehicle Utilization.
   - **Visualizations:**
     - **Route deviation analysis** (e.g., "Route X has 20% more traffic delays than planned").
     - **Geospatial route optimization** (e.g., "Alternative route saves 12% fuel").

4. **Failed Delivery Root Cause Dashboard**
   - **KPIs:** Failed Delivery Rate by Location, Time of Day, Customer Segment.
   - **Visualizations:**
     - **Failed delivery heatmap** (identify high-risk areas).
     - **Customer availability patterns** (e.g., "Most failures occur at lunchtime").

#### **Monitoring Workflow:**
1. **Daily:** Check for **anomalies** (e.g., sudden spike in failed deliveries).
2. **Weekly:** Review **KPI trends** (e.g., is on-time delivery improving?).
3. **Monthly:** Conduct **deep-dive analyses** (e.g., "Why did Route Y’s performance drop?").
4. **Quarterly:** **Re-optimize routes** based on new traffic patterns or customer behavior.

#### **Feedback Loop for Continuous Improvement:**
- **Driver feedback:** Collect input on route difficulties (e.g., "This area always has parking issues").
- **Customer feedback:** Survey customers on delivery experience (e.g., "Were you home when we arrived?").
- **Data-driven adjustments:** Refine algorithms based on new insights (e.g., "Shift residential deliveries to evenings").

---

## **Conclusion**
By applying **process mining** to Speedy Parcels’ event logs, we can:
1. **Discover the actual delivery process** and compare it to planned routes.
2. **Identify bottlenecks** (traffic, failed deliveries, maintenance issues).
3. **Validate root causes** (e.g., traffic congestion, customer unavailability).
4. **Implement data-driven optimizations** (dynamic routing, failed delivery prevention, predictive maintenance).
5. **Monitor performance continuously** to ensure sustainable improvements.

**Expected Outcomes:**
- **15-20% improvement in on-time delivery rate.**
- **10-15% reduction in fuel and maintenance costs.**
- **50% reduction in failed deliveries.**
- **Higher customer satisfaction and operational efficiency.**

This approach ensures that Speedy Parcels **moves from reactive problem-solving to proactive, data-driven logistics optimization**.