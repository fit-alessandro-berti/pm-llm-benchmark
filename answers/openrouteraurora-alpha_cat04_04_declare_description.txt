**Loanapproval workflow derived from the DECLARE model**

Below is a practical, narrative view of how the loanapproval process would run when the constraints in the DECLARE model are respected. Each step is tied to one or more of the model’s constraints, and after the flow we discuss the business reasons for those constraints and what could happen if they are broken.

---

## 1  Customer submits the application  
**Activity:** `Receive_Application`  

*Constraints that fire*  

| Constraint | Meaning in the process |
|------------|------------------------|
| **existence** (`Receive_Application`) | The activity must occur at least once in every case. |
| **init** (`Receive_Application`) | It must be the first activity of the case. |
| **response** (`Receive_Application  Preliminary_Credit_Check`) | After the application is received, a preliminary credit check must eventually follow. |
| **noncoexistence** (`Transfer_Funds  Receive_Application`) | Funds may never be transferred before the application has been received. |

*Why it matters* – The process cannot start without a formal request from the applicant, and no downstream activity (especially disbursement) may be performed before the request exists. This guards against “ghost” loans and satisfies audit requirements.

---

## 2  Preliminary credit assessment  
**Activity:** `Preliminary_Credit_Check`  

*Constraints that fire*  

| Constraint | Meaning |
|------------|---------|
| **exactly_one** (`Preliminary_Credit_Check`) | The credit check must be performed **once and only once**. |
| **succession** (`Preliminary_Credit_Check  Gather_Additional_Documents`) | Once the credit check finishes, the next activity must be gathering additional documents. |
| **precedence** (`Quality_Assurance_Review  Authorize_Contract_Terms`) – not directly involved here, but it sets a later ordering that depends on the credit check. |
| **nonsuccession** (`Notify_Customer  Preliminary_Credit_Check`) | The customer may not be notified before the credit check is done. |

*Why it matters* – A single, definitive credit decision is required for regulatory reporting and risk scoring. The “onceonly” rule prevents contradictory credit outcomes and ensures a clear audit trail.

---

## 3  Collect any missing documentation  
**Activity:** `Gather_Additional_Documents`  

*Constraints that fire*  

| Constraint | Meaning |
|------------|---------|
| **coexistence** (`Gather_Additional_Documents  Authorize_Contract_Terms`) | The documentationgathering step must coexist with the later contractauthorization step – i.e., both must appear in the same case. |
| **altsuccession** (`Gather_Additional_Documents  Quality_Assurance_Review`) | After gathering documents, a qualityassurance review must occur before the next step. |
| **noncoexistence** (`Transfer_Funds  Receive_Application`) – still in effect, ensuring funds cannot be moved before the case even starts. |

*Why it matters* – Missing or incomplete paperwork is a common source of compliance violations (e.g., KYC/AML). By mandating that document collection and contract authorization appear together, the process guarantees that every loan has the required evidence before a contract is signed.

---

## 4  Prepare the loanoffer package  
**Activity:** `Assemble_Loan_Offer_Package`  

*Constraints that fire*  

| Constraint | Meaning |
|------------|---------|
| **responded_existence** (`Assemble_Loan_Offer_Package  Quality_Assurance_Review`) | The offer package must be followed by a QA review. |
| **chainresponse** (`Assemble_Loan_Offer_Package  Transfer_Funds`) | The offer package starts a chain that ultimately leads to fund transfer, but only after the intervening steps have been satisfied. |
| **noncoexistence** (`Transfer_Funds  Receive_Application`) – still in effect. |

*Why it matters* – The offer package contains the loan terms, interest rate, repayment schedule, and disclosures. A QA review ensures the package complies with internal policies and external regulations (e.g., TruthinLending Act). The chainresponse relationship guarantees that the offer cannot be “skipped” – funds will only be transferred after the offer has been approved.

---

## 5  Qualityassurance review  
**Activity:** `Quality_Assurance_Review`  

*Constraints that fire*  

| Constraint | Meaning |
|------------|---------|
| **precedence** (`Quality_Assurance_Review  Authorize_Contract_Terms`) | The QA review must happen **before** the contract terms are authorized. |
| **chainsuccession** (`Quality_Assurance_Review  Assemble_Loan_Offer_Package`) – already satisfied by the previous step, confirming the correct order. |
| **noncoexistence** (`Transfer_Funds  Receive_Application`) – still enforced. |

*Why it matters* – This step is a checkpoint for regulatory compliance (e.g., fairlending rules), risk management (e.g., ensuring the loan does not exceed exposure limits), and operational quality (e.g., correct calculations). If the review fails, the case can be halted or sent back for correction.

---

## 6  Authorize the contract terms  
**Activity:** `Authorize_Contract_Terms`  

*Constraints that fire*  

| Constraint | Meaning |
|------------|---------|
| **altprecedence** (`Notify_Customer  Transfer_Funds`) – not directly here, but it defines an alternative ordering that must be respected later. |
| **nonchainsuccession** (`Authorize_Contract_Terms  Notify_Customer`) – the contractauthorization step must **not** be immediately followed by a customer notification without the intervening chain. |
| **noncoexistence** (`Transfer_Funds  Receive_Application`) – still in effect. |

*Why it matters* – Only after the contract has been formally authorized can the loan be considered “ready” for disbursement. This step often involves seniormanager signoff, compliance signoff, or automated rule checks.

---

## 7  Transfer the funds  
**Activity:** `Transfer_Funds`  

*Constraints that fire*  

| Constraint | Meaning |
|------------|---------|
| **altresponse** (`Transfer_Funds  Notify_Customer`) | Once funds are transferred, a notification must eventually be sent to the customer. |
| **noncoexistence** (`Transfer_Funds  Receive_Application`) – now satisfied because the application has already occurred. |
| **noncoexistence** (`Transfer_Funds  Receive_Application`) – prevents any “premature” fund transfer. |

*Why it matters* – The actual disbursement is the final financial transaction. The model forces a strict ordering so that no money leaves the bank before all compliance, risk, and documentation steps are completed.

---

## 8  Notify the customer  
**Activity:** `Notify_Customer`  

*Constraints that fire*  

| Constraint | Meaning |
|------------|---------|
| **altprecedence** (`Notify_Customer  Transfer_Funds`) – the notification must occur **after** the fund transfer (the alternative precedence). |
| **nonsuccession** (`Notify_Customer  Preliminary_Credit_Check`) – the customer cannot be notified before the credit check. |
| **nonchainsuccession** (`Authorize_Contract_Terms  Notify_Customer`) – ensures that the notification is not sent directly after contract authorization without the intervening chain (i.e., after fund transfer). |

*Why it matters* – The customer receives a final confirmation that the loan is funded, together with any nextstep instructions (e.g., repayment schedule). Delaying the notification until after the transfer avoids confusion and protects against premature communication that could be misleading.

---

## 9  Forbidden activity (must never happen)  
**Activity:** `Proceed_Without_Compliance`  

*Constraints that fire*  

| Constraint | Meaning |
|------------|---------|
| **absence** (`Proceed_Without_Compliance`) | This activity must **never** appear in any case. |

*Why it matters* – This encodes a hard policy rule: any action that bypasses compliance checks is prohibited. The system should raise an exception or abort the case if this activity is ever detected.

---

# How the constraints enforce a compliant, logical order

| Constraint type | Practical effect in the loan process |
|-----------------|----------------------------------------|
| **existence / exactly_one** | Guarantees that essential steps (application receipt, credit check) happen and happen only once, preventing duplicate work or missing data. |
| **init** | Forces the process to start with a formal request, eliminating stray activities. |
| **response / chainresponse / altresponse** | Creates “mustfollow” relationships: after a given activity, another specific activity must eventually occur, ensuring completeness (e.g., after the offer package, a QA review and later a fund transfer). |
| **precedence / chainprecedence / altprecedence** | Enforces “mustcomebefore” ordering, preventing downstream steps from occurring prematurely (e.g., QA before contract authorization). |
| **succession / chainsuccession / altsuccession** | Stipulates a direct “nextstep” relationship, making the process deterministic (e.g., credit check  gather documents). |
| **coexistence** | Requires two activities to appear together in the same case, ensuring that if one is needed, the other is also present (e.g., gathering documents and authorizing terms). |
| **noncoexistence / nonsuccession / nonchainsuccession** | Explicitly forbids certain activities from appearing together or in a particular order, protecting against illegal or risky sequences (e.g., funds before application, notification before credit check). |
| **absence** | Declares a forbidden activity, providing a safety net against policy violations. |

These constraints together form a **process contract** that mirrors realworld regulatory and operational requirements:

* **Regulatory compliance** – credit checks, KYC/AML documentation, and QA reviews must happen before any financial transaction.
* **Fraud prevention** – the chain of checks ensures no step can be skipped, making it harder for a malicious actor to inject a “shortcut” (e.g., transferring funds without proper verification).
* **Risk management** – the singlepass credit check and mandatory QA reduce the chance of underwriting errors.
* **Operational best practice** – a clear, repeatable sequence improves staff training, reduces handoff errors, and enables automation.
* **Customer satisfaction** – the final notification only arrives after the funds are actually in the customer’s account, avoiding confusion.

# Consequences of violating the prescribed order

| Violation scenario | What the constraints would flag | Realworld impact |
|--------------------|--------------------------------|-------------------|
| **Skipping the credit check** (`Preliminary_Credit_Check` omitted) | `existence` and `exactly_one` constraints violated  case invalid. | The loan could be granted to an unqualified borrower, increasing default risk and breaching lending regulations. |
| **Transferring funds before QA** (`Transfer_Funds` before `Quality_Assurance_Review`) | `precedence` and `noncoexistence` broken  process aborts. | Funds could be disbursed with erroneous terms, leading to legal disputes and possible regulatory fines. |
| **Notifying the customer before fund transfer** | `altprecedence` and `nonchainsuccession` violated. | The customer may think the loan is funded when it isn’t, causing reputational damage and potential complaints. |
| **Performing `Proceed_Without_Compliance`** | `absence` constraint violated  immediate rejection. | This would represent a serious policy breach (e.g., bypassing AML checks) and could trigger internal investigations, regulatory penalties, or criminal liability. |
| **Duplicating the credit check** | `exactly_one` violated. | Redundant work, increased processing time, and possible contradictory credit scores that confuse downstream decisions. |
| **Gathering documents but never authorizing contract** | `coexistence` broken (documents appear without contract authorization). | The loan would stall indefinitely, leading to customer frustration and lost business. |
| **Fund transfer before application receipt** | `noncoexistence` (`Transfer_Funds`  `Receive_Application`) violated. | Money could be sent to a nonexistent or fraudulent case, exposing the institution to loss and fraud. |

In each case, the DECLARE model would either prevent the case from progressing (by rejecting the next activity) or raise an exception that forces a human reviewer to intervene. This safety net is essential for maintaining a trustworthy, auditable loanapproval pipeline.

---

## Summary

The DECLARE model translates into a tightlycontrolled, stepbystep loanapproval workflow:

1. **Receive application** (must be first).  
2. **Preliminary credit check** (once only, must precede everything else).  
3. **Gather additional documents** (must coexist with later contract authorization).  
4. **Assemble loanoffer package** (must be followed by QA).  
5. **Qualityassurance review** (must precede contract authorization).  
6. **Authorize contract terms** (must happen after QA, before funds).  
7. **Transfer funds** (only after all prior steps, never before the application).  
8. **Notify customer** (only after funds are transferred).  

All other activities are either forbidden (`Proceed_Without_Compliance`) or constrained to never appear together with certain steps (`noncoexistence`). The combination of existence, ordering, and exclusion constraints enforces a process that satisfies regulatory mandates, mitigates risk, upholds operational discipline, and delivers a clear, satisfactory experience for the borrower.