<think>
**Constructing textual BPMN-like invoice approval process**

I’m putting together a clear textual representation of the invoice approval process with lanes for each role, defining tasks, gateways, sequence flows, and exceptions. I plan to include start event, decision points like PO presence and receipt confirmation, handling discrepancies with escalation routes, and looping flows for resolution, while referencing key artifacts like invoices, POs, and confirmation emails. This should capture the process logic in a structured but readable BPMN-style format.
</think>
**Process:** Invoice Approval and Payment Preparation  

---

### Lanes / Participants
- **Accounts Payable Clerk (AP Clerk)**
- **Purchasing Officer**
- **Accounts Payable Supervisor**
- **Supplier Relationship Manager**
- **Department Manager**

---

### Primary Flow (unless otherwise stated)
1. **Start Event:** Invoice received (typically by email)  lane: *AP Clerk*  
   - **Data Object:** Supplier invoice.

2. **Task:** Verify invoice includes valid PO number  *AP Clerk*.

3. **Exclusive Gateway:** “PO number present?”  
   - **Yes path:** go to Step 6.  
   - **No path:**  
     4. **Task:** Request missing PO/clarification from supplier (email back)  *AP Clerk*.  
     5. **Intermediate Event:** Await supplier response.  
        - **If supplier provides PO:** return to Step 6.  
        - **If supplier cannot provide PO or invoice relates to informal service:**  
          - **Task:** Escalate to AP Supervisor  *AP Clerk*.  
          - **Task:** Decide on retrospective PO or rejection  *AP Supervisor*.  
             - **If retrospective PO created / PO info obtained:** return to Step 6.  
             - **If invoice rejected:** **End Event:** Invoice rejected/returned to supplier.

6. **Task:** Log invoice in accounting system  *AP Clerk*.  
   - **Data Object Output:** Logged invoice record.

7. **Task:** Forward logged invoice to Purchasing for receipt confirmation  *AP Clerk*.  
   - **Message Flow:** Email/system notification to *Purchasing Officer*.  
   - **Data Objects Provided:** Invoice copy, linked PO.

8. **Task:** Review invoice details vs. purchase order (quantities, prices, delivery charges) & confirm goods/services received  *Purchasing Officer*.

9. **Exclusive Gateway:** “Invoice matches PO & receipt confirmed?”  
   - **Yes path:** go to Step 12.  
   - **No path:**  
     10. **Task:** Request correction/clarification (either contact supplier or instruct AP to hold)  *Purchasing Officer*.  
         - May involve **Task:** Engage Supplier Relationship Manager for supplier follow-up or contract check  *Purchasing Officer*  *Supplier Relationship Manager*.  
             - **Supplier Relationship Manager Task:** Obtain corrected invoice/PO reference or confirm contract terms with supplier.  
     11. **Intermediate Event:** Await resolution (corrected invoice, updated PO, confirmation).  
         - Once resolved, loop back to Step 8 for re-evaluation.  
         - If unresolvable, Purchasing coordinates with AP Clerk to escalate to AP Supervisor (go to Step 4/5 branch for supervisor handling).

12. **Task:** Send confirmation back to Accounts Payable (email/system message)  *Purchasing Officer*.

13. **Task:** Perform system match of invoice line items vs. PO (3-way match check)  *AP Clerk*.  
    - Uses confirmed receipt info from Purchasing.  

14. **Exclusive Gateway:** “Discrepancy during match?”  
   - **No (all aligned):** proceed to Step 17.  
   - **Yes:**  
     15. **Task:** Email Purchasing for clarification / hold invoice  *AP Clerk*.  
     16. **Task:** If clarification cannot resolve issue, escalate to AP Supervisor  *AP Clerk*.  
         - **AP Supervisor Task:** Coordinate with Purchasing, Supplier Relationship Manager, and/or department heads to resolve discrepancy (e.g., negotiate credit, create retrospective PO).  
         - After resolution, return to Step 13 to re-run the match.

17. **Task:** Trigger manager approval (system sends notification with invoice, PO, confirmation)  *AP Clerk / System*.  
    - **Message Flow:** Approval request to Department Manager.  
    - **Data Objects:** Invoice record, PO, purchasing confirmation.

18. **Task:** Review and approve invoice  *Department Manager*.  

19. **Exclusive Gateway:** “Manager approval decision?”  
   - **Approve:** proceed to Step 21.  
   - **Reject/Request hold:**  
     20. **Task:** Notify Accounts Payable to hold/investigate (system or email)  *Department Manager*.  
         - **AP Clerk Task:** Investigate issue, potentially involve AP Supervisor and Purchasing/Supplier Relationship Manager as needed.  
         - Once issue resolved, re-trigger Step 17 for re-approval.

21. **Task:** Schedule invoice for payment in accounting system / payment run queue  *AP Clerk*.  
    - **Data Object Output:** Invoice flagged for next payment cycle.

22. **End Event:** Invoice ready for payment run.

---

### Noted Exceptions & Variations
- Invoices without POs may result in retrospective PO creation by the AP Supervisor or outright rejection.
- Purchasing may hold invoices until suppliers issue corrected versions; Supplier Relationship Manager assists with supplier-side corrections or contract interpretation.
- Manager approval is a required final gate; any rejection loops the invoice back to investigation prior to resubmission.
- Escalations to AP Supervisor occur when AP Clerk or Purchasing cannot resolve discrepancies independently, preventing invoices from stalling.
- After manager approval, payment execution itself (e.g., payment run) is outside the described scope but is triggered once the invoice is scheduled.

This textual model captures the standard and exceptional paths so it can be rendered as a BPMN diagram with swimlanes for each role, exclusive gateways for decision points, and message flows between departments/suppliers where indicated.