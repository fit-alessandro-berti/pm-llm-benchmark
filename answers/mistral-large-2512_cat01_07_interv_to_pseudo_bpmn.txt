### **BPMN-Like Textual Process Model: Invoice Approval Process**

#### **1. Process Overview**
The **Invoice Approval Process** begins when an invoice is received (typically via email) and ends with payment scheduling. The process involves **Accounts Payable (AP)**, **Purchasing**, **Department Managers**, **AP Supervisors**, and **Suppliers**, with occasional involvement from **Supplier Relationship Managers (SRM)** for dispute resolution.

Key phases:
- **Invoice Validation** (PO check, logging)
- **Receipt & PO Matching** (Purchasing confirmation)
- **Manager Approval**
- **Exception Handling** (discrepancies, missing PO, informal contracts)
- **Payment Scheduling**

---

#### **2. Process Diagram (Textual Representation)**

##### **Participants (Pools/Lanes)**
1. **Accounts Payable (AP) Clerk** (Primary executor)
2. **Purchasing Department**
3. **Department Manager**
4. **AP Supervisor** (Exception handling)
5. **Supplier Relationship Manager (SRM)** (External support)
6. **Supplier** (External participant)

##### **Start Event**
- **Trigger:** Invoice received (email or physical copy).

##### **Sequence Flow**

1. **Task: Check for PO Number** *(AP Clerk)*
   - **Input:** Invoice
   - **Decision Gateway (Exclusive):**
     - **If PO exists  Proceed to "Log Invoice in System"**
     - **If PO missing **
       - **Task: Request PO from Supplier** *(AP Clerk  Supplier)*
       - **Event: Wait for Supplier Response** *(Supplier provides PO or revised invoice)*
       - **If PO provided  Proceed to "Log Invoice in System"**
       - **If no response  Escalate to AP Supervisor** *(see Exception Handling)*

2. **Task: Log Invoice in System** *(AP Clerk)*
   - **Output:** Invoice logged in accounting system (e.g., ERP).

3. **Task: Forward Invoice to Purchasing for Confirmation** *(AP Clerk  Purchasing)*
   - **Input:** Logged invoice, PO reference.

4. **Task: Verify Invoice Against PO** *(Purchasing Officer)*
   - **Decision Gateway (Exclusive):**
     - **If invoice matches PO (quantities, prices, delivery charges) **
       - **Task: Send Confirmation to AP** *(Purchasing  AP Clerk)*
       - **Proceed to "Match Invoice Line Items"**
     - **If discrepancy found **
       - **Task: Contact Supplier for Correction** *(Purchasing  Supplier)*
         - **Sub-task:** Request revised invoice or clarification.
         - **Event: Wait for Supplier Response**
           - **If resolved  Send Confirmation to AP**
           - **If unresolved  Escalate to AP Supervisor** *(see Exception Handling)*
       - **OR (if minor discrepancy)**
         - **Task: Notify AP of Discrepancy** *(Purchasing  AP Clerk)*
         - **Proceed to "Resolve Discrepancy" (AP Clerk)**

5. **Task: Match Invoice Line Items** *(AP Clerk)*
   - **Decision Gateway (Exclusive):**
     - **If match  Proceed to "Request Manager Approval"**
     - **If mismatch **
       - **Task: Email Purchasing for Clarification** *(AP Clerk  Purchasing)*
       - **Loop:** Repeat verification until resolved.
       - **If unresolved  Escalate to AP Supervisor**

6. **Task: Request Manager Approval** *(System-triggered email to Department Manager)*
   - **Input:** Invoice, PO, Purchasing confirmation.
   - **Decision Gateway (Exclusive):**
     - **If approved  Proceed to "Schedule Payment"**
     - **If rejected **
       - **Task: Investigate Rejection Reason** *(AP Clerk)*
         - **Sub-task:** Coordinate with Purchasing/Manager to resolve.
         - **Loop:** Re-submit for approval after resolution.
       - **If unresolved  Escalate to AP Supervisor**

7. **Task: Schedule Payment** *(AP Clerk)*
   - **Output:** Invoice added to payment run.
   - **End Event:** Payment scheduled.

---

#### **3. Exception Handling (Alternate Paths)**

##### **A. Missing PO or Informal Contracts**
- **Trigger:** Invoice lacks PO or is for unplanned services.
- **Task: Escalate to AP Supervisor** *(AP Clerk  AP Supervisor)*
  - **Decision Gateway (Exclusive):**
    - **If retrospective PO can be created **
      - **Task: Create Retrospective PO** *(AP Supervisor + Department Manager)*
      - **Proceed to "Log Invoice in System"**
    - **If invoice should be rejected **
      - **Task: Notify Supplier of Rejection** *(AP Supervisor  Supplier)*
      - **End Event:** Process terminates.

##### **B. Unresolved Discrepancies**
- **Trigger:** Pricing/quantity mismatch cannot be resolved by Purchasing.
- **Task: Escalate to AP Supervisor** *(Purchasing/AP Clerk  AP Supervisor)*
  - **Task: Coordinate Resolution** *(AP Supervisor)*
    - **Sub-task:** Involve SRM if supplier-related.
    - **Sub-task:** Contact Department Manager for budget approval (if overage).
  - **Decision Gateway (Exclusive):**
    - **If resolved  Return to "Match Invoice Line Items"**
    - **If unresolved  Reject Invoice** *(AP Supervisor  Supplier)*

##### **C. Manager Rejection**
- **Trigger:** Manager rejects invoice (e.g., budget mismatch, unauthorized items).
- **Task: Investigate Rejection** *(AP Clerk)*
  - **Sub-task:** Clarify with Manager/Purchasing.
  - **Decision Gateway (Exclusive):**
    - **If resolved  Re-submit for approval**
    - **If unresolved  Escalate to AP Supervisor**

---

#### **4. Artifacts (Data Objects)**
| **Artifact**               | **Description**                                                                 | **Used In Tasks**                          |
|----------------------------|-------------------------------------------------------------------------------|--------------------------------------------|
| Invoice                    | Original document from supplier.                                             | All tasks.                                 |
| Purchase Order (PO)        | Internal document authorizing purchase.                                      | PO check, verification, matching.          |
| Purchasing Confirmation    | Email/note from Purchasing confirming invoice-PO match.                      | Manager approval.                          |
| Retrospective PO           | PO created after invoice receipt (for informal contracts).                    | Exception handling.                        |
| Payment Schedule           | List of approved invoices for payment run.                                   | Schedule payment.                          |

---

#### **5. Key Ambiguities & Assumptions**
1. **PO Check Timing:**
   - Mary checks for PO **before** logging; Dan implies Purchasing may also request PO later. **Assumption:** PO check happens **once** by AP Clerk at the start.

2. **Discrepancy Resolution:**
   - Unclear whether Purchasing or AP Clerk leads resolution. **Assumption:** Purchasing handles supplier contact; AP Clerk handles system updates.

3. **Manager Approval Scope:**
   - Carlos mentions budget checks; unclear if this is standard. **Assumption:** Manager approval includes **both** PO match **and** budget validation.

4. **Payment Scheduling:**
   - No details on payment run frequency (e.g., weekly). **Assumption:** Payment scheduling is a single task without further subprocesses.

5. **Informal Contracts:**
   - Rita mentions retrospective POs; unclear if this is common. **Assumption:** Handled as an exception path.

---

#### **6. BPMN Diagram Recommendations**
To convert this into a visual BPMN diagram:
- Use **swimlanes** for each participant (AP Clerk, Purchasing, Manager, etc.).
- **Start event:** "Invoice Received."
- **End event(s):** "Payment Scheduled" or "Invoice Rejected."
- **Exclusive gateways** for decisions (e.g., PO exists? Match confirmed?).
- **Parallel gateways** (if any) for tasks that can occur concurrently (none in this process).
- **Loop markers** for rework (e.g., discrepancy resolution).
- **Message flows** for interactions with external participants (Suppliers, SRM).
- **Data objects** attached to tasks (e.g., PO, invoice).

**Example Gateway Labels:**
- "PO Exists?" (Yes/No)
- "Invoice Matches PO?" (Yes/No)
- "Manager Approval?" (Approved/Rejected)

This model captures the **happy path** (standard flow) and **exception paths** while noting ambiguities for further validation.