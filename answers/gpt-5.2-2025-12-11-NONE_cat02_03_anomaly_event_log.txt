Typical Procure-to-Pay (P2P) flow is broadly:

**Create PR  Approve PR  Issue PO  Receive Goods (GR)  Receive Invoice  2/3-way match (InvoicePO and often GR)  Release Payment  Close**

Using that as the baseline:

## Case 1001 (looks normal)
Sequence follows the expected order: PR created/approved, PO issued, goods received, invoice received, match performed, then payment and close. Nothing stands out.

---

## Case 1002 (multiple control/order violations)
**Observed sequence:** Create PR  Issue PO  Invoice received  **Release payment**  Approve PR  Receive goods  Match invoice  Close

### Anomalies
1. **PO issued before PR approval**
   - **Why problematic:** Bypasses purchasing authorization and budget control. A PO is a legal/contractual commitment; issuing it before approval undermines governance and can enable maverick spend.

2. **Payment released before PR approval, before goods receipt, and before matching**
   - **Why problematic:** This is a major breach of standard AP controls. Payment is typically contingent on at least an invoice approval/match (often 3way match: PO + GR + Invoice).
   - Risks include paying for items not received, paying incorrect amounts, fraud exposure, and weak auditability.

3. **Matching performed after payment**
   - **Why problematic:** Matching is meant to *prevent* incorrect payments. Doing it after-the-fact turns it into a detective control at best, and often too late to recover funds.

---

## Case 1003 (payment happens before invoice and before receipt)
**Observed sequence:** Create PR  Approve PR  Issue PO  **Release payment**  Invoice received  Receive goods  Match invoice  Close

### Anomalies
1. **Payment released before invoice receipt**
   - **Why problematic:** Normally AP pays against an invoice (or evaluated receipt settlement in specific setups, but then you wouldn’t log “Vendor Invoice Received” afterward in the same way). Paying without an invoice reduces traceability, complicates tax/VAT handling, and increases risk of over/duplicate payment.

2. **Payment released before goods receipt**
   - **Why problematic:** Eliminates the receiving confirmation control; you can end up paying for undelivered or partially delivered goods.

3. **Match occurs after payment**
   - Same control concern as in case 1002: matching becomes ineffective as a preventive control.

(Prepayments can exist in real life, but they are usually explicitly labeled/authorized as such and often follow different controls; nothing in the log indicates a controlled prepayment scenario.)

---

## Case 1004 (goods received before PO issued)
**Observed sequence:** Create PR  Approve PR  **Receive goods**  Issue PO  Invoice received  Match  Pay  Close

### Anomalies
1. **Goods receipt before PO issuance**
   - **Why problematic:** In standard P2P, receiving is against an existing PO (so the warehouse can verify what was ordered, quantities, prices, and delivery terms).
   - This pattern often indicates a **retroactive PO** (“PO after the fact”), which is a common compliance red flag:
     - Receiving items without an authorized order
     - Weak commitment and budget control
     - Higher risk of accepting wrong goods/quantities
     - Potentially enables bypassing procurement policies or preferred suppliers

The remainder (invoice  match  payment) is in the right order, but it’s built on a questionable procurement/receiving foundation.

---

## Summary of anomalous cases
- **1002:** Most severe—payment and PO issuance occur before key approvals/receiving/matching.
- **1003:** Payment before invoice and goods receipt; match after payment.
- **1004:** Receipt before PO (retroactive PO pattern).

If you want, I can also propose simple detection rules (e.g., “payment timestamp < match timestamp” or “goods receipt timestamp < PO timestamp”) that would automatically flag these patterns in a larger log.