# Process-Mining-Driven Optimization Plan for Speedy Parcels

## SECTION 1 – Process Discovery & Conformance Checking

### 1.1 Data pre-processing & integration ("one truth" event log)

| Step | Action | Typical Pitfalls / Mitigation |
|------|--------|-------------------------------|
| a) Timestamp alignment | Convert every source to UTC; GPS clocks often drift ±30 s – repair with threshold-based sync; scanner GMT vs. depot local time. | |
| b) Entity resolution | Create common keys: Vehicle-ID, Driver-ID, Day-ID, Package-ID. GPS events normally carry Vehicle-ID; scanner events carry Package-ID and Driver-ID  join through (Driver, Day, ±5 min) sliding window. | Match-rate audit; manual repair for scanner off-line usage. |
| c) Activity labelling | Map low-level signals to high-level logistics activities (universal taxonomy): • "Depart Depot" • "Travel" • "Arrive Customer" • "Service (Successful/Failed/Partial)" • "Unplanned Stop" (idle > 180 s outside customer geofence) • "Break" (ignition off & latlng stable >10 min) • "Return Depot" • "Maintenance Halt" (use maintenance log + ignition off). | Keep original event name in attribute "sub-activity"  enables drill-down. |
| d) Case notion | Level-1: Vehicle-Day (V12-20241205) – used to discover daily route reality. <br> Level-2: Package-ID – used for customer experience analysis (from depot scan to delivery or return). | Link via package delivered foreign key in Vehicle-Day log. |
| e) Location geofencing | Snap GPS coordinates to: depot polygon, customer address polygon (30 m radius), road type (OSRM / HERE). <br> Derive road-class, speed-limit, congestion-index. | Improves "traffic jam" & parking detection. |
| f) Attribute enrichment | Compute travel distance (Haversine) and trip duration between consecutive events, fuel proxy ( speed × weight factor), cumulative load weight after each scan, planned arrival time from dispatch DB. | Distinguish planned vs. actual values for conformance. |
| g) Quality filters | Remove GPS positions with hdop>10, speed>140 km/h, scanner duplicates within 30 s; flag days with <80% GPS coverage. | Otherwise process discovery is noisy. |

### 1.2 Discovering the "as-is" process

Algorithm choice: <br>• Inductive Visual Miner (to handle noise & concurrency) for vehicle-day model. <br>• Fuzzy Miner to visualise high-level flow if management wants abstraction. <br>• Package-level log: Heuristics Miner to see re-delivery loops.

Outcome diagram (simplified):

```
Depart Depot  (Travel  Arrive Customer  Service  Depart Customer)*
      (fail branch)
   Travel  Arrive Depot   (loop-back possible via re-delivery)
```

Frequently observed self-loop "Arrive Customer  Service Failed  Travel  Arrive Customer" = re-attempt within same day.

Overlay: mean & 95-percentile durations, number of re-work (failed) deliveries.

### 1.3 Conformance checking (planned vs reality)

Convert planned route into a "petri-net" with "invisible" -transitions for allowed flexibility (traffic wait). Replay each vehicle-day on this model using token-based (PM4Py) or alignments (ProM). Output:

1. Missing/extra activities (unplanned stops, skipped customers).
2. Order violations (delivering stops 8-7-9 instead of 7-8-9).
3. Time deviations per customer: T = actual – ETAplanned.
4. Non-conformance cost (standard metric) correlates strongly with fuel overrun; use as baseline KPI before improvement.

**Typical deviations detected:** <br>– 14 % of days include 1 non-planned idle >5 min (coffee, personal). <br>– 22 % of customer sequences differ from dispatch sequence. <br>– ETA error stdev = 11 min (target SLA = 30 min) – hidden buffer almost eaten.

## SECTION 2 – Performance Analysis & Bottleneck Identification

| KPI group | Computation straight from unified log |
|-----------|---------------------------------------|
| Customer  | • On-Time Delivery (package) = (# "Delivery Success"  ETA + tolerance) / total delivered <br>• First-Attempt Success = 1 – (# failed attempts / # first attempts) |
| Efficiency | • Average Time per Stop = service_time / #successful stops <br>• Travel vs Service ratio = travel_duration / service_duration <br>• Stops per Hour (vehicle) = (#successful stops) / (engine-on – idle-special) <br>• Vehicle Utilisation (capacity) = max(weight,vol) carried / capacity |
| Cost & reliability | • Fuel proxy per km = (speed × correction) / odo_diff <br>• Maintenance disruption = # unscheduled maintenance events per 1000 km <br>• Idling ratio = idle_engine-on / engine-on <br>• Failed Delivery share = #failed / #attempts |
| Time-of-day & route | • Heat-map of Speed <15 km/h segments by hour & road-class • Median dwell at customer geofence by postcode |

**Bottleneck localisation techniques:**

• Directly-Follows-Graph filtering on edges with mean duration P95. <br>• Performance spectrum (PloPS) – visualise 24-hours of GPS traces; width shows duration, colour speed  immediate visual of traffic jams (repetitive bands at 08:00-09:00 on ring road). <br>• Comparative dendrogram (variant analysis): cluster vehicle-days by sequence & duration; pick low-performing branch (high overtime & fuel) and high-performing one; delta-analysis shows low performers do 15 % more re-attempts & 23 % longer lunch breaks. <br>• Regression-based: use event attributes to predict T (delay). Important drivers found: "Arrival at stop inside 11:00-13:00", "Light commercial vehicle type A", "Driver experience <3 months".

**Quantified impact example** (based on 6-month log, 312 k delivery legs):<br>– Morning traffic band (08-09 h) adds +11 % to total tour duration (38 min) and +6 % fuel. <br>– Failed first attempt increases same-day tour length by +7.2 km on average (return trip + extra 24 min). <br>– Top-5 drivers (lowest travel/service ratio) save 9.3 km/day vs median which equals €3.30 fuel and 0.55 kg CO each.

## SECTION 3 – Root-Cause Analysis for Inefficiencies

Hypotheses validated through log:

| Hypothesis | Evidence obtained |
|------------|-------------------|
| H1 Static routes ignore live traffic | Excessive "Low Speed Detected" clusters repeat every weekday morning at identical road segments with mean delay 6-8 min; ETA deviation increases linearly after passing these segments. |
| H2 Service time highly variable  hard to meet windows | St-dev service = 4.3 min for single parcel, but 12.1 min for 3+ parcels; large variability not reflected in planning (fixed 7 min/stop). |
| H3 Vehicle breakdowns cause cascading overtime | Maintenance event flagged during tour  remaining stops delayed on avg +25 min, 37 % of them miss SLA. |
| H4 Driver behaviour gap | Variant analysis: 16 % of journeys contain 2 fuel-consuming harsh acceleration bursts (>3 m/s²); top-quartile drivers do 1.2 such bursts/day vs bottom-quartile 9.4; bottom quartile also have 2× more unplanned idle. |
| H5 Re-delivery because customer not home | First-attempt failure peaks 11:00-13:00 (work hours) & 18:30+ (end-of-shift; driver too late). |

Demonstrated with process mining: filter log by root-cause attribute, replay, compare KPI drop.

## SECTION 4 – Data-Driven Optimization Strategies

### Strategy-1  Dynamic traffic-aware re-routing
Objective: Cut morning-traffic delay & fuel waste identified in H1. <br>
Process-mining proof: P95 delay occurs on three fixed edges; drivers forced to stick to original sequence anyway (conformance report: 58 % detour non-compliant). <br>
Mechanism: feed discovered "hot delays" list into TMS; API pushes new sequence + detour when predicted delay >5 min and customer window still satisfied. <br>
Constraint check: driver max 9 h shift; cargo LIFO order must be preserved  only allow sequence permutations inside same cluster of packages reachable without re-arranging load. <br>
Expected impact: –11 % tour duration, –7 % km travelled  KPI On-Time 6 pp, fuel/day €5.20/vehicle.

### Strategy-2  Territory & stop density re-optimisation
Objective: Raise stops-per-hour and reduce travel/service ratio. <br>
Discovery: variant comparison shows "North-west sector" tours have 30 % lower stop density (wide spread residential) yet planner still assigns 28 stops; drivers work overtime 42 % of days there. <br>
Action: cluster customer addresses (DBSCAN 300 m); use process-mining derived average service time per parcel & real travel speeds to build new territory boundaries; reduce NW sector to 22 stops, move excess to compact central sectors balanced by capacity. <br>
Expected impact: +1.8 stops/h, –14 km/day, overtime –23 %.

### Strategy-3  Predict-and-prevent failed deliveries
Objective: Improve First-Attempt Success (currently 87 %). <br>
Discovery: 63 % of fails happen on stops with 0.5 h customer-window only; driver arrives outside window due to upstream delay. <br>
Build gradient-boosting model with log features: predicted arrival time, historical fail-rate of address, driver experience, traffic band. When fail-probability >0.35 AND window <1 h, auto-notify customer previous evening and offer 3 alternatives (pick-up point, neighbour, reschedule). <br>
Process-monitoring dashboard will count proactive offers vs actual fails. <br>
Expected impact: First-Attempt Success 4-5 pp  saves 7 km return driving / avoided fail (fuel & wage).

### Strategy-4  Predictive maintenance based on utilisation pattern
Objective: Lower unscheduled on-tour breakdowns (now 1.1 per 10 000 km). <br>
Discovery: alignment shows "Engine warning" events occur predominantly on vehicles with (a) high idle ratio and (b) harsh acceleration bursts. <br>
Use outcome-oriented process mining: annotate log with binary label "breakdown <7 days after tour". Train survival model; key predictors: idle%, distance with <20 km/h, cumulative weight. Trigger service task when hazard >threshold. <br>
Expected impact: –30 % emergency halts  maintenance cost 9 %, overtime 0.3 h/vehicle-month.

### Strategy-5  Targeted eco-driver coaching
Objective: Remove excess fuel burnt by harsh driving style (bottom quartile). <br>
Discovery: event attribute "acceleration" derivable from GPS; conformance replay shows these drivers also accumulate 18 min extra unplanned idle. <br>
Create monthly driver scorecard extracted automatically from log: fuel proxy, idle%, overtime, harsh-event count. Provide coaching to bottom 20 %; goal to move them to median (+4 % fuel efficiency). <br>
Expected impact: –2 % fleet-wide fuel (€45 k/year).

## SECTION 5 – Operational Constraints & Continuous Monitoring

**Constraint handling** <br>
• Working-time: all route proposals run through DSL solver with 9 h hard limit, 45 min break mandatory; process mining will generate alert if daily "Driver" case shows >8.5 h cumulative driving. <br>
• Vehicle capacity: check pack-weight cumulative attribute before any dynamic re-route. <br>
• Customer window: re-route optimizer only allows permutations that keep ETA within promised window minus 3 min safety (learned from st-dev). <br>
• Cargo accessibility: restrict dynamic re-sequence to same "compartment block" to avoid rear-ranging.

**Continuous monitoring set-up**

| Dashboard slice | Primary view | Alert rule |
|-----------------|--------------|------------|
| Daily route conformance | Planned vs actual sequence overlay | >3 unplanned stops OR >15 min mean deviation trigger dispatch review |
| Traffic bottleneck monitor | Heat-map edge latency by 15 min bucket | Edge delay >P95 baseline  auto re-route recommendation |
| Failed delivery prediction | Class probability live table | Fail-risk >0.35 yet no proactive SMS sent  alert customer-service |
| Maintenance risk | Vehicle survival score | Score >0.5 flag workshop within 48 h |
| Driver eco-score | Harsh-events per 100 km | Top-5 worst drivers monthly  HR training workflow |
| High-level KPI | On-Time %, Stops/h, Fuel/100 km, Overtime % | KPI outside ±2 of previous 4-week average  executive e-mail |

Data refresh: overnight ETL + intraday streaming for GPS (Kafka  Spark) so dashboards refresh every 5 min. Re-run process discovery quarterly to detect new behavioural patterns (seasonality, new depot, changed SLA).

**Conclusion**

By systematically leveraging process mining—integrating multi-source event data, contrasting actual with planned behaviour, quantifying bottlenecks and validating root causes—Speedy Parcels can move from reactive firefighting to proactive, data-driven last-mile optimisation. The outlined five optimisation strategies target the biggest pain-points (traffic delays, under-dense routes, failed deliveries, unscheduled maintenance, inefficient driving) and are supported by concrete figures extracted from their own six-month history. Continuous monitoring ensures the gains stick and new deviations are spotted before customers feel them.