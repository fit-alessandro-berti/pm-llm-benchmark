<think>
Okay, let me start by carefully reading all the interview excerpts to understand the invoice approval process from each stakeholder's perspective. I need to extract the key activities, sequence flows, decision points, roles, and exceptions mentioned.

First, looking at Mary (Accounts Payable Clerk). She describes the standard flow: receiving an invoice, checking for a PO number, logging into the system, forwarding to Purchasing for receipt confirmation, matching invoice to PO, sending to Manager for approval, and then scheduling payment. She mentions triggers: the manager’s approval is triggered after receipt confirmation and matching. Exceptions include missing PO (send back to supplier), discrepancies (email Purchasing), and unresolved issues (escalate to supervisor).

Next, Dan (Purchasing Officer). His role starts when he receives the invoice from AP. He checks if invoice details match the PO. If off, he contacts supplier or tells AP to hold. If correct, he confirms back to AP. He emphasizes that without a PO, he can’t proceed. He assumes AP moves it to Manager after his confirmation. So his step is confirmation after matching.

Carlos (Department Manager). He gets notified after Purchasing confirms and matching is done. He approves if everything looks good, rejects or holds if suspicious. After approval, it goes back to AP for payment scheduling. So his step is final approval.

Rita (AP Supervisor). Steps in during exceptions: when Mary can’t match or Purchasing has unresolved issues. She contacts suppliers or coordinates. Handles invoices without POs by creating retrospective POs or rejecting. After resolving, the invoice returns to normal flow: Purchasing confirmation, Manager approval, then payment.

Karen (Supplier Relationship Manager). Involved when discrepancies found, checks contracts, contacts suppliers to resolve issues. Doesn’t handle approvals directly.

Now I need to consolidate these into a coherent process model. Let me list out all activities in logical order based on the standard flow described by most stakeholders.

Standard sequence seems to be:
1. Receive Invoice (by AP)
2. Check for Valid PO (AP)
3. If no PO -> Request PO from Supplier (AP)
4. Log Invoice in System (AP)
5. Forward to Purchasing for Receipt Confirmation (AP)
6. Purchasing Confirms Receipt and Matches Details (Purchasing)
   - During this, if discrepancy, Purchasing contacts supplier or tells AP to hold.
7. After confirmation, send to Manager for Approval (AP/System triggers)
8. Manager Reviews and Approves (Manager)
   - If issues, reject/hold, which may loop back to earlier steps.
9. Schedule Payment (AP)

Exceptions:
- Missing PO: AP requests from supplier, then once received, continue.
- Discrepancies: Either Purchasing holds and contacts supplier, or AP escalates to Rita.
- Unmatched without PO (informal services): Rita handles by creating retrospective PO or rejecting.
- Manager rejects: sends back to AP for investigation, which may involve Purchasing, Rita, Karen.

Roles involved: AP Clerk, Purchasing Officer, Department Manager, AP Supervisor, Supplier Relationship Manager.

Artifacts: Invoice, Purchase Order, System notifications, Confirmation emails, Payment schedule.

Gateways:
- After receiving invoice: check if PO exists.
- After matching: check if discrepancies.
- After Manager review: check if approved or rejected.

Now, I need to structure this as a BPMN-like textual model. I should define participants (pools/lanes) for each role: Accounts Payable, Purchasing, Department Management, Supervision, Supplier Relations.

Sequence flow across lanes with message flows where communication happens.

Let me outline the main path and exception paths clearly.

Start with the standard path first, then add exception loops.

Also, note ambiguities: Dan says after his confirmation, AP moves to Manager, but Mary says after matching and confirmation, she sends to Manager. Slight difference but essentially the same: after Purchasing confirmation, Manager approval is triggered. Carlos confirms he gets notification after Purchasing confirms and matching is done. So consistent.

Escalation: When discrepancies can’t be resolved easily, Mary escalates to Rita. Rita then resolves and returns to normal flow.

Karen is looped in when discrepancies found by AP or Purchasing.

Now, textual BPMN description: I should use a standard format like listing nodes and flows. Maybe like:

Process: Invoice Approval Process
Participants: Accounts Payable (Mary), Purchasing (Dan), Department Manager (Carlos), AP Supervisor (Rita), Supplier Relations (Karen)

Activities:
1. Receive Invoice (AP)
2. Validate PO Presence (AP)
   - Gateway: PO Present? 
     - Yes -> Log Invoice
     - No -> Request PO from Supplier -> Wait for PO -> then Log Invoice
3. Log Invoice in System (AP)
4. Send to Purchasing for Receipt Confirmation (AP)
5. Review Invoice vs PO (Purchasing)
   - Gateway: Details Match?
     - Yes -> Confirm Receipt to AP
     - No -> Contact Supplier for Clarification -> (might resolve and continue, or escalate)
6. After Confirmation, Request Manager Approval (AP/System triggers)
7. Review and Approve Invoice (Manager)
   - Gateway: Approved?
     - Yes -> Notify AP
     - No -> Reject/Hold -> Notify AP (loop back to investigation)
8. Schedule Payment (AP)

Exception handling:
- If discrepancy during Purchasing review: if resolved quickly, continue; else, escalate to AP Supervisor (Rita).
- Rita investigates, may involve Supplier Relations (Karen), create retrospective PO, or reject.
- Manager rejects: invoice goes back to AP for investigation, potentially re-routing to Purchasing or Rita.

Arrows and flows: Need to show sequence, message flows between participants.

Let me write it out step by step with clear labels.

Also, note that the system sends automatic email for manager approval, so that's a system task.

I should include data objects: Invoice, PO, Confirmation, Approval.

Now, produce the final textual model.
</think>
### **BPMN-like Textual Process Model: Invoice Approval Process**

**Process:** Invoice Approval  
**Participants (Pools/Lanes):**  
- **Accounts Payable (AP)**  
- **Purchasing**  
- **Department Management**  
- **AP Supervision**  
- **Supplier Relations**  

---

#### **Main Sequence Flow**

1. **Start Event:** Invoice Received (by AP via email)  
   - *Artifact:* Invoice (no PO initially)  

2. **Activity:** Validate PO Presence (AP)  
   - *Decision Gateway:* PO Present?  
     - **Yes**  Proceed to Log Invoice.  
     - **No**  **Activity:** Request PO from Supplier (AP).  
       - *Exception Path:* Supplier provides PO  Return to Log Invoice.  
       - *Exception Path:* Supplier does not provide PO  **Escalate** to AP Supervisor (Rita) for resolution (e.g., reject invoice or initiate retrospective PO).  

3. **Activity:** Log Invoice in System (AP)  
   - *Artifact:* Logged Invoice record, PO reference in system.  

4. **Activity:** Forward to Purchasing for Receipt Confirmation (AP)  
   - *Message Flow:* Email with invoice/PO details to Purchasing.  

5. **Activity:** Review Invoice Against PO (Purchasing)  
   - *Sub-process:* Compare quantities, prices, delivery charges.  
   - *Decision Gateway:* Details Match?  
     - **Yes**  **Activity:** Confirm Receipt to AP (Purchasing).  
       - *Message Flow:* Email confirmation to AP.  
     - **No**  **Activity:** Investigate Discrepancy (Purchasing).  
       - *Options:*  
         - Contact Supplier directly for correction  Once corrected, return to **Review Invoice Against PO**.  
         - Tell AP to hold invoice  **Escalate** to AP Supervisor if unresolved.  

6. **Activity:** Trigger Manager Approval (AP/System)  
   - *Note:* Automatic system email request upon Purchasing confirmation and system match validation.  

7. **Activity:** Review and Approve Invoice (Department Manager)  
   - *Decision Gateway:* Approved?  
     - **Yes**  **Activity:** Notify AP of Approval (Manager).  
       - *Message Flow:* System notification/email to AP.  
     - **No** (Reject or Hold)  **Activity:** Return to AP for Investigation (Manager).  
       - *Message Flow:* Rejection reason to AP.  
       - *Loop:* AP investigates (may involve Purchasing, Rita, or Karen)  returns to **Log Invoice** or **Review Invoice Against PO** as needed.  

8. **Activity:** Schedule Payment (AP)  
   - *Artifact:* Invoice added to payment run.  

9. **End Event:** Payment Scheduled  

---

#### **Exception/Variation Paths**

- **Escalation to AP Supervisor (Rita):**  
  - *Trigger:* Unresolved discrepancy (from AP or Purchasing), missing PO without supplier response, informal services (no PO).  
  - *Activities:*  
    - Contact suppliers/coordinate departments.  
    - Work with Department Heads to create retrospective PO or reject invoice.  
    - After resolution, return invoice to **Log Invoice** or **Review Invoice Against PO** as appropriate.  

- **Involvement of Supplier Relations (Karen):**  
  - *Trigger:* Discrepancy identified by AP or Purchasing (pricing, terms, missing info).  
  - *Activities:*  
    - Check contract terms.  
    - Contact supplier for clarification/correction.  
    - Advise AP/Purchasing on resolution.  
    - Does not perform system tasks; returns invoice to normal flow after resolution.  

- **Manager Rejection Loop:**  
  - Invoice returns to AP for investigation  may require re-matching, re-confirmation, or escalation  re-enters main flow at **Log Invoice** or **Review Invoice Against PO**.  

---

#### **Key Artifacts/Data Objects**  
- Invoice  
- Purchase Order (PO)  
- Receipt Confirmation (email)  
- Manager Approval (system record)  
- Payment Schedule  

---

#### **Notes on Ambiguities & Consolidation**  
- **Sequence Consistency:** All interviewees agree that Purchasing confirmation precedes Manager approval. Mary and Dan slightly differ on who triggers the Manager step (Mary: AP sends; Dan: assumes AP moves it forward). **Model assumes** system-triggered approval after Purchasing confirmation and system match validation, per Mary’s account.  
- **Discrepancy Resolution:** Dan suggests Purchasing may contact suppliers directly; Mary and Rita indicate AP often coordinates. **Model allows both**, with escalation to Rita if unresolved.  
- **Role Overlap:** Karen assists when discrepancies arise but is not in the core approval chain.  
- **Informal Services (No PO):** Only Rita mentionscreating retrospective PO. This is treated as an exception requiring supervisor intervention.  

---

#### **Textual BPMN Summary (Diagrammatic Analogue)**  
```
[Start]  (Receive Invoice)  {PO Present?}  
   | Yes  (Log Invoice)  (Send to Purchasing)  (Review vs PO)  {Match?}  
   |              | No  (Request PO)  [Supplier Response]  (Log Invoice)  
   |              |  
   |               {No}  (Investigate Discrepancy)  [Escalate to Rita if needed]  
   |  
    (Confirm Receipt)  (Trigger Manager Approval)  (Review/Approve)  {Approved?}  
        | Yes  (Schedule Payment)  [End]  
        | No  (Return to AP)  [Investigation Loop]  
```

**Transformation Note:** This textual model captures activities, gateways, roles, flows, and exceptions. It can be directly translated into a BPMN diagram with:  
- **Pools/Lanes** for each participant.  
- **Tasks** within lanes, connected by **sequence flows**.  
- **Gateways** for decisions.  
- **Message flows** for inter-role communication.  
- **Intermediate events** for escalations/triggers.  
- **Data objects** attached to tasks.  
- **Exception paths** as alternative sequence flows or sub-processes.