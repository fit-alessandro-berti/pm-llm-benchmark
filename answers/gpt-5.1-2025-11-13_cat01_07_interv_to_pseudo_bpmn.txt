Below is a BPMN-like textual model of the described **Invoice Approval Process**. It is organized by pools/lanes, activities, flow, gateways, and exceptions so it can be converted into a diagram.

---

## 1. Participants (Pools/Lanes)

- **Pool: Organization**
  - **Lane: Supplier**
  - **Lane: Accounts Payable (AP) Clerk – Mary**
  - **Lane: AP Supervisor – Rita**
  - **Lane: Purchasing Officer – Dan**
  - **Lane: Supplier Relationship Manager – Karen**
  - **Lane: Department Manager – Carlos**
  - **Lane: Accounting System (System)**

---

## 2. Main Process Flow (Happy Path)

### 2.1 Start and Invoice Receipt

1. **Start Event:** Invoice received  
   - **Lane:** Supplier  AP Clerk  
   - **Trigger:** Supplier sends invoice (usually via email).

2. **Task:** Receive invoice email  
   - **Lane:** AP Clerk  
   - **Data Input:** Invoice (may include PO number, line items, totals).

3. **Task:** Check if invoice includes valid PO number  
   - **Lane:** AP Clerk  

4. **Exclusive Gateway:** PO present and valid?  
   - **Condition [Yes]:** PO number is present and appears valid.  Step 7  
   - **Condition [No]:** PO missing or invalid.  Step 5

### 2.2 Handling Missing or Invalid PO

5. **Task:** Request PO information from supplier  
   - **Lane:** AP Clerk  
   - **Data Output:** Email to supplier requesting PO or more details.

6. **Intermediate Event (Message):** Revised invoice or PO details received from supplier  
   - **Lane:** Supplier  AP Clerk  
   - **Action:** AP Clerk re-checks PO presence/validity  Return to **Step 3** (re-check PO).

> Note: For invoices with *no PO possible* (e.g., informal services), an exception path via AP Supervisor is described below in Section 4.2.

### 2.3 Logging Invoice and Requesting Receipt Confirmation

7. **Task:** Log invoice into accounting system  
   - **Lane:** AP Clerk  
   - **System Interaction:** Create invoice record; link to PO.

8. **Task:** Forward invoice to Purchasing for receipt confirmation  
   - **Lane:** AP Clerk  
   - **Data Output:** Email/notification to Purchasing with invoice and PO details.

9. **Task:** Validate invoice against PO and receipt  
   - **Lane:** Purchasing Officer  
   - **Description:** Dan opens PO, compares quantities, prices, delivery charges, and checks whether goods/services were received.

10. **Exclusive Gateway:** Invoice details match PO and receipt?  
    - **Condition [Yes]:** All quantities, prices, and charges are correct.  Step 13  
    - **Condition [No]:** Discrepancies or missing information.  Step 11

### 2.4 Handling Discrepancies at Purchasing

11. **Task:** Handle discrepancy (Purchasing)  
    - **Lane:** Purchasing Officer  
    - **Possible actions:**  
      - Contact supplier directly to clarify or request corrected invoice.  
      - Instruct AP Clerk to hold invoice until corrected invoice is received.  
      - Possibly involve Supplier Relationship Manager (see Section 4.3).

12. **Intermediate Event (Message):** Discrepancy resolved / corrected invoice received  
    - **Lane:** Supplier  AP Clerk / Purchasing Officer  
    - **Action:**  
      - If corrected invoice received: AP Clerk updates invoice record in system.  
      - Return to **Step 9** (re-validate against PO).

13. **Task:** Send confirmation to AP  
    - **Lane:** Purchasing Officer  
    - **Data Output:** Email confirmation to AP that invoice matches PO and goods/services received.

### 2.5 Matching in AP and Manager Approval

14. **Task:** Match invoice line items to PO in system  
    - **Lane:** AP Clerk  
    - **Description:** Mary uses accounting system to perform a 3-way or 2-way match (invoice vs PO, and implied receipt).

15. **Exclusive Gateway:** Invoice and PO match?  
    - **Condition [Yes]:** No discrepancy remains.  Step 17  
    - **Condition [No]:** Discrepancy detected.  Step 16

16. **Task:** Clarify discrepancy with Purchasing  
    - **Lane:** AP Clerk  
    - **Data Output:** Email to Purchasing detailing mismatch (e.g., pricing, missing items).  
    - **Sub-process:**  
      - Purchasing may re-check with supplier or confirm correct terms (often with help from Karen).  
    - **Exclusive Gateway (Sub):** Discrepancy resolved?  
      - **[Yes]:** AP Clerk updates or confirms invoice data; return to **Step 14**.  
      - **[No]:** AP Clerk escalates to AP Supervisor  see Section 4.1.

17. **Task:** Trigger manager approval request  
    - **Lane:** System  
    - **Description:** System sends automatic email/notification to relevant Department Manager once:  
      - Goods/services received confirmed by Purchasing, and  
      - Invoice matches PO in the system.  
    - **Data Output:** Approval request with invoice, PO, and confirmation details.

18. **Task:** Review invoice and approve/reject  
    - **Lane:** Department Manager  
    - **Description:** Carlos checks quantities, pricing, special notes, and compares with budget.

19. **Exclusive Gateway:** Manager decision  
    - **Condition [Approve]:** Manager clicks approve in the system.  Step 20  
    - **Condition [Reject / Hold]:** Manager sees suspicious issues.  Step 21

20. **Task:** Record manager approval in system  
    - **Lane:** System  
    - **Description:** Status of invoice updated to “Approved”.

21. **Task:** Request hold/investigation  
    - **Lane:** Department Manager  
    - **Data Output:** Instruction to AP Clerk (and possibly Purchasing) to investigate further.  
    - **Sub-process:**  
      - AP Clerk and/or Purchasing investigate; may involve Supplier Relationship Manager and/or AP Supervisor depending on issue.  
      - Once resolved, manager is notified again and returns to **Step 18** for re-evaluation.

### 2.6 Scheduling for Payment

22. **Task:** Schedule invoice for payment  
    - **Lane:** AP Clerk  
    - **Description:** Once manager approval is recorded, Mary/Accounts Payable includes invoice in next payment run.

23. **End Event:** Invoice included in payment cycle  
    - **Lane:** Accounting System / AP Clerk  
    - **Output:** Invoice status “Scheduled for payment” or “Paid” after execution of payment run.

---

## 3. Data Objects / Artifacts

- **Invoice** (from Supplier)  
- **Purchase Order (PO)**  
- **Corrected Invoice** (if discrepancies)  
- **Confirmation of receipt** (from Purchasing)  
- **Approval Request** (system-generated)  
- **Manager Approval / Rejection**  
- **Retrospective PO** (for non-PO invoices; exception)  
- **Supplier Contract / Pricing Terms** (referenced by Supplier Relationship Manager)

---

## 4. Exceptions, Variations, and Escalation Paths

### 4.1 Escalation to AP Supervisor for Unresolved Discrepancies

**Entry point:** From Step 16 when AP Clerk cannot resolve discrepancy with Purchasing, or the discrepancy “can’t be resolved easily.”

24. **Task:** Escalate invoice to AP Supervisor  
   - **Lane:** AP Clerk  
   - **Data Output:** Email/forward case with description of issue.

25. **Task:** Coordinate resolution for problematic invoice  
   - **Lane:** AP Supervisor  
   - **Description:**  
     - Contact supplier directly.  
     - Coordinate between AP, Purchasing, and department heads.  
     - Decide whether to request a corrected invoice, create a retrospective PO, or reject invoice.

26. **Exclusive Gateway:** Can invoice be regularized (e.g., corrected or supported by PO)?  
   - **Condition [Yes]:** Problem resolved, corrected invoice/PO obtained.  Step 27  
   - **Condition [No]:** Invoice cannot be accepted.  Step 28

27. **Task:** Return invoice to normal flow  
   - **Lane:** AP Supervisor  
   - **Action:**  
     - Send information back to AP Clerk.  
     - AP Clerk updates record; process returns to **Step 9 or Step 14** depending on what stage needs to be repeated (re-check with Purchasing and/or re-match).

28. **Task:** Reject invoice  
   - **Lane:** AP Supervisor  
   - **Data Output:** Notification to Supplier (via AP Clerk or Supervisor) that invoice is rejected; internal note in system.  

29. **End Event (Exception):** Invoice rejected / process terminated

### 4.2 Invoices Without Any PO (Informally Contracted Services)

**Entry point:** From Step 3/4 when no PO is present and normal correction is not possible quickly.

30. **Task:** Identify invoice as “no matching PO”  
   - **Lane:** AP Clerk  

31. **Task:** Escalate “no PO” case to AP Supervisor  
   - **Lane:** AP Clerk  

32. **Task:** Evaluate need for retrospective PO or rejection  
   - **Lane:** AP Supervisor  
   - **Description:**  
     - Work with relevant department head to determine legitimacy of service.  
     - Decide whether to create a retrospective PO or reject invoice.

33. **Exclusive Gateway:** Retrospective PO created?  
   - **Condition [Yes]:** Retrospective PO generated and recorded.  Step 34  
   - **Condition [No]:** Invoice rejected.  Step 28

34. **Task:** Attach retrospective PO to invoice and return to normal flow  
   - **Lane:** AP Supervisor / AP Clerk  
   - **Action:** Log invoice linked to the new PO and proceed with normal process from **Step 7** onward.

### 4.3 Involvement of Supplier Relationship Manager (Pricing / Contract Issues)

**Entry point:** Any point where contractual terms or pricing discrepancies arise (typically Step 11 or Step 16).

35. **Task:** Request supplier contract clarification  
   - **Lane:** Purchasing Officer or AP Clerk  
   - **Data Output:** Request to Supplier Relationship Manager.

36. **Task:** Verify terms in supplier contract  
   - **Lane:** Supplier Relationship Manager  
   - **Description:**  
     - Check agreed prices, discounts, terms.  
     - Contact supplier to confirm correct price or missing PO number if necessary.

37. **Task:** Communicate corrected terms / PO details  
   - **Lane:** Supplier Relationship Manager  
   - **Data Output:**  
     - Information to AP or Purchasing indicating the correct price or PO.  
     - Request to supplier for revised invoice if needed.

38. **Task:** Update invoice/PO accordingly  
   - **Lane:** AP Clerk or Purchasing Officer  
   - **Action:**  
     - Update system data if correction is internal.  
     - Wait for revised invoice if external correction is needed.  
   - **Then:** Return to **Step 9** or **Step 14** for re-validation/matching.

---

## 5. Noted Ambiguities / Assumptions

- **Exact sequence of receipt confirmation vs AP matching:**  
  From Mary’s description, **AP forwards to Purchasing**, gets confirmation, then matches in the system. Dan suggests he confirms details vs PO. The model reflects Mary’s sequence: confirmation  AP match  manager approval.
- **System vs email for communications:**  
  Confirmations and approvals are sometimes described as emails and sometimes as system notifications. The model uses:  
  - System for manager approval requests and approvals.  
  - Email/messages for communication between AP and Purchasing, and between internal staff and supplier.
- **Which manager approves (department manager vs “manager” generically):**  
  For clarity, we assume “Department Manager (Carlos or equivalent)” is the required final approver before scheduling payment.

---

This textual model can be directly translated into a BPMN diagram with one pool (“Organization”), multiple lanes as listed, activities numbered as tasks, gateways as decision diamonds (exclusive gateways), and message flows between lanes (e.g., Supplier  AP, AP  Purchasing, AP/Purchasing  Supplier Relationship Manager).