# Comprehensive Process Mining Strategy for E-Commerce Fulfillment Center Optimization

## Executive Summary

The fulfillment center's delivery challenges stem fundamentally from *instance-spanning constraints* — operational rules and resource limitations that create dependencies between otherwise independent orders. Unlike within-instance bottlenecks (which affect only one order), these cross-instance dependencies mean that one order's fate is directly tied to what other orders are doing simultaneously. Standard process mining approaches that analyze cases in isolation are insufficient here; we need a constraint-aware analytical framework that explicitly models and measures these inter-case interactions. This document presents a systematic strategy from discovery through monitoring.

---

## Section 1: Identifying Instance-Spanning Constraints and Their Impact

### 1.1 Analytical Framework

The foundational challenge is that conventional process mining treats each case (order) as independent. To surface instance-spanning constraints, we must enrich the analysis with **cross-case perspectives**: examining what was happening to *other* orders at the exact moment any given order was waiting.

The analytical approach involves four phases:

**Phase 1: Event Log Enrichment**

Before any mining, the raw event log must be augmented with contextual columns computed from the full log, not just the individual case. For each event, we calculate:

- `concurrent_cold_packing_orders`: count of other orders simultaneously occupying a Cold-Packing station
- `current_hazmat_in_packing_qc`: count of hazardous material orders concurrently in Packing or Quality Check at that timestamp
- `active_batch_id`: the batch this order belongs to (if batching is in progress)
- `batch_peer_count`: number of orders in the same batch and their completion states
- `express_orders_in_system`: count of express orders currently active in the facility

This enrichment transforms isolated event records into cross-case-aware data points, enabling the mining techniques below.

**Phase 2: Waiting Time Decomposition**

For each activity transition (from completion of activity A to start of activity B for the same order), we decompose the elapsed time into components:

```
Total Waiting Time = Within-Instance Idle + Resource Contention Wait + Batch Formation Wait + 
                     Priority Preemption Wait + Regulatory Cap Wait
```

The decomposition logic is as follows:

| Wait Type | Identification Criterion |
|-----------|--------------------------|
| **Within-instance idle** | Gap exists but no external constraint was active (no resource contention, no batch pending, regulatory limit not reached, no preemption) — typically indicates internal delays like rework, staff breaks, or system lag |
| **Resource contention** | Target resource (e.g., a Cold-Packing station) was at 100% utilization during the waiting period, occupied by other cases |
| **Batch formation** | Order completed its prior step but `Shipping Label Gen.` had not started AND batch peer orders were still incomplete — the order was ready but waiting for peers |
| **Priority preemption** | An express order arrived and claimed the resource mid-way through a standard order's service, visible as an interrupted START event or unusual resource transfer |
| **Regulatory cap** | `current_hazmat_in_packing_qc`  10 during the waiting period for a hazardous order trying to enter Packing or QC |

This decomposition requires timestamped START and COMPLETE events — which the log provides — so we can pinpoint exactly when waiting began and ended, and cross-reference system state during that interval.

**Phase 3: Per-Constraint Quantification**

---

### 1.2 Cold-Packing Station Constraint

**Identification Method:**

Filter all events where `Requires Cold Packing = TRUE` and activity = `Packing`. Compute the wait between `Item Picking COMPLETE` and `Packing START` for these orders. Cross-reference with the concurrent utilization of Cold-Packing stations (IDs beginning with "C") at the moment each order finished picking.

If all 5 Cold-Packing stations (C1–C5) show active START events without corresponding COMPLETE events when our target order finishes picking, the wait is classified as **Cold-Packing contention wait**.

**Key Metrics:**

- **Cold-Packing Queue Length Over Time**: Plot the number of orders waiting for a Cold-Packing station at 15-minute intervals. This reveals peak contention periods.
- **Cold-Packing Station Utilization Rate**: `(Total time stations are in use) / (Total available station-time × 5)`. If this consistently exceeds 85%, it signals a structural bottleneck.
- **Average Cold-Packing Contention Wait**: Mean wait time attributable to cold station unavailability.
- **Cold-Packing Wait as % of Total Order Cycle Time**: Isolates the magnitude of this constraint relative to overall throughput.
- **Tail Latency (95th percentile)**: Standard mean can mask extreme cases during peak periods; p95 reveals worst-case customer impacts.

**Expected Finding Pattern:** Resource utilization analysis using a resource-centric dotted chart (time on X-axis, stations C1–C5 on Y-axis, events as dots) will likely show extended continuous blocks during peak hours with a visible queue accumulation pattern — orders visible as waiting in a state between Picking completion and Packing start.

---

### 1.3 Shipping Batch Constraint

**Identification Method:**

The `Resource` column contains `System (Batch BX)` for Shipping Label Generation events. Group all orders by their batch ID. For each order in a batch, compute:

```
Batch Formation Wait = Shipping Label Gen COMPLETE timestamp (order) - Packing/QC COMPLETE timestamp (order)
```

The order that completed last in a batch has near-zero batch formation wait. All earlier-completing orders carry the full batch formation wait equal to the time difference between their readiness and the last peer's readiness.

Additionally, filter for cases where `Quality Check COMPLETE` to `Shipping Label Gen START` gap is unusually long (e.g., > 2× mean for that region), and check whether peer orders in the same destination region were still in earlier process stages.

**Key Metrics:**

- **Average Batch Formation Wait by Region**: Different regions may have different order volumes, leading to different average waits.
- **Batch Size Distribution**: Histogram of how many orders form each batch. Very small batches (2–3 orders) may indicate premature triggering; very large batches increase wait for first-completing orders.
- **Batch Wait as % of Total Cycle Time**: For standard orders, this may be the dominant wait category.
- **Time-of-Day Batch Completion Patterns**: Do batches tend to finalize at the same time each day (e.g., 2pm and 6pm dispatch windows), causing artificial clustering?
- **Orders Waiting > X Hours for Batch**: Count of orders waiting beyond threshold (e.g., 3 hours) for batch formation.

---

### 1.4 Priority Preemption Constraint

**Identification Method:**

This is the most complex to identify because the event log may not contain explicit preemption events. We identify preemption through the following pattern:

1. A standard order has a `Packing START` event on resource Station SX.
2. Before a `Packing COMPLETE` event appears for that order, an express order records a `Packing START` event on the *same resource* Station SX.
3. The standard order then shows an unusual gap or a resource transfer.

In logs without explicit preemption events, we can proxy preemption impact by:
- Identifying standard orders that experienced resource changes mid-activity (different resource ID on resumption)
- Flagging standard order activities where duration significantly exceeded the normal distribution (e.g., > 2 standard deviations) and an express order was on the same resource during that period
- Using conformance checking against a reference model that assumes no preemption to detect deviations

**Key Metrics:**

- **Standard Order Delay Attributable to Express Preemption**: Difference between actual duration (including pause) and expected duration for affected standard orders.
- **Frequency of Preemption Events**: How often per day/hour does this occur?
- **Express Order Count by Hour**: Identify time windows with highest express order concentration.
- **Express vs. Standard Order Cycle Time Ratio**: Confirms express orders are indeed faster (validates the policy works), but also reveals cost to standard orders.
- **Standard Orders Missing SLA Due to Preemption**: Ultimate business impact metric.

---

### 1.5 Hazardous Material Regulatory Limit

**Identification Method:**

For every timestamp in the log, compute the count of active hazardous material orders in Packing or Quality Check (i.e., orders where `Hazardous Material = TRUE` and a START event for Packing or QC has occurred but no COMPLETE event yet). This creates a **concurrent hazmat order time series**.

Then identify every hazardous order that waited before Packing START and cross-reference whether the concurrent count was at or near 10 during that wait. If `current_hazmat_in_packing_qc = 10` during the wait, classify it as **regulatory cap wait**.

**Key Metrics:**

- **Regulatory Limit Saturation Duration**: Total minutes per day that the facility is at exactly the 10-order limit (unable to admit more hazmat orders without violation).
- **Regulatory Wait per Hazmat Order**: Average waiting time attributable to the limit being reached.
- **Hazmat Order Arrival Rate vs. Throughput Rate**: If arrival rate of hazmat orders through Packing/QC consistently approaches processing throughput, the limit becomes a chronic bottleneck.
- **Compliance Verification Metric**: Maximum concurrent hazmat orders ever recorded — must always be  10 (compliance check, not just optimization).
- **Hazmat Order Cycle Time Premium**: Difference in average cycle time between hazmat and non-hazmat orders of the same type.

---

### 1.6 Differentiating Within-Instance vs. Between-Instance Waiting Time

This is methodologically critical. The approach uses a **three-step exclusion protocol**:

**Step 1: Identify "pure process time" baseline**

Using only cases with no competing constraints (e.g., standard orders, non-hazmat, non-cold-packing, processed during low-volume periods when resources were clearly available), compute the distribution of each activity duration and inter-activity wait. This establishes the "unconstrained" baseline — what waits look like when instance-spanning constraints are not active.

**Step 2: Attribute excess wait to constraints**

For any case where inter-activity wait exceeds the 90th percentile of the unconstrained baseline, examine the system state during that excess wait:

```
IF resource_fully_occupied_by_other_cases  Resource Contention Wait
ELSE IF batch_peers_incomplete  Batch Formation Wait  
ELSE IF express_order_on_resource  Priority Preemption Wait
ELSE IF hazmat_limit_reached  Regulatory Cap Wait
ELSE  Within-Instance Wait (unexplained: investigate further for rework, manual holds, etc.)
```

**Step 3: Validation through simulation replay**

As a validation check, replay the event log through a simulation model that explicitly enforces the constraints. If the simulated waiting times closely match actual waiting times, the constraint model is capturing reality accurately. Residual unexplained variance represents within-instance factors.

**Practical Illustration:**

For ORD-5001, the wait from `Quality Check COMPLETE (10:35:15)` to `Shipping Label Gen COMPLETE (10:45:50)` is ~10.5 minutes. Since this is a North-region standard order and the Resource shows `System (Batch B1)`, we check: were other North-region orders still in earlier stages at 10:35? If yes, this is Batch Formation Wait. If no other North orders were pending, we'd classify it as within-instance administrative delay or a minimum batch interval policy.

---

## Section 2: Analyzing Constraint Interactions

### 2.1 Constraint Interaction Matrix

Understanding that these four constraints don't operate in isolation is essential. The following interaction matrix captures the most significant compound effects:

| Constraint A | Constraint B | Interaction Effect |
|---|---|---|
| Cold-Packing Scarcity | Priority Preemption | High severity: Express orders requiring cold packing consume the most constrained resource category; a single express cold-packing order can block 4 standard cold-packing orders |
| Cold-Packing Scarcity | Hazmat Limit | Moderate: A hazmat order also requiring cold packing is doubly constrained — waiting for both a cold station and the regulatory headroom |
| Batching | Hazmat Limit | High severity: If multiple hazmat orders destined for the same region pile up waiting for their batch, they then all enter Packing simultaneously, potentially hitting the 10-order limit at once |
| Batching | Priority Preemption | Moderate: Express orders typically bypass batching (shipped individually), which reduces their benefit from route optimization but increases batch formation time for standard orders that were paired with them |
| Priority Preemption | Hazmat Limit | Complex: An express hazmat order may preempt a standard cold-packing order, but it still counts against the 10-order limit; if limit is already near saturation, the express order's expediting advantage is nullified |

### 2.2 Deep Dive: Critical Interaction Scenarios

**Scenario A: Express Cold-Packing Order During Peak Hours**

When an express order requiring cold packing arrives during peak hours (say, 5 cold stations all occupied), it must preempt a standard order from a cold station. This triggers:
1. The displaced standard order joins the cold-packing queue — queue grows by 1
2. The express order occupies the station — no net change in station availability
3. The displaced standard order, now delayed, may miss its regional batch cutoff time
4. Missing the batch means waiting for the next batch cycle — potentially hours of additional delay
5. The cascading effect: one express order can cause multiple standard orders to miss batch deadlines

This is a **preemption cascade** — the cost of priority handling is amplified by the batching constraint.

**Scenario B: Regional Hazmat Clustering**

If the South region receives a surge of hazmat orders (e.g., a large retailer's weekly order), they complete picking approximately simultaneously and queue for Packing at the same time. If 10+ South hazmat orders arrive at Packing simultaneously:
1. The first 10 enter Packing (at the regulatory limit)
2. Remaining hazmat orders wait — this is regulatory cap wait
3. These waiting orders are also all destined for South, so they're in the same batch
4. The batch cannot complete until all South orders finish QC
5. The regulatory bottleneck delays the entire South batch, affecting even non-hazmat South orders (who are batch-delayed despite having no personal constraint)

This is a **regulatory-batching interaction** where the hazmat limit creates a cross-contamination effect on non-hazmat orders via the batching mechanism.

**Scenario C: Cold-Packing × Hazmat × Batch Triple Constraint**

An order that requires cold packing AND contains hazardous materials AND is part of a large regional batch faces all three constraints simultaneously. Such orders can experience waiting times that are multiplicative, not additive — waiting for cold station availability, then contributing to hazmat limit saturation, then waiting for batch formation. Our data enrichment (Section 1.1) would flag these as high-complexity cases requiring special handling.

### 2.3 Why Interaction Analysis Is Critical for Strategy Design

Ignoring interactions leads to **sub-optimal or counterproductive interventions**:

- Adding more Cold-Packing stations without addressing batching logic means faster-packed orders simply wait longer for their batch — no net improvement in end-to-end time
- Reducing batch sizes to speed up formation without addressing hazmat scheduling means more frequent but smaller batches may still be delayed by regulatory cap saturation
- Implementing strict express priority without capacity for express cold-packing orders creates a priority queue that's equally constrained by scarcity — the preemption policy has no effect

Effective strategies must be designed with the interaction web in mind, targeting **lever points** where addressing one constraint relieves pressure on others.

---

## Section 3: Constraint-Aware Optimization Strategies

### Strategy 1: Intelligent Cold-Packing Station Reservation with Dynamic Priority Tiers

**Primary Constraint Addressed:** Cold-Packing Resource Scarcity, with secondary benefit for Priority Preemption interactions

**The Problem Being Solved:**

Currently, cold-packing stations appear to be allocated first-come-first-served (or possibly by express priority alone), creating both contention queues for standard orders and cascade effects when express orders preempt. The 5-station limit is a hard constraint, but its management can be significantly improved.

**Specific Changes Proposed:**

Implement a **tiered reservation system** with three allocation pools:

- **Pool A (2 stations):** Reserved for Express cold-packing orders at all times. These stations are never allocated to standard orders. This eliminates the preemption need — express orders never need to displace standard orders because they always have guaranteed capacity.

- **Pool B (2 stations):** Dedicated to standard cold-packing orders, allocated strictly by queue position and adjusted for hazmat status (hazmat cold-packing orders given slight priority within Pool B to optimize throughput against the regulatory limit).

- **Pool C (1 station):** A **dynamic buffer station** that flexibly allocates based on real-time queue lengths. If express queue (for Pool A) has > 2 orders waiting, Pool C becomes express. If standard queue (for Pool B) has > 5 orders waiting, Pool C becomes standard. Otherwise, Pool C serves whichever queue has orders first.

**Dynamic Adjustment Logic:**

The allocation logic should adapt to intraday patterns. Using historical data, we can determine that express cold-packing orders peak between 11am–2pm (if most express orders come from morning purchases with same-day shipping expectations). During those windows, Pool A could temporarily expand to 3 stations. During off-peak windows (e.g., 7am–9am), Pool A contracts to 1 station and Pool B expands.

**Data/Analysis Leverage:**

- Historical express cold-packing order arrival rates by hour  train a time-series demand forecast (e.g., moving average or simple ARIMA model) to proactively adjust the dynamic buffer station allocation
- Cold-packing utilization patterns from the event log  identify the precise hours where contention is worst, calibrating the reservation split
- Simulation testing (Section 4) to validate the 2-2-1 split versus alternatives (3-1-1, 1-3-1)

**Expected Outcomes:**

- Elimination of express-to-standard preemption events  standard orders no longer experience interruption-induced delays
- Reduction in average cold-packing contention wait for standard orders (more predictable access to Pool B stations)
- Faster express order processing (guaranteed pool, no queue contention)
- Reduced cascade effect: since standard orders are no longer preempted, they're less likely to miss batch cutoffs
- Quantitative target: reduce average cold-packing wait for standard orders by 40–60%, reduce express cold-packing order start-to-complete time by 25%

**Risk Considerations:**

If actual express cold-packing order volume is very low (< 5/day), reserving 2 stations for them wastes capacity. The dynamic buffer station and the data-driven calibration mitigate this, but post-implementation monitoring (Section 5) must track Pool A utilization to recalibrate the reservation split quarterly.

---

### Strategy 2: Adaptive Batch Formation with Predictive Triggering

**Primary Constraint Addressed:** Shipping Batch Formation Wait, with secondary benefit for Hazmat-Batching interaction

**The Problem Being Solved:**

Current batching appears to use either a fixed time window (dispatch at set times) or a fixed size threshold (batch when N orders accumulate). Both approaches create inefficiency: fixed time windows mean early-completing orders wait unnecessarily, while fixed size thresholds mean slow-to-accumulate regions have long unpredictable waits. Neither approach accounts for the hazmat clustering issue where multiple hazmat orders pile up together.

**Specific Changes Proposed:**

Replace fixed batching with a **multi-trigger adaptive batching engine** with three simultaneous triggers, any one of which can initiate batch closure:

**Trigger 1 — Time-Based Deadline (Hard Trigger):**
Each region has a hard maximum batch wait time (e.g., 90 minutes for North, 120 minutes for South) derived from historical data showing the acceptable wait that keeps total cycle time within SLA. If the batch hasn't closed by this deadline, it closes regardless of size.

**Trigger 2 — Demand-Predictive Trigger (Soft Trigger):**
Using a rolling forecast of orders currently in earlier stages (picking, packing) for each region, the system predicts how many additional orders for this region will become batch-ready in the next 30 minutes. If the forecast shows few additional orders arriving (e.g., predicted < 2 more), the batch closes now rather than waiting. If the forecast shows a surge incoming, the batch waits briefly.

**Trigger 3 — Hazmat-Aware Decoupling Trigger:**
If a batch for a region contains hazmat orders approaching the 10-order regulatory threshold (e.g., 8+ hazmat orders in QC simultaneously for this region), split the batch into a non-hazmat sub-batch (close immediately) and a hazmat sub-batch (close after hazmat orders clear QC). This decouples non-hazmat orders from hazmat-induced delays.

**Data/Analysis Leverage:**

- Historical batch size distributions by region and time of day  calibrate the demand-predictive trigger's forecast horizon
- Analysis of which regions experience the worst hazmat clustering (Section 2.2's Scenario B)  prioritize hazmat decoupling trigger for those regions
- Queue depth data at picking and packing for each region  feed real-time data into the predictive trigger
- Route optimization analysis: determine the minimum batch size still delivering routing cost savings  set as minimum batch size floor to prevent batches so small that no routing benefit exists

**Implementation Detail — Hazmat Sub-Batch Logic:**

When the system detects that a regional batch contains  6 hazmat orders (empirically determined threshold — testing via simulation), it proactively separates the batch:
- Non-hazmat orders form Batch A (closes when Trigger 1 or 2 fires)
- Hazmat orders form Batch B (closes when all hazmat orders complete QC, subject to Trigger 1 maximum wait)
- Route optimization runs on both sub-batches independently; if the two sub-batches destined for the same region can be merged at the delivery vehicle level (not at the label generation level), maintain cost efficiency

**Expected Outcomes:**

- Reduction in average batch formation wait, particularly for orders completing early in a batch cycle
- Non-hazmat orders no longer penalized by delays in hazmat order processing through Packing/QC
- Reduction in worst-case batch waits (tail latency improvement) through hard deadline trigger
- Quantitative target: reduce average batch formation wait by 35%, reduce p95 batch formation wait by 50%
- Maintained route optimization benefit (minimum batch size floor ensures sufficient order grouping)

---

### Strategy 3: Hazardous Material Flow Scheduling with Regulatory Buffer Management

**Primary Constraint Addressed:** Hazardous Material Regulatory Limit, with secondary benefits for Batching and Cold-Packing interactions

**The Problem Being Solved:**

The current process treats hazardous material orders like any other orders, allowing them to accumulate freely in queues before Packing. When they do accumulate (particularly due to regional clustering for batching), multiple hazmat orders hit the Packing stage simultaneously, causing the 10-order cap to become a bottleneck. The regulatory limit is a non-negotiable hard constraint, but its *impact* on throughput can be minimized through proactive flow control.

**Specific Changes Proposed:**

Implement a **Hazmat Flow Control Gate** — a scheduled admission system that smooths hazmat order flow into the Packing+QC zone rather than allowing burst arrivals.

**Component 1 — Real-Time Hazmat Occupancy Dashboard:**

At the operational level, create a live display (physical display in the facility + system integration) showing current hazmat order count in Packing and QC. When this count reaches 7 (a configurable warning threshold), the system alerts dispatchers to hold the next hazmat orders at the picking-to-packing transition point rather than routing them directly to a packing station. This 3-order buffer (7 active, 3 soft cap) ensures the 10-order limit is never breached even under unexpected delays.

**Component 2 — Predictive Admission Scheduling:**

Using the event log analysis, identify typical processing times for hazmat orders in Packing and QC. Compute expected completion times for currently active hazmat orders. When a hazmat order completes picking and is ready for packing, the system checks:

```
projected_hazmat_count_at_packing_start = current_hazmat_in_packing_qc - 
    expected_completions_in_next_T_minutes + 1 (for this order)

IF projected_hazmat_count_at_packing_start  9:
    Route to packing immediately
ELSE:
    Schedule packing start for time T when projected count  9
    Assign order to controlled waiting zone
    Notify via dashboard and system
```

This prevents the regulatory cap from being hit reactively (where orders are already queued and blocked) and instead manages admission proactively.

**Component 3 — Expedited Processing Track for Hazmat-Cold-Packing Dual Constraint Orders:**

Orders flagged as both hazardous AND requiring cold packing represent the highest-complexity constraint combination (Section 2.2's triple constraint scenario). These orders receive a dedicated scheduling slot — a reserved combination of cold-packing capacity (from Pool B in Strategy 1) and a guaranteed hazmat admission window. The system prevents more than 2 such dual-constraint orders from being in Packing/QC simultaneously (a sub-limit within the 10-order regulatory limit), ensuring they don't monopolize either the cold station pool or the hazmat budget.

**Data/Analysis Leverage:**

- Historical hazmat order processing times in Packing and QC  calibrate the predictive admission model's time-to-completion estimates
- Hazmat order arrival patterns by region and time of day  identify peak hazmat periods for proactive staffing
- Dual-constraint order frequency analysis  determine whether a dedicated track is warranted (if < 2 dual-constraint orders/day average, the tracking overhead may not be justified)

**Process Redesign Element:**

Consider creating a small dedicated "Hazmat Staging Area" between Item Picking and Packing — a physical buffer zone where hazmat orders wait under controlled conditions when the admission schedule holds them. This decouples the picking resource from packing throughput: pickers can continue working productively while hazmat flow is regulated. Without this staging area, pickers would need to hold completed picks at their station, wasting their capacity.

**Expected Outcomes:**

- Continuous regulatory compliance with zero violations (the primary non-negotiable outcome)
- Elimination of burst-arrival-induced regulatory cap saturation
- Reduction in average hazmat order regulatory cap wait by 60–70% (proactive scheduling prevents the wait from occurring rather than managing it reactively)
- Non-hazmat orders in shared batches with hazmat orders experience faster batch formation (hazmat orders no longer create long QC tails)
- Dual-constraint orders (hazmat + cold-packing) have predictable, scheduled processing rather than competing chaotically for two scarce resources simultaneously

---

### Supporting Strategy: Cross-Constraint Integrated Scheduling System

While not numbered as a primary strategy, the three strategies above are significantly more effective when unified under an **integrated order scheduling engine** that considers all constraints simultaneously rather than independently.

This engine, fed by real-time event data, computes for each order-ready-for-next-step:
- Available cold-packing pool (A/B/C from Strategy 1)
- Predicted batch closure time for the order's region (from Strategy 2)
- Hazmat headroom available (from Strategy 3)
- Order priority tier (express vs. standard)

And outputs an optimized routing decision that balances all four constraints. For example: if a standard cold-packing hazmat order is ready, and Pool B has capacity, and the hazmat count is at 8/10, and the order's regional batch closes in 20 minutes — the engine might delay the order by 15 minutes until the hazmat count drops to 7 (two completions expected in that window), then route it immediately, ensuring it still makes the batch. Without integration, each constraint would be managed locally and might produce conflicting routing decisions.

---

## Section 4: Simulation and Validation

### 4.1 Simulation Approach and Model Architecture

Before implementing any of the three strategies, simulation provides a cost-free testing environment where we can run thousands of scenarios in minutes rather than waiting weeks for real operational data.

**Recommended Simulation Approach: Discrete-Event Simulation (DES)**

Discrete-event simulation is the appropriate paradigm because the fulfillment process is inherently event-driven (orders trigger events at specific moments) and the instance-spanning constraints are precisely the kind of resource contention and synchronization logic that DES handles natively.

**Simulation Model Construction:**

**Step 1 — Process Model Calibration from Event Log:**

Extract from the three-month event log:
- Activity duration distributions for each activity type (fit to appropriate statistical distributions — often lognormal for processing times due to right-skew)
- Arrival rate distributions for order types (standard vs. express, cold-packing required, hazmat) by hour of day and day of week
- Resource availability schedules (staffing shifts, station maintenance windows)
- Batch formation patterns (historical batch sizes and formation times by region)

These empirical distributions — not assumed textbook distributions — drive the simulation's realism.

**Step 2 — Instance-Spanning Constraint Implementation:**

This is where the simulation must be specifically designed to capture cross-case dependencies:

*Cold-Packing Stations:* Model as a **resource pool** with capacity 5, subdivided into pools A (2), B (2), C (1) under Strategy 1. Each order requesting cold packing must seize a resource from the appropriate pool before proceeding, with queuing when capacity is exhausted. Implement preemption logic as a resource priority policy (high priority = express, low priority = standard).

*Shipping Batches:* Implement as **synchronization constructs** — a batch entity that orders join upon completing QC. The batch entity fires (releases all orders) when trigger conditions are met (Strategy 2's multi-trigger logic). This is critical: most DES tools have built-in batching primitives, but they must be configured to correctly hold orders in a "batch-waiting" state that blocks Shipping Label Generation.

*Priority Preemption:* Implement as **priority-based resource allocation** — when an express order requests a resource currently held by a standard order, the standard order is interrupted (its activity is paused), the resource is seized by the express order, and the standard order resumes when the resource is released. Track the interrupted time as preemption wait.

*Hazardous Material Limit:* Implement as a **global counter semaphore** — a shared counter that all cases can read and increment/decrement. Before a hazmat order can start Packing, it must check if the counter < 10 and increment it; upon completing QC, it decrements the counter. If counter = 10, the order waits in a holding state. This correctly models the cross-case regulatory constraint.

**Step 3 — Scenario Testing:**

Run the simulation under four scenario sets:

| Scenario | Description | Purpose |
|---|---|---|
| **Baseline** | Current process, current policies (no strategies implemented) | Establish KPI baseline to compare against |
| **Strategy 1 Only** | Cold-packing reservation, no batching or hazmat changes | Isolate Strategy 1's impact |
| **Strategy 2 Only** | Adaptive batching, no cold-packing or hazmat changes | Isolate Strategy 2's impact |
| **Strategy 3 Only** | Hazmat flow control, no cold-packing or batching changes | Isolate Strategy 3's impact |
| **Strategies 1+2+3** | All strategies simultaneously | Capture combined effect and interaction benefits |
| **Stress Test: Peak Season** | All strategies, but order arrival rates at 150% of average (Black Friday simulation) | Validate strategies hold under peak load |
| **Sensitivity: Express Volume** | Strategy 1 with varying express order proportions (5%, 15%, 25%) | Determine optimal pool split for different business scenarios |

Each scenario runs for a simulated 90-day period, repeated 30 times (Monte Carlo replications) to account for stochastic variability. Results are averaged across replications with confidence intervals.

### 4.2 Key Simulation Focus Areas

**Focus 1: Resource Contention Dynamics**

The simulation must accurately model queue formation and resolution at Cold-Packing stations. Specifically, validate that:
- Queue length distributions match historical data under baseline scenario (if simulation matches reality, the model is calibrated correctly)
- Under Strategy 1, queue length for standard orders decreases without generating unacceptable express queues

**Focus 2: Batch Formation Timing**

Implement the batch trigger logic with exact replication of Strategy 2's rules. Verify that:
- Average batch formation wait decreases versus baseline
- Batch size distributions remain above the minimum viable size for routing optimization
- Edge cases are handled: what happens when a region receives only 1 order in a day? (Trigger 1's hard deadline ensures it eventually ships alone)

**Focus 3: Regulatory Limit Compliance Throughout Simulation**

At every simulated event, assert that `hazmat_in_packing_qc  10`. Any simulation replication that produces a violation indicates a flaw in the Strategy 3 implementation logic. Additionally, track whether the 3-order buffer (soft cap of 7) is maintained.

**Focus 4: Interaction Effect Measurement**

Specifically measure interaction-amplified scenarios:
- Track standard orders that are both cold-packing required AND batch-delayed — does Strategy 1 reduce their batch delays (confirming the preemption cascade is broken)?
- Track hazmat orders that are batch-paired with non-hazmat orders — does Strategy 2's hazmat sub-batch reduce non-hazmat orders' batch wait?

**Focus 5: KPI Summary Dashboard for Simulation Output**

For each scenario and replication, capture:
- Average end-to-end cycle time (all orders, express only, standard only, hazmat only, cold-packing only)
- p95 cycle time (tail latency)
- SLA compliance rate (% of orders delivered within target time)
- Cold-Packing station utilization by pool (A, B, C)
- Average batch formation wait by region
- Frequency and duration of hazmat regulatory cap saturation events
- Standard orders delayed by express preemption events (should be 0 under Strategy 1)
- Throughput (orders shipped per day)

### 4.3 Simulation Validation and Calibration

Before running strategy scenarios, validate the baseline simulation:

1. **Historical Replay Test:** Feed the actual three months of order arrivals (same timestamps, same order attributes) into the simulation and compare simulated outcomes against actual event log outcomes. If simulated average cycle time is within 10% of actual and KPI distributions match, the model is sufficiently calibrated.

2. **Constraint Saturation Test:** Manually introduce a surge of hazmat orders in the simulation and verify the regulatory limit is correctly enforced (counter caps at 10). Similarly, flood cold-packing demand to verify queue formation matches expected behavior.

3. **Expert Review:** Have floor supervisors review the simulation model logic, particularly the preemption behavior and batch triggering rules, to confirm it matches actual operational realities that may not be fully captured in the event log.

---

## Section 5: Monitoring Post-Implementation

### 5.1 Monitoring Framework Architecture

Post-implementation monitoring serves three purposes: confirming that strategies are producing expected benefits, detecting unintended consequences, and triggering recalibration when operational conditions change (e.g., business growth, new product lines, regulatory changes).

The monitoring architecture has three layers:

**Layer 1 — Real-Time Operational Dashboards (15-minute refresh)**

For floor supervisors and shift managers to act on immediately:

| Dashboard Panel | Metric | Alert Threshold |
|---|---|---|
| Hazmat Regulatory Status | Current hazmat orders in Packing+QC | Alert at 8, Critical at 9 |
| Cold-Packing Queue | Orders waiting per pool (A, B, C) | Alert if any pool queue > 5 |
| Express Order Status | Count of express orders in system | Informational |
| Batch Readiness | Open batches by region + estimated closure time | Alert if batch age > 60% of deadline |
| Preemption Events | Count today | Alert if > X (calibrated from baseline) |

**Layer 2 — Daily Performance Dashboards (end-of-day summary)**

For operations managers and team leads:

*Constraint Effectiveness Metrics:*
- **Cold-Packing Contention Wait Trend**: Daily average wait attributable to cold station unavailability. Plotted as a time series (pre-implementation baseline as horizontal reference line). Target: sustained reduction of 40% vs. baseline.
- **Pool Utilization Balance**: Hours per day each pool (A, B, C) is fully utilized. Pool C's flexibility is key — if it's consistently fully allocated to one type, consider permanently reassigning it.
- **Batch Formation Wait by Region**: Daily average and p95 by region. Post-implementation target: all regions below 90-minute average.
- **Hazmat Regulatory Events**: Count of days where saturation (count = 10) lasted > 30 minutes. Post-implementation target: < 2 such days per week.
- **Express Preemption Events**: Count of standard orders interrupted by express orders. Post-implementation target: 0 (Strategy 1 should eliminate this).

*Overall Performance Metrics:*
- **End-to-End Cycle Time Distribution**: Daily histogram comparing to pre-implementation. Watch for distributional shift (mean reduction, variance reduction).
- **SLA Compliance Rate**: % of orders delivered within promised window. Primary business outcome metric.
- **Throughput**: Orders shipped per day/per hour. Should increase as bottlenecks are relieved.

**Layer 3 — Weekly/Monthly Strategic Dashboards**

For senior management and process owners:

- **Constraint Impact Attribution Analysis**: Repeat the waiting time decomposition (Section 1.1) monthly on the new event log. Track how the proportion of waiting time attributable to each constraint changes over time. Successful optimization shows shrinking between-instance wait fractions.
- **Capacity Adequacy Review**: Cold-Packing station utilization trends. If pool utilization consistently exceeds 90%, consider the business case for a 6th station.
- **Strategy Calibration Indicators**: Key parameters (pool split, batch timeout, hazmat warning threshold) and their current settings versus optimal settings suggested by data.
- **Interaction Event Tracker**: Monthly count of cases where multiple constraints affected the same order (dual/triple constraint cases). Trend should decrease as strategies manage each constraint more effectively.

### 5.2 Process Mining Continuous Monitoring

Beyond dashboards, establish ongoing automated process mining using conformance checking:

**Conformance Checking Against Target Model:**

Define a target process model that incorporates the expected behavior under the new strategies (e.g., express orders never preempt, batches close within the deadline trigger, hazmat never exceeds 9 simultaneously). Run automated conformance checking daily against the live event log. Deviations from the target model are automatically flagged and routed to the appropriate supervisor.

**Drift Detection:**

Configure process mining tool to detect **concept drift** — changes in process behavior over time that might indicate:
- Cold-packing demand increasing faster than Strategy 1 anticipated (calibration needed)
- New order types being processed (e.g., new hazmat categories)
- Seasonal patterns requiring batch timeout recalibration
- Staff turnover affecting processing time distributions

**Bottleneck Evolution Tracking:**

After eliminating the primary bottlenecks (cold-packing contention, batch wait, hazmat bursts), new bottlenecks will inevitably emerge as the constraining limits shift. Monthly automated bottleneck detection (using token-based replay or performance spectrum analysis) ensures the optimization focus remains on the current real bottleneck, not the ones already solved.

### 5.3 Feedback Loop for Strategy Recalibration

Establish a quarterly **Strategy Review Cycle:**

1. **Extract** the prior quarter's event log
2. **Re-run** the waiting time decomposition analysis (Section 1.1) with updated data
3. **Compare** current constraint impact metrics against targets
4. **Identify** new interaction patterns that may have emerged
5. **Recalibrate** key parameters (pool split, batch triggers, hazmat thresholds) using updated simulation runs
6. **Update** the integrated scheduling engine's decision rules

This ensures the optimization is not a one-time fix but an **adaptive, continuously improving system** that responds to evolving operational realities.

---

## Conclusion

The fulfillment center's delivery challenges are fundamentally rooted in unmanaged instance-spanning constraints — dependencies between orders that create cross-case waiting, preemption, and regulatory friction. A strategy focused solely on individual order optimization (faster picking, better QC) would miss these systemic causes entirely.

The approach presented here addresses the problem at its root:

1. **Analytically**, by developing a rigorous waiting time decomposition that distinguishes within-instance from between-instance delays, providing a data-driven foundation for targeted intervention.

2. **Strategically**, by designing three mutually reinforcing strategies (Cold-Packing Reservation, Adaptive Batching, Hazmat Flow Control) that address each primary constraint while explicitly accounting for their interactions — ensuring solutions to one constraint don't inadvertently worsen another.

3. **Validationally**, by using constraint-faithful discrete-event simulation to test strategies risk-free before operational deployment.

4. **Operationally**, by establishing a monitoring infrastructure that tracks constraint management effectiveness continuously, enabling adaptive recalibration as the business evolves.

The expected combined impact of all three strategies — validated through simulation before commitment — is a meaningful reduction in average end-to-end cycle time (targeting 30–40%), significant improvement in SLA compliance particularly during peak seasons, and maintained regulatory compliance throughout. More fundamentally, this framework transforms the fulfillment center from a system that *reacts* to constraint conflicts as they arise to one that *proactively manages* the complex web of inter-order dependencies that is the true driver of its performance.