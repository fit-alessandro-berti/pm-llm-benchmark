# POWL Models for GlobalTeq Solutions Hiring Process

Below are two POWL models representing the hiring process. The first model contains an XOR branch that introduces potential unfairness through differentiated treatment based on community affiliation. The second model removes this bias by ensuring all applicants undergo the same evaluation path.

## Model 1: POWL Model with Potential Unfairness

```python
import pm4py
from pm4py.objects.powl.obj import StrictPartialOrder, OperatorPOWL, Transition, SilentTransition
from pm4py.objects.process_tree.obj import Operator

# ============================================
# POWL Model 1: With Potential Unfairness
# ============================================

# Define all activities for the hiring process
ReceiveApplication = Transition(label="ReceiveApplication")
DataCompletenessCheck = Transition(label="DataCompletenessCheck")
RequestMoreInfo = Transition(label="RequestMoreInfo")
SkillAssessment = Transition(label="SkillAssessment")
CulturalFitCheck = Transition(label="CulturalFitCheck")
CommunityAffiliationCheck = Transition(label="CommunityAffiliationCheck")  # Bias-inducing activity
ManagerialReview = Transition(label="ManagerialReview")
FinalDecision = Transition(label="FinalDecision")

# Create LOOP for data completeness: execute DataCompletenessCheck, 
# then either exit or execute RequestMoreInfo and loop back
data_completeness_loop = OperatorPOWL(
    operator=Operator.LOOP, 
    children=[DataCompletenessCheck, RequestMoreInfo]
)

# Create XOR branch: This is where UNFAIRNESS is introduced
# Applicants either go through standard CulturalFitCheck OR 
# CommunityAffiliationCheck (which gives subtle advantage to affiliated applicants)
cultural_evaluation_xor = OperatorPOWL(
    operator=Operator.XOR, 
    children=[CulturalFitCheck, CommunityAffiliationCheck]
)

# Build the main process model as a strict partial order
model_with_unfairness = StrictPartialOrder(
    nodes=[
        ReceiveApplication, 
        data_completeness_loop, 
        SkillAssessment, 
        cultural_evaluation_xor,  # XOR branch with potential bias
        ManagerialReview, 
        FinalDecision
    ]
)

# Define the sequential ordering of activities
model_with_unfairness.order.add_edge(ReceiveApplication, data_completeness_loop)
model_with_unfairness.order.add_edge(data_completeness_loop, SkillAssessment)
model_with_unfairness.order.add_edge(SkillAssessment, cultural_evaluation_xor)
model_with_unfairness.order.add_edge(cultural_evaluation_xor, ManagerialReview)
model_with_unfairness.order.add_edge(ManagerialReview, FinalDecision)
```

### Explanation of Model 1:
- **Loop Structure**: After receiving an application, there's a loop between `DataCompletenessCheck` and `RequestMoreInfo` to ensure all required information is collected.
- **XOR Branch (Bias Point)**: After `SkillAssessment`, applicants are routed through **either**:
  - `CulturalFitCheck` (standard evaluation), **OR**
  - `CommunityAffiliationCheck` (which provides implicit scoring advantages to applicants with local community ties or membership in the "Global Business Leaders Club")
- This XOR creates **unfairness** because some applicants receive preferential treatment based on non-merit factors.

---

## Model 2: POWL Model Without Unfairness

```python
import pm4py
from pm4py.objects.powl.obj import StrictPartialOrder, OperatorPOWL, Transition, SilentTransition
from pm4py.objects.process_tree.obj import Operator

# ============================================
# POWL Model 2: Without Unfairness (Fair Process)
# ============================================

# Define all activities for the hiring process
ReceiveApplication = Transition(label="ReceiveApplication")
DataCompletenessCheck = Transition(label="DataCompletenessCheck")
RequestMoreInfo = Transition(label="RequestMoreInfo")
SkillAssessment = Transition(label="SkillAssessment")
CulturalFitCheck = Transition(label="CulturalFitCheck")  # Single path for all
ManagerialReview = Transition(label="ManagerialReview")
FinalDecision = Transition(label="FinalDecision")

# Create LOOP for data completeness: same as before
data_completeness_loop = OperatorPOWL(
    operator=Operator.LOOP, 
    children=[DataCompletenessCheck, RequestMoreInfo]
)

# NO XOR branch here - all applicants go through the same CulturalFitCheck
# This ensures equal treatment regardless of community affiliation

# Build the main process model as a strict partial order
model_without_unfairness = StrictPartialOrder(
    nodes=[
        ReceiveApplication, 
        data_completeness_loop, 
        SkillAssessment, 
        CulturalFitCheck,  # Single activity, no branching
        ManagerialReview, 
        FinalDecision
    ]
)

# Define the sequential ordering of activities
model_without_unfairness.order.add_edge(ReceiveApplication, data_completeness_loop)
model_without_unfairness.order.add_edge(data_completeness_loop, SkillAssessment)
model_without_unfairness.order.add_edge(SkillAssessment, CulturalFitCheck)
model_without_unfairness.order.add_edge(CulturalFitCheck, ManagerialReview)
model_without_unfairness.order.add_edge(ManagerialReview, FinalDecision)
```

### Explanation of Model 2:
- **Loop Structure**: Identical to Model 1 — ensures data completeness through the loop between `DataCompletenessCheck` and `RequestMoreInfo`.
- **No XOR Branch**: All applicants proceed through the **same** `CulturalFitCheck` activity after the skill assessment. There is no alternative path based on community affiliation.
- **Fair Evaluation**: By removing the `CommunityAffiliationCheck` branch, all candidates are evaluated using identical criteria, eliminating the source of potential bias.

---

## Summary Comparison

| Aspect | Model 1 (Unfair) | Model 2 (Fair) |
|--------|------------------|----------------|
| Data Completeness | Loop () | Loop () |
| Skill Assessment | Sequential () | Sequential () |
| Cultural Evaluation | **XOR**: `CulturalFitCheck` OR `CommunityAffiliationCheck` | Single path: `CulturalFitCheck` only |
| Bias Source | Affiliation-based branching gives advantage | No preferential treatment |
| Managerial Review | Sequential () | Sequential () |
| Final Decision | Sequential () | Sequential () |

The key structural difference is the **XOR operator** in Model 1 that creates two evaluation paths, one of which (`CommunityAffiliationCheck`) introduces bias by favoring applicants with certain affiliations. Model 2 eliminates this by using a single, uniform cultural fit evaluation for all candidates.