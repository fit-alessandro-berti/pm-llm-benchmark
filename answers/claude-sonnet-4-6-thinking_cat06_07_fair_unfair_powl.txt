# POWL Models for GlobalTeq Solutions Hiring Process

## Conceptual Overview

Before diving into the code, here is how each model maps to the process description:

| Step | Activity Label | Notes |
|---|---|---|
| Application receipt | `ReceiveApplication` | Entry point |
| Data loop | `* (DataCompletenessCheck, RequestMoreInfo)` | Repeats until complete |
| Skill test | `SkillAssessment` | Threshold-based filter |
| Cultural evaluation | `CulturalFitCheck` | Standard path (fair) |
| Biased branch | `CommunityAffiliationCheck` | XOR alternative (unfair) |
| Human review | `ManagerialReview` | Borderline cases |
| Outcome | `FinalDecision` | Hire / Reject |

---

## Model 1 — POWL With Potential Unfairness

```python
import pm4py
from pm4py.objects.powl.obj import StrictPartialOrder, OperatorPOWL, Transition, SilentTransition
from pm4py.objects.process_tree.obj import Operator

# 
# Define all atomic activities
# 
receive_app      = Transition(label="ReceiveApplication")
data_check       = Transition(label="DataCompletenessCheck")
request_info     = Transition(label="RequestMoreInfo")
skill_assess     = Transition(label="SkillAssessment")
cultural_fit     = Transition(label="CulturalFitCheck")          # standard path
community_check  = Transition(label="CommunityAffiliationCheck") # biased path
managerial_review = Transition(label="ManagerialReview")
final_decision   = Transition(label="FinalDecision")

# 
# LOOP: data completeness gate
#   Execute DataCompletenessCheck;
#   if info is missing  RequestMoreInfo  repeat,
#   otherwise  exit loop and continue.
# 
loop_data_completeness = OperatorPOWL(
    operator=Operator.LOOP,
    children=[data_check, request_info]
)

# 
# XOR: the SOURCE OF UNFAIRNESS
#   Either the applicant takes the standard
#   CulturalFitCheck, OR they are routed through
#   CommunityAffiliationCheck, which grants a
#   subtle scoring uplift based on local/club ties.
# 
xor_cultural_or_affiliation = OperatorPOWL(
    operator=Operator.XOR,
    children=[cultural_fit, community_check]
)

# 
# ROOT: strict partial order over all top-level nodes
#   ReceiveApplication
#        LOOP(DataCompletenessCheck, RequestMoreInfo)
#            SkillAssessment
#                XOR(CulturalFitCheck, CommunityAffiliationCheck)
#                    ManagerialReview
#                        FinalDecision
# 
model_unfair = StrictPartialOrder(
    nodes=[
        receive_app,
        loop_data_completeness,
        skill_assess,
        xor_cultural_or_affiliation,
        managerial_review,
        final_decision
    ]
)

# Enforce strict sequential execution
model_unfair.order.add_edge(receive_app,                  loop_data_completeness)
model_unfair.order.add_edge(loop_data_completeness,       skill_assess)
model_unfair.order.add_edge(skill_assess,                 xor_cultural_or_affiliation)
model_unfair.order.add_edge(xor_cultural_or_affiliation,  managerial_review)
model_unfair.order.add_edge(managerial_review,            final_decision)
```

### Why This Is Unfair

```
ReceiveApplication
        
        
*(DataCompletenessCheck, RequestMoreInfo)    loop until data complete
        
        
   SkillAssessment                           merit-based filter
        
        
 
   XOR   BIAS SOURCE       
                              
                              
CulturalFitCheck     CommunityAffiliationCheck
 (neutral)            (score uplift for club/local ties)
 
        
        
  ManagerialReview                           human reviewer also susceptible
        
        
   FinalDecision
```

The `XOR` node allows two structurally different evaluation paths. Applicants routed through `CommunityAffiliationCheck` receive an implicit advantage unrelated to job competence, violating procedural fairness.

---

## Model 2 — POWL Without Unfairness

```python
import pm4py
from pm4py.objects.powl.obj import StrictPartialOrder, OperatorPOWL, Transition, SilentTransition
from pm4py.objects.process_tree.obj import Operator

# 
# Define all atomic activities
# (No CommunityAffiliationCheck activity at all)
# 
receive_app       = Transition(label="ReceiveApplication")
data_check        = Transition(label="DataCompletenessCheck")
request_info      = Transition(label="RequestMoreInfo")
skill_assess      = Transition(label="SkillAssessment")
cultural_fit      = Transition(label="CulturalFitCheck")   # the ONE and ONLY path
managerial_review = Transition(label="ManagerialReview")
final_decision    = Transition(label="FinalDecision")

# 
# LOOP: data completeness gate (identical logic)
#   Execute DataCompletenessCheck;
#   if info is missing  RequestMoreInfo  repeat,
#   otherwise  exit loop and continue.
# 
loop_data_completeness = OperatorPOWL(
    operator=Operator.LOOP,
    children=[data_check, request_info]
)

# 
# ROOT: strict partial order — NO XOR branch
#   Every applicant follows the exact same path:
#   ReceiveApplication
#        LOOP(DataCompletenessCheck, RequestMoreInfo)
#            SkillAssessment
#                CulturalFitCheck    uniform for everyone
#                    ManagerialReview
#                        FinalDecision
# 
model_fair = StrictPartialOrder(
    nodes=[
        receive_app,
        loop_data_completeness,
        skill_assess,
        cultural_fit,          # replaces the XOR node entirely
        managerial_review,
        final_decision
    ]
)

# Enforce strict sequential execution
model_fair.order.add_edge(receive_app,            loop_data_completeness)
model_fair.order.add_edge(loop_data_completeness, skill_assess)
model_fair.order.add_edge(skill_assess,           cultural_fit)
model_fair.order.add_edge(cultural_fit,           managerial_review)
model_fair.order.add_edge(managerial_review,      final_decision)
```

### Why This Is Fair

```
ReceiveApplication
        
        
*(DataCompletenessCheck, RequestMoreInfo)    loop until data complete
        
        
   SkillAssessment                           merit-based filter
        
        
  CulturalFitCheck                           same evaluation for ALL applicants
        
        
  ManagerialReview                           context: no affiliation signals
        
        
   FinalDecision
```

The `XOR` node and the `CommunityAffiliationCheck` branch are completely removed. Every applicant traverses an **identical** sequence of evaluations. No structural path exists through which community ties or club membership can produce a scoring advantage.

---

## Side-by-Side Structural Difference

```
MODEL 1 (Unfair)                     MODEL 2 (Fair)
     
ReceiveApplication                   ReceiveApplication
                                            
*(DataCheck, RequestMoreInfo)        *(DataCheck, RequestMoreInfo)
                                            
 SkillAssessment                      SkillAssessment
                                            
 X(CulturalFitCheck,              CulturalFitCheck    only path
   CommunityAffiliationCheck)                
                                     ManagerialReview
 ManagerialReview                            
                                     FinalDecision
 FinalDecision
        
         XOR here is the
            single source of
            structural bias
```

The **only** structural difference between the two models is the replacement of `X(CulturalFitCheck, CommunityAffiliationCheck)` with the single activity `CulturalFitCheck`, eliminating the pathway through which implicit bias can enter the process.