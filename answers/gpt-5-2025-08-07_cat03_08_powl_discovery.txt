Below is a POWL model that captures the discovered control-flow:

Key constructs
- Assembly + in-line checks:
  - Inner loop (one-or-more IQC): L_IQC = * ( IQC, IQC )
  - Outer loop (AS, with optional blocks of IQC between AS repetitions): L_AS_IQC = * ( AS, L_IQC )
    This yields sequences like AS; or AS, IQC+, AS, IQC+, AS, … and allows zero IQC after the last AS (exit).
- Testing with possible re-testing: L_TEST = * ( TST, RT )
- Optional labeling: LB_OPT = X ( LB,  ), where  is a silent transition (skip)

Final POWL structure
- Atomic transitions:
  - OR = Transition("OR")
  - MS = Transition("MS")
  - QS = Transition("QS")
  - AS = Transition("AS")
  - IQC = Transition("IQC")
  - TST = Transition("TST")
  - RT = Transition("RT")
  - PK = Transition("PK")
  - LB = Transition("LB")
  - DP = Transition("DP")
  - D = Transition("D")
  -  = SilentTransition()

- Composite operators:
  - L_IQC = * ( IQC, IQC )
  - L_AS_IQC = * ( AS, L_IQC )
  - L_TEST = * ( TST, RT )
  - LB_OPT = X ( LB,  )

- Root partial order:
  PO = (
    nodes = { OR, MS, QS, L_AS_IQC, L_TEST, PK, LB_OPT, DP, D },
    order = {
      OR --> MS,
      MS --> QS,
      QS --> L_AS_IQC,
      L_AS_IQC --> L_TEST,
      L_TEST --> PK,
      PK --> LB_OPT,
      LB_OPT --> DP,
      DP --> D
    }
  )

Explanation of fit to the log
- OR  MS  QS  … is always observed.
- Assembly can be followed by zero or more IQC, and further assembly cycles require at least one IQC in between; this is captured by the nested loops L_AS_IQC = * ( AS, * ( IQC, IQC ) ).
- Testing may be followed by zero or more RT cycles, modeled by L_TEST = * ( TST, RT ).
- Labeling is optional after packaging (LB or skip), expressed by LB_OPT = X ( LB,  ).
- DP occurs after packaging and any labeling decision, and D is last.