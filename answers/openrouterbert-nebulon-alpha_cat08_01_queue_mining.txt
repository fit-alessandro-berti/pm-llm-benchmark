# **Comprehensive Process Mining & Queue Mining Approach for Outpatient Clinic Optimization**

## **1. Queue Identification and Characterization**

### **1.1 Calculating Waiting Times (Queue Times)**
In this context, **waiting time (queue time)** is defined as the duration between the **completion of one activity** and the **start of the next activity** for the same patient visit. This represents the time a patient spends idle, waiting for the next step in their care journey.

**Calculation Method:**
For each patient visit (Case ID), we extract the sequence of activities and their timestamps. For consecutive activities *A* and *B*:
- **Waiting Time (A  B) = Start Time (B) – Completion Time (A)**

**Example (from the event log):**
- *Registration (Complete)*: 09:08:45
- *Nurse Assessment (Start)*: 09:15:20
- **Waiting Time (Registration  Nurse Assessment) = 6 minutes 35 seconds**

### **1.2 Key Queue Metrics for Characterization**
To systematically analyze queues, we compute the following metrics **per transition** (e.g., Registration  Nurse Assessment, Nurse Assessment  Doctor Consultation):

| **Metric**                     | **Definition**                                                                 | **Purpose**                                                                 |
|--------------------------------|-------------------------------------------------------------------------------|-----------------------------------------------------------------------------|
| **Average Waiting Time**       | Mean waiting time across all cases for a given transition.                   | Identifies typical delays.                                                  |
| **Median Waiting Time**        | 50th percentile waiting time.                                                 | Less sensitive to outliers than mean.                                       |
| **90th Percentile Waiting Time** | 90th percentile waiting time.                                                | Highlights worst-case scenarios (critical for patient satisfaction).        |
| **Maximum Waiting Time**       | Longest observed waiting time.                                               | Identifies extreme delays that may indicate systemic issues.                |
| **Queue Frequency**            | Percentage of cases experiencing a wait > *X* minutes (e.g., >15 min).       | Measures how often patients face unacceptable delays.                       |
| **Number of Cases with Excessive Waits** | Count of cases where waiting time exceeds a threshold (e.g., >30 min). | Quantifies the scale of the problem.                                        |
| **Coefficient of Variation (CV)** | Standard deviation / mean waiting time.                                      | Measures variability in waiting times (high CV suggests unpredictability).  |
| **Resource Utilization**       | Percentage of time a resource (staff/room) is occupied.                      | Correlates with waiting times (high utilization may cause bottlenecks).     |

### **1.3 Identifying Critical Queues**
To prioritize queues for intervention, we use a **multi-criteria scoring system** combining:
1. **Impact on Patient Experience**
   - High average/median waiting times (e.g., >20 min).
   - High 90th percentile waiting times (e.g., >45 min).
   - High frequency of excessive waits (e.g., >30% of cases wait >15 min).
2. **Volume of Affected Patients**
   - Number of cases experiencing the queue (e.g., >50% of all visits).
3. **Strategic Importance**
   - Queues affecting **high-urgency patients** (e.g., urgent cases waiting for triage).
   - Queues in **early stages** (e.g., Registration  Nurse Assessment) that cascade delays downstream.
   - Queues tied to **high-value specialties** (e.g., Cardiology, Oncology).

**Example Critical Queues (Hypothetical Findings):**
| **Transition**               | **Avg Wait (min)** | **90th %ile (min)** | **% Cases >15 min** | **Priority** |
|------------------------------|--------------------|---------------------|---------------------|--------------|
| Registration  Nurse Assessment | 18                 | 40                  | 45%                 | **High**     |
| Nurse Assessment  Doctor    | 25                 | 55                  | 60%                 | **Critical** |
| Doctor  Diagnostic Test     | 12                 | 30                  | 25%                 | Medium       |
| Diagnostic Test  Check-out  | 8                  | 20                  | 10%                 | Low          |

**Justification for Prioritization:**
- **Nurse Assessment  Doctor** is the **most critical** due to:
  - Longest average and 90th percentile waits.
  - Affects the **core care delivery** (doctor consultation).
  - High variability (CV > 1.0) suggests unpredictable delays.
- **Registration  Nurse Assessment** is **high priority** because:
  - Early-stage delays **propagate** to later steps.
  - Affects **all patients**, including urgent cases.

---

## **2. Root Cause Analysis**

### **2.1 Potential Root Causes of Queues**
Queues arise from **mismatches between demand (patient arrivals) and capacity (resources, process efficiency)**. Key root causes include:

| **Category**               | **Potential Root Causes**                                                                 | **How Process Mining Helps Identify**                                                                 |
|----------------------------|------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------|
| **Resource Bottlenecks**   | - Insufficient staff (e.g., nurses, doctors).<br>- Underutilized or overutilized rooms/equipment.<br>- Staff unavailability (breaks, meetings). | - **Resource Utilization Analysis**: Calculate % time each resource is occupied.<br>- **Social Network Analysis**: Identify overloaded staff.<br>- **Bottleneck Analysis**: Find resources causing delays. |
| **Activity Dependencies**  | - Sequential processes (e.g., must see nurse before doctor).<br>- Handovers between departments (e.g., lab  doctor). | - **Process Discovery**: Visualize the actual patient flow (e.g., using Directly-Follows Graphs).<br>- **Variant Analysis**: Identify deviations from ideal flow. |
| **Variability in Service Times** | - Inconsistent activity durations (e.g., some doctors take 10 min, others 30 min).<br>- Patient complexity (e.g., new vs. follow-up). | - **Performance Spectrum**: Analyze distribution of activity durations.<br>- **Clustering**: Group cases by duration patterns. |
| **Appointment Scheduling** | - Overbooking or underbooking.<br>- Mismatched arrival patterns (e.g., too many patients at 9 AM).<br>- No-shows or late arrivals. | - **Arrival Rate Analysis**: Plot patient arrivals over time.<br>- **Simulation**: Test impact of scheduling changes. |
| **Patient Flow Design**    | - Inefficient routing (e.g., backtracking).<br>- Lack of parallelization (e.g., waiting for lab results before seeing doctor). | - **Process Map Overlay**: Compare actual vs. ideal flow.<br>- **Queueing Theory Models**: Simulate alternative flows. |
| **Patient-Specific Factors** | - New patients take longer (registration + history).<br>- Urgent cases disrupt flow. | - **Case Attributes Analysis**: Segment by patient type/urgency.<br>- **Decision Mining**: Identify rules causing delays. |

### **2.2 Process Mining Techniques for Root Cause Analysis**
Beyond basic queue calculations, we apply:

1. **Bottleneck Analysis**
   - **Method**: Identify activities with the **longest waiting times before them** (e.g., Doctor Consultation has a 25-min avg wait).
   - **Insight**: The bottleneck is likely the **doctor’s availability** (e.g., too few doctors, inefficient scheduling).

2. **Resource Utilization & Social Network Analysis**
   - **Method**: Calculate **utilization rates** (e.g., Nurse 1 is occupied 90% of the time) and **handover frequency** (e.g., how often patients switch between staff).
   - **Insight**: High utilization + frequent handovers  **staffing or coordination issues**.

3. **Variant Analysis**
   - **Method**: Group cases by **process variants** (e.g., "Registration  Nurse  Doctor  Check-out" vs. "Registration  Nurse  Lab  Doctor  Check-out").
   - **Insight**: Some variants have **longer waits** (e.g., lab-involved cases wait 40% longer).

4. **Performance Spectrum & Clustering**
   - **Method**: Plot **activity durations** (e.g., doctor consultations) and cluster cases by duration.
   - **Insight**: If 20% of cases take **3x longer**, they may represent **complex patients** causing delays.

5. **Decision Mining**
   - **Method**: Use **decision trees** to explain why some cases wait longer (e.g., "If patient is new AND urgency=normal, wait time increases by 15 min").
   - **Insight**: **New patients** may require extra registration time, clogging the system.

6. **Queueing Theory Models**
   - **Method**: Apply **M/M/c or G/G/1 models** to simulate:
     - **Arrival rates** (patients/hour).
     - **Service rates** (time per activity).
     - **Number of servers** (e.g., doctors, nurses).
   - **Insight**: Predict **optimal staffing levels** to reduce waits.

---

## **3. Data-Driven Optimization Strategies**

### **Strategy 1: Dynamic Staffing Based on Predictive Demand**
**Target Queue(s):**
- **Nurse Assessment  Doctor Consultation** (critical bottleneck).
- **Registration  Nurse Assessment** (high-priority early-stage delay).

**Root Cause Addressed:**
- **Resource bottlenecks** (doctors/nurses are overutilized at peak times).
- **Mismatch between patient arrivals and staff availability**.

**Data Support:**
- **Arrival rate analysis** shows **80% of patients arrive between 8 AM–11 AM**.
- **Resource utilization** reveals:
  - Doctors are **95% occupied** from 9 AM–12 PM.
  - Nurses are **85% occupied** but with **high variability** (some idle, some overwhelmed).
- **Queueing model** predicts that **adding 1 doctor and 1 nurse during peak hours** could reduce avg wait by **30%**.

**Proposed Solution:**
- **Implement a dynamic staffing model** where:
  - **1–2 additional doctors/nurses** are scheduled during **peak arrival windows** (8:30 AM–11:30 AM).
  - **Floating staff** (e.g., nurses who can assist with registration or triage) are deployed based on real-time queue lengths.
- **Use predictive analytics** to forecast daily demand (e.g., based on appointment bookings, historical trends, and no-show rates).

**Expected Impact:**
| **Metric**                     | **Before** | **After** | **Improvement** |
|--------------------------------|------------|-----------|-----------------|
| Avg Wait (Nurse  Doctor)      | 25 min     | 17 min    | **-32%**        |
| 90th %ile Wait (Nurse  Doctor)| 55 min     | 35 min    | **-36%**        |
| % Cases >15 min wait           | 60%        | 30%       | **-50%**        |

**Implementation Cost:**
- **Moderate** (requires hiring part-time staff or adjusting shifts).
- **ROI**: Reduced wait times  higher patient satisfaction  **increased retention/revenue**.

---

### **Strategy 2: Parallelize Nurse Assessment & Registration for Follow-Up Patients**
**Target Queue(s):**
- **Registration  Nurse Assessment** (high-priority early-stage delay).

**Root Cause Addressed:**
- **Sequential dependency** (all patients must complete registration before seeing a nurse).
- **New patients take longer** (registration + full history), delaying follow-ups.

**Data Support:**
- **Variant analysis** shows:
  - **New patients** take **12 min avg** for registration vs. **5 min for follow-ups**.
  - **Follow-up patients** wait **20 min avg** for nurse assessment (mostly idle time).
- **Process map** reveals that **nurses are often idle** while waiting for registration to complete.

**Proposed Solution:**
- **Redesign flow for follow-up patients**:
  - **Parallelize registration and nurse assessment** (e.g., follow-ups check in at a kiosk while a nurse starts assessment immediately).
  - **Dedicate 1–2 nurses** to **fast-track follow-ups** during peak hours.
- **Use RFID/barcode wristbands** to track patient location and **automatically notify nurses** when a follow-up patient is ready.

**Expected Impact:**
| **Metric**                     | **Before** | **After** | **Improvement** |
|--------------------------------|------------|-----------|-----------------|
| Avg Wait (Registration  Nurse)| 18 min     | 8 min     | **-56%**        |
| 90th %ile Wait                | 40 min     | 20 min    | **-50%**        |
| % Cases >15 min wait           | 45%        | 15%       | **-67%**        |

**Implementation Cost:**
- **Low** (minor process changes, minimal tech investment).
- **ROI**: Faster throughput  **higher patient volume capacity**.

---

### **Strategy 3: Appointment Scheduling Optimization Using Queueing Theory**
**Target Queue(s):**
- **All queues** (systemic reduction in waits).

**Root Cause Addressed:**
- **Uneven patient arrivals** (e.g., too many patients scheduled at 9 AM).
- **Mismatch between appointment slots and actual service times**.

**Data Support:**
- **Arrival rate analysis** shows **30% of daily patients arrive in the first 2 hours**.
- **Service time variability**:
  - **New patients**: 25–40 min with doctor.
  - **Follow-ups**: 10–20 min with doctor.
- **Queueing model** predicts that **staggering appointments** (e.g., 1 new patient every 30 min, 2 follow-ups every 20 min) could **reduce avg wait by 40%**.

**Proposed Solution:**
- **Implement a **time-slot-based scheduling system** with:
  - **Longer slots for new patients** (30–40 min).
  - **Shorter slots for follow-ups** (15–20 min).
  - **Buffer time** (5–10 min) between slots to absorb variability.
- **Use predictive overbooking** (e.g., book 110% capacity, accounting for no-shows).
- **Leverage AI-driven scheduling** (e.g., tools like **LeanTaaS** or **Qventus**) to optimize slot allocation in real time.

**Expected Impact:**
| **Metric**                     | **Before** | **After** | **Improvement** |
|--------------------------------|------------|-----------|-----------------|
| Avg Wait (All Queues)          | 18 min     | 11 min    | **-39%**        |
| 90th %ile Wait (All Queues)    | 45 min     | 25 min    | **-44%**        |
| % Cases >30 min wait           | 25%        | 10%       | **-60%**        |

**Implementation Cost:**
- **Moderate** (requires scheduling software and staff training).
- **ROI**: **Higher throughput** with same resources  **cost-neutral improvement**.

---

## **4. Consideration of Trade-offs and Constraints**

### **4.1 Potential Trade-offs**
| **Strategy**                          | **Trade-offs**                                                                 | **Mitigation**                                                                 |
|---------------------------------------|-------------------------------------------------------------------------------|--------------------------------------------------------------------------------|
| **Dynamic Staffing**                  | - Higher labor costs.<br>- Staff resistance to flexible schedules.           | - Start with **part-time hires** or **overtime incentives**.<br>- Pilot in one department first. |
| **Parallelizing Registration/Nurse**  | - Requires **additional coordination** (e.g., nurses must track patients).<br>- Risk of **errors** (e.g., wrong patient assessment). | - Use **RFID/barcode tracking** to reduce errors.<br>- Train staff on new workflows. |
| **Appointment Scheduling Optimization** | - **Longer slots for new patients** may reduce total daily appointments.<br>- **Buffer times** may increase idle time for doctors. | - **Balance slot lengths** (e.g., 35 min for new, 15 min for follow-ups).<br>- Use **predictive overbooking** to fill gaps. |

### **4.2 Balancing Conflicting Objectives**
| **Objective**               | **Conflict**                                                                 | **Balancing Approach**                                                                 |
|-----------------------------|-----------------------------------------------------------------------------|----------------------------------------------------------------------------------------|
| **Reduce Wait Times**       | vs. **Control Costs** (e.g., hiring more staff).                           | - **Prioritize low-cost strategies first** (e.g., scheduling optimization).<br>- Use **data to justify ROI** (e.g., "Reducing waits by 30% increases patient volume by 15%"). |
| **Improve Patient Experience** | vs. **Maintain Care Quality** (e.g., rushing doctors).                     | - **Avoid reducing service times** (e.g., don’t shorten doctor consultations).<br>- Focus on **eliminating idle waits** (e.g., parallel processes). |
| **Increase Throughput**     | vs. **Staff Workload** (e.g., burnout from dynamic staffing).              | - **Monitor staff satisfaction** via surveys.<br>- **Rotate high-stress roles** (e.g., floating nurses). |

---

## **5. Measuring Success**

### **5.1 Key Performance Indicators (KPIs)**
To evaluate the impact of optimizations, we track:

| **KPI**                              | **Measurement Method**                                                                 | **Target**                                                                 |
|--------------------------------------|---------------------------------------------------------------------------------------|----------------------------------------------------------------------------|
| **Average Waiting Time (per queue)** | Calculate from event logs (Start Time B – Complete Time A).                          | **Reduce by 30%** (e.g., from 25 min to 17 min for Nurse  Doctor).        |
| **90th Percentile Waiting Time**     | 90th percentile of waiting times per queue.                                          | **Reduce by 40%** (e.g., from 55 min to 33 min).                           |
| **% Cases with Excessive Waits**     | % of cases where wait >15 min (or other threshold).                                  | **Reduce by 50%** (e.g., from 60% to 30%).                                 |
| **Overall Visit Duration**           | Time from Registration Start to Check-out Complete.                                  | **Reduce by 20%** (e.g., from 120 min to 96 min).                          |
| **Patient Satisfaction (Wait Time)** | Post-visit surveys (e.g., "How satisfied were you with your wait times?").           | **Increase by 20%** (e.g., from 60% to 72% "very satisfied").               |
| **Resource Utilization**             | % time staff/rooms are occupied (from event logs).                                   | **Maintain 70–85%** (avoid overutilization >90%).                          |
| **Throughput (Patients/Hour)**       | Number of patients completing check-out per hour.                                    | **Increase by 15%** (e.g., from 8 to 9.2 patients/hour).                    |
| **No-Show Rate**                     | % of scheduled patients who do not arrive.                                          | **Reduce by 10%** (better scheduling  fewer no-shows).                    |

### **5.2 Ongoing Process Monitoring**
To ensure **sustained improvement**, we implement:

1. **Real-Time Dashboard**
   - **Visualize KPIs** (e.g., current wait times, resource utilization).
   - **Alerts for anomalies** (e.g., wait times >30 min for >1 hour).

2. **Automated Root Cause Analysis**
   - **Machine learning models** to detect **emerging bottlenecks** (e.g., "Wait times for Cardiology are increasing due to Dr. Smith’s schedule changes").
   - **Prescriptive recommendations** (e.g., "Add 1 nurse to triage between 10 AM–12 PM").

3. **Feedback Loops**
   - **Staff feedback** (e.g., "Nurses report that lab results are often delayed").
   - **Patient feedback** (e.g., post-visit surveys on wait times).

4. **A/B Testing**
   - **Pilot changes** in one department before full rollout (e.g., test dynamic staffing in Cardiology first).
   - **Compare KPIs** between control and test groups.

5. **Continuous Process Mining**
   - **Monthly re-analysis** of event logs to identify **new bottlenecks**.
   - **Benchmarking** against industry standards (e.g., "Our avg wait time is 20% higher than similar clinics").

---

## **Conclusion**
By applying **queue mining and process optimization**, the clinic can **systematically reduce waiting times** while **maintaining care quality and controlling costs**. The proposed strategies—**dynamic staffing, parallelized workflows, and optimized scheduling**—are **data-driven, actionable, and scalable**. Ongoing monitoring ensures **sustained improvements**, making the clinic more **efficient, patient-friendly, and competitive**.

**Next Steps:**
1. **Pilot the strategies** in one department (e.g., Cardiology).
2. **Measure KPIs** and refine approaches based on results.
3. **Scale successful interventions** across the clinic.
4. **Invest in process mining tools** (e.g., Celonis, Disco, or custom Python scripts) for long-term optimization.