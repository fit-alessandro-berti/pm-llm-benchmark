**BPMNlike Textual Model**  
*(Pools=organizations / external entities, Lanes=roles or systems inside each pool.  “” denotes the normal sequence flow, “” denotes a possible alternate flow, and “” denotes a gateway decision.  Items in **bold** are activities/tasks, *italics* are data objects, brackets “[…]” are gateways/conditions, and “{ }” are notes on uncertainty or exceptions.)*

---

### 1.  Pools & Lanes  

| Pool | Lanes (participants) |
|------|----------------------|
| **AccountsPayable (AP)** | • **Mary – AP Clerk**  <br>• **Rita – AP Supervisor** |
| **Purchasing** | • **Dan – Purchasing Officer** |
| **Department Management** | • **Carlos – Department Manager** |
| **Supplier (External)** | • **Supplier** |
| **System** | • **Accounting / ERP System** (automated notifications, email triggers) |

---

### 2.  Process Flow (core “happypath”)

```
[Start] 
    **Receive Invoice** (Mary)                         {Data: *Invoice* (email attachment)}
    **Check PO Presence** (Mary)                       {Decision: PO number on invoice?}
           [PO present]  **Log Invoice in ERP** (Mary)   {Data: *Invoice Record*}
           [PO missing]  **Return to Supplier for PO** (Mary) 
                 **Supplier Sends Revised Invoice** (Supplier) 
                 (loop back to) **Check PO Presence** (Mary)

    **Request GoodsReceipt Confirmation** (Mary) 
         **Purchasing Confirms Receipt** (Dan)          {Data: *GoodsReceipt Confirmation*}
    **Match Invoice to PO** (Mary)                    {Data: *Matching Report*}
         [Match OK]  **Send to Manager for Approval** (Mary) 
                 **Automatic ManagerApproval Notification** (System) 
                 **Manager Approves** (Carlos)          {Data: *Approval Request*}
                 **Schedule Payment** (Mary) 
                 **Add to Payment Run** (System) 
                 **End** (Invoice Paid)

         [Mismatch / Discrepancy]  **Notify Purchasing of Discrepancy** (Mary) 
                 **Purchasing Resolves Discrepancy** (Dan) 
                      [Resolved]  **Back to Match Invoice** (Mary) 
                      [Not Resolved]  **Escalate to Supervisor** (Mary) 
                            **Supervisor Handles Exception** (Rita) 
                                **Contact Supplier / Create Retrospective PO** (Rita / Karen) 
                                **Exception Resolved?** 
                                     [Yes]  **Back to Match Invoice** (Mary) 
                                     [No]  **Reject Invoice** (Rita)  **End (Invoice Closed)**
```

---

### 3.  Detailed Elements  

| Element | Type | Description | Owner / Lane | Data Objects |
|---------|------|-------------|--------------|--------------|
| **Receive Invoice** | Task | Invoice arrives (usually by email) | Mary (AP Clerk) | *Invoice* |
| **Check PO Presence** | Task | Verify that invoice contains a valid PurchaseOrder number | Mary | *Invoice* |
| **[PO present]** | Gateway (Exclusive) | Path when PO number exists | – | – |
| **[PO missing]** | Gateway (Exclusive) | Path when PO number is absent | – | – |
| **Return to Supplier for PO** | Task | Email supplier requesting correct PO or revised invoice | Mary | *Invoice* (with comment) |
| **Supplier Sends Revised Invoice** | Task (External) | Supplier provides corrected invoice | Supplier | *Invoice* |
| **Log Invoice in ERP** | Task | Create invoice record in accounting system | Mary | *Invoice Record* |
| **Request GoodsReceipt Confirmation** | Task | Ask Purchasing to confirm receipt of goods/services | Mary | *Invoice Record* |
| **Purchasing Confirms Receipt** | Task | Verify goods/services were received (via receipt log) | Dan | *GoodsReceipt Confirmation* |
| **Match Invoice to PO** | Task | Systemassisted matching of line items, quantities, pricing | Mary | *Matching Report* |
| **[Match OK]** | Gateway (Exclusive) | All line items match PO | – | – |
| **[Mismatch / Discrepancy]** | Gateway (Exclusive) | Any mismatch in price, quantity, missing items, etc. | – | – |
| **Send to Manager for Approval** | Task | Forward matched invoice to manager; system sends email trigger | Mary | *Approval Request* |
| **Automatic ManagerApproval Notification** | Event (Message) | System email to manager with invoice details | System | *Approval Request* |
| **Manager Approves** | Task | Manager reviews and clicks “Approve” in system | Carlos | *Approved Invoice* |
| **Manager Rejects / Holds** | Task (Exception) | Manager can reject or ask for further investigation | Carlos | *Rejected/OnHold Invoice* |
| **Schedule Payment** | Task | Place approved invoice into next payment batch | Mary | *Payment Batch* |
| **Add to Payment Run** | Task (System) | ERP processes payment on scheduled date | System | *Payment Transaction* |
| **Notify Purchasing of Discrepancy** | Task | Email Purchasing with details of mismatch | Mary | *Discrepancy Report* |
| **Purchasing Resolves Discrepancy** | Task | Contact supplier, check contract, request correction | Dan | *Corrected Invoice* or *Clarification* |
| **Escalate to Supervisor** | Task | If Purchasing cannot resolve, forward to Rita | Mary | *Escalation Ticket* |
| **Supervisor Handles Exception** | Task | Coordinate with supplier, department heads, possibly create retrospective PO | Rita | *Exception Resolution Record* |
| **Contact Supplier / Create Retrospective PO** | Task (External) | Performed by Rita (or Karen) to obtain missing PO or approve informal service | Rita / Karen | *Retrospective PO* |
| **Exception Resolved?** | Gateway (Exclusive) | Determines if issue is cleared | – | – |
| **Reject Invoice** | Task | Formal rejection of invoice (no payment) | Rita | *Rejected Invoice* |
| **End (Invoice Paid / Closed)** | End Event | Process terminates after payment or rejection | – | – |

---

### 4.  Artifacts / Inputs / Outputs  

| Artifact | Produced By | Consumed By | Remarks |
|----------|--------------|-------------|---------|
| *Invoice* | Supplier (email) | Mary (AP) | May lack PO |
| *Invoice Record* | Mary (log) | Purchasing, Manager | Stored in ERP |
| *GoodsReceipt Confirmation* | Purchasing (Dan) | Mary (matching) | Often a receipt log |
| *Matching Report* | Mary (system) | Manager (approval) | Shows match status |
| *Discrepancy Report* | Mary (email) | Purchasing (Dan) | Lists mismatches |
| *Approval Request* | System (autoemail) | Manager (Carlos) | Contains invoice, PO, report |
| *Approved Invoice* | Manager (Carlos) | Mary (schedule) | Triggers payment |
| *Payment Batch* | Mary (schedule) | System (run) | Grouped for payment run |
| *Exception Resolution Record* | Supervisor (Rita) | AP & Purchasing | Documents how exception was cleared |
| *Retrospective PO* | Supervisor / Karen | AP (log) | Used for informal services |

---

### 5.  Exceptions / Variations (explicitly noted)

| Situation | Path (alternative flow) | Note |
|-----------|------------------------|------|
| **Missing PO on invoice** | Return to Supplier  Supplier sends revised invoice  Loop back to *Check PO Presence* | Occurs in ~10% of invoices (estimated). |
| **Pricing / Quantity mismatch** | Notify Purchasing  Purchasing attempts resolution  *If resolved*  back to *Match Invoice*; *If not resolved*  Escalate to Supervisor  Supervisor may create retrospective PO or reject invoice. | “Escalate to Supervisor” is a **conditional** gateway. |
| **Invoice for informal service (no PO)** | Direct escalation to Supervisor  Supervisor works with Department Head / Supplier to create retrospective PO  then follow normal flow. | Highlighted by Rita. |
| **Manager rejects / holds invoice** | Manager sends “Hold” notification  Mary places invoice on hold  Purchasing / Supervisor may be looped for further clarification  Once cleared, flow returns to *Manager Approves* step. | Rare (once every few months). |
| **Supplier does not respond** | Supervisor may decide to reject invoice after a defined timeout (e.g., 7business days). | Not explicitly stated but implied by “ensure problem invoices don’t get stuck indefinitely.” |
| **System notification failure** | Manual email from Mary to Manager (fallback)  Manager manually reviews  Continue as normal. | Not mentioned but a common fallback. |

---

### 6.  Ambiguities / Uncertainties (explicitly flagged)

* **Timing of “GoodsReceipt Confirmation”** – Mary says she forwards invoice to Purchasing *after* logging; Dan says he receives invoice *from* AP and then checks PO. The model assumes the confirmation request is sent **after** logging but **before** matching.  
* **Exact role of the “Accounting System”** – The system is described as sending automatic email to manager; it also stores the invoice record and payment batch. The model treats these as **system events** rather than human tasks.  
* **Whether the manager can directly reject** – Carlos mentions “reject or ask Mary to hold”; the model includes a *Manager Rejects / Holds* task, but the frequency is low and not quantified.  
* **Involvement of Karen (Supplier Relationship Manager)** – Karen’s role is advisory (provides contract pricing, contacts supplier). She does not appear in the core flow but is referenced in the *Supervisor Handles Exception* task as a possible participant.  

---

### 7.  Summary (onesentence “process definition”)

> **From receipt of an invoice, the AccountsPayable clerk validates PO presence, logs the invoice, obtains goodsreceipt confirmation from Purchasing, matches the invoice to the PO, resolves any discrepancies (escalating to the AP supervisor when needed), forwards the matched invoice to the department manager for approval, and finally schedules the approved invoice for payment; exceptions such as missing PO, pricing mismatches, informal services, or manager rejections trigger alternative loops or supervisordriven resolutions.**

---

**How to convert to a BPMN diagram:**  

1. Create a **Pool** for each organization (AP, Purchasing, Management, Supplier, System).  
2. Within each pool, draw **Lanes** for the participants listed.  
3. Place **Tasks** (bold) in the appropriate lane, connect them with **Sequence Flows** ().  
4. Insert **Exclusive Gateways** for the decision points marked with brackets `[ ]`.  
5. Attach **Data Objects** (italic) to the tasks that produce/consume them.  
6. Add **Intermediate Message Events** for the systemgenerated email notifications.  
7. Model **Exception Flows** using **Conditional Gateways** and **Escalation** (to Supervisor lane).  
8. End the diagram with two possible **End Events** – “Invoice Paid” and “Invoice Closed (Rejected)”.  

The textual model above provides every element needed for an unambiguous BPMN diagram.