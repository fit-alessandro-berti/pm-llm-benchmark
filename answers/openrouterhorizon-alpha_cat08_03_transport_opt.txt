Section 1: Process Discovery and Conformance Checking

1.1 Data preprocessing and integration
- Case definition: Primary case = Vehicle-Day (e.g., V12-20241205) to reconstruct the end-to-end operational day from depot departure to return. Secondary cases for Package ID to analyze stop-level performance and re-deliveries. Maintain linkage keys: Vehicle ID, Driver ID, Package ID, Route ID/Plan ID.
- Event harmonization: Normalize timestamps to UTC, resolve clock drift (e.g., GPS vs scanner), deduplicate near-duplicate pings, and order by timestamp. Standardize activity labels across systems into a canonical lifecycle: Depot_Start, Route_Assigned, Depart_Depot, Travel, Traffic_Slow, Arrive_Customer, Deliver_Success, Deliver_Failed, Depart_Customer, Fuel_Stop, Break, Unscheduled_Stop, Tow/Repair, Arrive_Depot, Shift_End. Map GPS states to Travel/Idle/Slow using speed and ignition status; map scanner milestones to Arrive/Depart/Deliver; map maintenance logs to Maintenance_Start/End aligned to vehicle-day.
- Event enrichment: Join planned route data to each stop: planned sequence index, planned ETA, time window, planned service time, planned distance. Enrich GPS segments with road class, historical traffic congestion index, weather if available. Compute geofenced events: infer Arrive/Depart using GPS dwell within customer geofence if scanner missing; infer Stop cause (parking search vs break) using dwell + scanner inactivity.
- Segmentation: Build trip legs between events: Travel leg (Depart X -> Arrive Y) with features: distance, travel time, average speed, congestion flags; Service leg (Arrive -> Deliver -> Depart) with service time, success/failure, customer attributes.
- Data quality handling: Missing scans (impute with GPS dwell), inconsistent IDs (resolve with mapping tables), sparse/erroneous GPS (filter spikes, map-match to road network), time zone boundaries, multi-driver shifts. Maintain data provenance flags per event for confidence scoring.
- Storage: Create two event logs:
  - Vehicle-day log (XES/Parquet): events aggregated per vehicle-day for discovery.
  - Package log: events per package for stop-level conformance.
  Complement with dimension tables: drivers, vehicles, routes, customers, stops, maintenance events.

1.2 Process discovery
- Algorithms:
  - For vehicle-day process: Use Inductive Miner (IMf) for fitness and soundness; then Heuristics Miner for frequency-based paths. Use activity clustering to group low-level GPS events into macro-activities (Travel, Idle, Traffic_Slow). Filter infrequent behavior for baseline; keep variant with failures/maintenance for exception analysis.
  - For package/stop process: Use IM to discover Arrive -> Deliver_Success/Failed -> Depart flows, including loops (re-attempts), with non-conformance branches (no-arrival, depot-return).
- Outputs:
  - End-to-end map from Shift_Start/Route_Assigned -> Depart_Depot -> alternating Travel/Service cycles -> Unplanned events (Fuel_Stop, Break, Unscheduled_Stop, Maintenance) -> Arrive_Depot -> Shift_End.
  - Overlay throughput times on edges; highlight loops: Revisit same customer, Back-to-depot midday, repeated Traffic_Slow occurrences.
  - Frequency variants by route class (urban/suburban), day-of-week, weather, driver.

1.3 Conformance checking versus plan
- Build planned model: From dispatch, generate a Petri net/state machine per route: Depot -> Stop1 -> Stop2 ... with planned ETAs, time windows, and planned breaks. For package-level, expected lifecycle: Arrive within window -> Deliver_Success -> Depart.
- Alignment-based conformance:
  - Sequence deviations: Out-of-order stop execution vs planned sequence; skipped/planned-but-unserved stops; inserted unplanned stops (fuel, maintenance, personal breaks).
  - Timing deviations: Early/late arrivals against planned ETA and time window; travel time inflation (actual vs planned per leg); service time variance from planned.
  - Volume/capacity deviations: Over-assigned packages vs vehicle capacity; split loads; mid-shift depot returns for reload/unplanned return.
  - Resource deviations: Different driver/vehicle than assigned; driver swap mid-day; break violations.
- Metrics:
  - Fitness, precision, and move-on-log/model counts per route/day.
  - Per-leg conformance: delta travel time, delta service time, tardiness vs time window.
  - Heatmaps: deviation by geography/time-of-day and by driver/vehicle.

Section 2: Performance Analysis and Bottleneck Identification

2.1 KPIs and calculations
- On-Time Delivery Rate (OTD): count(Deliver_Success within customer time window)/count(Deliver_Success). Use Arrive time or Delivery time depending on SLA definition.
- Average Time per Stop: mean(Depart_Customer - Arrive_Customer).
- Travel vs Service Time Ratio: sum(Travel time)/sum(Service time) per vehicle-day/route.
- Fuel Consumption per km/package: from telematics or odometer+fuel purchase; if not available, estimate via speed/idle profile and vehicle model. Metrics: liters/100km; liters/package.
- Vehicle Utilization Rate: driving + service time / shift time; or loaded km/total km; capacity utilization = packages loaded/capacity.
- Traffic Delay Frequency/Duration: count and sum of Traffic_Slow events or travel time above historical baseline; per leg and route.
- Failed Delivery Rate: failed_attempts/(failed_attempts+successes); Re-delivery rate; reasons (no answer, address issue, access).
- Idle Time Share: idle engine-on time / shift time; parking search proxy: idle within customer geofence pre-arrival.
- Maintenance Disruption Rate: vehicle-days impacted by Unscheduled_Stop/Maintenance per 100 vehicle-days; mean downtime per incident.
- Overtime rate: shifts exceeding contractual hours; mean overtime minutes.
- Re-routing incidence: deviations > N% from planned sequence length; added distance vs plan.

2.2 Bottleneck identification techniques
- Performance overlays: Color edges/nodes in discovered model by median/95th percentile durations to spot slow activities (e.g., Arrive->Deliver at high-rise clusters).
- Variant analysis: Compare top-performing vs bottom quartile vehicle-days on OTD/cost; inspect structural differences (more unplanned stops, longer parking search).
- Rooted performance decomposition: Per-leg regression of travel time against distance, time-of-day, road class, congestion index; residuals identify systematic planning underestimation for certain corridors.
- Geo-heatmaps: Map dwell time and failed delivery hotspots; grid-level aggregation to detect parking-scarce areas and gated communities.
- Resource analysis: Control charts per driver for service time, speeding/harsh braking, idling; identify outliers and consistency.
- Queue/break analysis: Identify long lunch/break clusters, depot queue times in morning/evening.
- Cohort analysis: Slice by vehicle type, day-of-week, weather; quantify effect sizes on OTD, fuel, failure rate.
- Impact quantification: Compute delta KPI if bottleneck removed. Example: If average service time at Zone A is +6 min vs baseline and 300 stops/day occur in Zone A, then 30 hours/day can be saved. For traffic corridor X with +10% travel time on 1,000 km/day, fuel/time impacts estimated via speed-fuel curves.

Section 3: Root Cause Analysis for Inefficiencies

Potential root causes and validation via process mining:
- Suboptimal route planning (static vs dynamic):
  - Symptoms: High sequence deviations, frequent backtracking, mid-shift depot returns, excessive deadhead km.
  - Validation: Conformance alignments showing frequent move-on-log; compare planned vs discovered sequence cost; simulate alternative sequencing with historical travel-time matrices to show potential reduction.
- Inaccurate travel time estimations:
  - Symptoms: Systematic lateness during certain hours/areas; planned ETAs consistently under by 15–20%.
  - Validation: Leg-level error distributions; time-of-day models; conformance timing deviations clustered by corridor/time.
- Traffic congestion patterns:
  - Symptoms: Recurrent Traffic_Slow events on specific corridors; OTD dips at rush hours.
  - Validation: Join external traffic indices; correlation of congestion level with per-leg delay; seasonality analysis.
- High variability in service time:
  - Symptoms: Wide distribution for certain customer segments/building types; long pre-delivery idle (parking search).
  - Validation: Dwell time decomposition: Arrive->First scan vs First scan->Deliver; geofence-based parking search time; customer attributes linked.
- Vehicle breakdowns/maintenance during shifts:
  - Symptoms: Unscheduled_Stop events; extended downtime; increased overtime; repeat incidents on same vehicle.
  - Validation: Link maintenance logs to vehicle-day; hazard model relating mileage/engine warnings to breakdown risk; uptick in fuel use pre-failure.
- Driver behavior/skill differences:
  - Symptoms: Variance across drivers in service time, idle %, adherence to plan, harsh driving increasing fuel.
  - Validation: Mixed-effects models controlling for route mix; driver as random effect; feature importances on OTD/fuel.
- Failed deliveries and re-deliveries:
  - Symptoms: High failed delivery rate in specific time windows or customer types; re-attempt loops.
  - Validation: Analyze reasons from scanner notes; time-of-day vs success rate; variant analysis contrasting routes with many failures; cost attribution of re-deliveries to next-day load.

Section 4: Data-Driven Optimization Strategies

Strategy 1: Dynamic traffic-aware routing and re-optimization
- Target: Delays and late deliveries due to congestion and inaccurate ETAs; excess fuel from idling/slow traffic.
- Root cause: Static plans don’t reflect real-time conditions; underestimation on specific corridors/times.
- Data support: Discover frequent Traffic_Slow events and leg-level underestimation; conformance timing deviations; travel-time models by time-of-day.
- Actions:
  - Integrate real-time traffic and historical speed profiles into the routing engine.
  - Mid-route re-optimization triggers when predicted lateness > threshold or congestion spikes; reorder stops within time windows.
  - Provide driver app guidance with dynamic ETAs and parking hints in hotspots.
- Expected KPI impact: +5–10% OTD, -3–6% travel time, -2–5% fuel per km, -10–20% traffic delay duration. Monitor conformance improvement and reduction in move-on-log events.

Strategy 2: Territory and stop sequence redesign using historical performance
- Target: Long service times in dense zones, excessive deadhead, repeated backtracking, parking search delays.
- Root cause: Territories not aligned with demand density/parking constraints; sequences ignoring service time heterogeneity.
- Data support: Heatmaps of dwell/parking search times; deadhead distance analysis; frequent back-and-forth paths.
- Actions:
  - Re-balance zones to equalize workload using stop-time-weighted clustering (k-means with service-time weights, road constraints).
  - Sequence stops using time-dependent travel times and service time distributions; avoid known bottlenecks at peak.
  - Introduce micro-depots/parcel lockers in hardest parking zones; batch deliveries by building to reduce access time.
- Expected KPI impact: -8–12% average time per stop, -5–10% total distance, +4–8% OTD, -5–10% overtime. Reduced failed deliveries if lockers used.

Strategy 3: Predictive maintenance and vehicle assignment optimization
- Target: Unscheduled stops, breakdowns causing route disruption and overtime; higher fuel consumption pre-failure.
- Root cause: Reactive maintenance; vehicles kept in service despite warning signals and high-risk usage patterns.
- Data support: Maintenance disruption rate; leading indicators (engine warnings, rising idle fuel, temperature anomalies) correlated with breakdowns; vehicles with repeat incidents.
- Actions:
  - Build survival/classification models predicting failure risk within next N days based on mileage, duty cycle, warnings, ambient temp, harsh events.
  - Schedule proactive maintenance during low-demand windows; swap high-risk vehicles off long or time-critical routes.
  - Assign vehicles by route profile (e.g., smaller vans for tight urban zones to cut parking search).
- Expected KPI impact: -30–50% unscheduled maintenance incidents, -1–3% fuel, -2–4% overtime, +1–2% OTD.

Strategy 4: Time window management and customer communication to cut failed deliveries
- Target: High failed delivery rate and costly re-deliveries.
- Root cause: Time windows misaligned with customer presence; limited communication; access issues.
- Data support: Success probability by time-of-day/customer segment; reasons for failures; repeated attempts patterns.
- Actions:
  - Optimize promised windows using historical success curves; offer dynamic selection at checkout.
  - Proactive messaging with live ETA, safe-place/neighbor options, digital access instructions capture.
  - For low-success addresses, enforce signature waivers or divert to lockers/pickup points.
- Expected KPI impact: -20–40% failed deliveries, -5–10% next-day load, +3–6% OTD, -3–5% fuel per package.

Strategy 5: Targeted driver coaching and incentives
- Target: Variability in service times, idling, harsh driving affecting fuel and punctuality.
- Root cause: Behavioral differences and inconsistent practices in parking, customer handling, eco-driving.
- Data support: Driver-level performance control charts; idling and harsh event rates; service time vs peers adjusted for route mix.
- Actions:
  - Personalized coaching: parking strategies in hotspots, pre-arrival prep, customer interaction scripts.
  - Eco-driving training and in-cab feedback; incentives tied to composite score (OTD, idle %, fuel per km adjusted for route).
  - Peer benchmarking dashboards with fair adjustment for route complexity.
- Expected KPI impact: -5–8% fuel, -5–10% service time variance, +2–4% OTD.

Section 5: Operational Constraints and Monitoring

5.1 Accounting for constraints
- Driver hours of service: Embed legal and contractual limits in routing and re-optimization; include planned breaks; conformance alerts for potential violations; overtime cost in objective function.
- Vehicle capacity: Ensure load feasibility; consider volume/weight and special handling; mid-shift reloads only if modeled and efficient; monitor capacity utilization KPI.
- Customer time windows and priorities: Respect hard windows; use soft-window penalties for re-sequencing; prioritize high-SLA customers; communicate changes to customers.
- Access/parking constraints: Encode restricted streets/time-of-day constraints; assign appropriate vehicle types; buffer service times for known hard locations.
- Maintenance availability: Lock out vehicles scheduled for preventive maintenance; ensure spare capacity.

5.2 Continuous monitoring plan
- Dashboards (daily/weekly):
  - OTD overall and by zone/driver/vehicle; percentile tardiness distribution.
  - Travel vs service time ratio; average time per stop; distance vs plan; re-routing incidence.
  - Fuel KPIs: liters/100km and per package; idle time share; harsh events.
  - Failed delivery rate by reason and time window; re-delivery volume next day.
  - Maintenance: unscheduled incidents, predicted risk list, compliance to maintenance plan.
  - Conformance: alignment fitness, sequence deviations per route, timing deviations per leg.
  - Workload and compliance: overtime rate, HOS violations, capacity utilization.
- Process views:
  - Discovered model with performance overlays refreshed daily.
  - Geo-heatmaps for delays, parking search, failures.
  - Variant comparisons pre/post-change; A/B test groups where applicable.
- Alerting:
  - Real-time alerts for predicted lateness > threshold, rising congestion on critical corridors, high idle streaks, vehicle risk flags.
  - Post-day alerts: routes with extreme deviations, drivers with outlier metrics, customers with repeated failures.
- Governance:
  - Monthly review of routing parameters with updated historical speed and service-time distributions.
  - Retrain predictive models quarterly.
  - Continuous improvement backlog fed by dashboard insights, with measured KPI deltas and rollbacks if regressions detected.

By integrating and harmonizing the multi-source event data, using discovery and conformance to reveal actual execution versus plan, quantifying performance at leg/stop/route levels, and tying bottlenecks to root causes, Speedy Parcels can implement targeted interventions in routing, territory design, maintenance, customer interaction, and driver behavior. The monitoring framework ensures improvements are sustained and adaptable to changing operational realities.