# BPMN-Like Textual Process Model: Invoice Approval Process

---

## 1. Process Overview

**Process Name:** Invoice Approval and Payment Scheduling Process
**Process Goal:** Validate, verify, and approve supplier invoices against purchase orders, resolve discrepancies, obtain managerial authorization, and schedule payment.
**Process Scope:** From invoice receipt to payment scheduling.

---

## 2. Participants / Roles (Pools & Lanes)

| Role | Description |
|---|---|
| **Accounts Payable Clerk (Mary)** | Primary process coordinator; handles logging, matching, routing, and payment scheduling |
| **Purchasing Officer (Dan)** | Validates goods/services receipt and confirms PO alignment |
| **Department Manager (Carlos)** | Provides final approval authority |
| **Accounts Payable Supervisor (Rita)** | Handles escalated exceptions and unresolvable discrepancies |
| **Supplier Relationship Manager (Karen)** | Assists in resolving supplier-side issues (pricing, missing PO, corrected invoices) |
| **Supplier** | External party; source of invoices; may be contacted for corrections |
| **Accounting System** | System of record; used for logging, matching, approval notifications, and payment scheduling |

---

## 3. Artifacts / Data Objects

- **Invoice** (received via email from Supplier)
- **Purchase Order (PO)** (stored in Accounting System)
- **Goods/Services Receipt Confirmation** (email confirmation from Purchasing)
- **Corrected Invoice** (revised document from Supplier, when applicable)
- **Retrospective PO** (created by AP Supervisor in exceptional cases)
- **Approval Notification** (system-generated email to Department Manager)
- **Payment Schedule** (output; invoice added to next payment run)

---

## 4. Process Model — Sequence Flow

---

###  START EVENT
**Trigger:** Invoice received (typically via email) from Supplier.

---

### TASK 1 — Check for Valid PO Number
**Actor:** Accounts Payable Clerk (Mary)
**Description:** Mary inspects the incoming invoice to determine whether it references a valid Purchase Order number.
**Input:** Invoice
**Output:** Determination of PO presence/validity

---

### GATEWAY 1 — [Exclusive] Does the invoice contain a valid PO number?

####  PATH A — NO: PO Number is Missing or Invalid

**TASK 1a — Request PO Information from Supplier**
**Actor:** Accounts Payable Clerk (Mary) *[and/or Supplier Relationship Manager (Karen) — see Note 1]*
**Description:** Mary contacts the supplier (directly, or via Karen if it is a key supplier relationship) requesting the correct PO number or a revised invoice.
**Output:** Request for information sent to Supplier

**TASK 1b — Supplier Provides PO Number or Revised Invoice**
**Actor:** Supplier *(external)*
**Description:** Supplier responds with missing PO number or issues a corrected invoice.
**Output:** Corrected Invoice / PO reference

> ** Exception Path 1a — Supplier Cannot Provide PO (Informal Contract):**
> If no valid PO exists (e.g., services contracted informally), the case is **escalated to AP Supervisor (Rita)**.
> - Rita coordinates with the relevant Department Head to either:
>   - **(a)** Create a **Retrospective PO**, after which the invoice re-enters the normal flow at **TASK 2**, OR
>   - **(b)** **Reject the invoice** entirely.
> - ** If rejected:** Process ends with notification to Supplier.  **END EVENT (Rejection)**

** After PO confirmed:** Flow returns to **TASK 2** (Log Invoice).

---

####  PATH B — YES: PO Number is Present and Valid
** Proceed to TASK 2.**

---

### TASK 2 — Log Invoice into Accounting System
**Actor:** Accounts Payable Clerk (Mary)
**Description:** Mary records the invoice details (supplier, amounts, line items, PO reference) in the Accounting System.
**Input:** Invoice with valid PO number
**Output:** Invoice record created in Accounting System

---

### TASK 3 — Forward Invoice to Purchasing for Receipt Confirmation
**Actor:** Accounts Payable Clerk (Mary)
**Description:** Mary forwards the invoice to the Purchasing Officer (Dan) to confirm that the goods or services described have actually been received.
**Input:** Logged invoice, referenced PO
**Output:** Receipt confirmation request sent to Purchasing

---

### TASK 4 — Verify Goods/Services Receipt and PO Alignment
**Actor:** Purchasing Officer (Dan)
**Description:** Dan opens the relevant PO and compares the invoice against it — checking quantities, unit prices, delivery charges, and any other line items.
**Input:** Invoice, Purchase Order (from system)
**Output:** Confirmation or discrepancy report

---

### GATEWAY 2 — [Exclusive] Does the invoice match the PO and confirm receipt?

####  PATH A — YES: Invoice Matches PO, Goods/Services Confirmed
**TASK 4a — Send Confirmation to Accounts Payable**
**Actor:** Purchasing Officer (Dan)
**Description:** Dan sends a confirmation email to Mary indicating that the invoice aligns with the PO and that receipt is verified.
**Output:** Goods/Services Receipt Confirmation
** Proceed to TASK 5.**

---

####  PATH B — NO: Discrepancy Detected (e.g., incorrect pricing, wrong quantities, unexpected charges)

**TASK 4b — Notify AP Clerk of Discrepancy**
**Actor:** Purchasing Officer (Dan)
**Description:** Dan informs Mary of the specific discrepancy found.
**Output:** Discrepancy notification to Mary

**TASK 4c — Attempt to Resolve Discrepancy**
**Actor:** Accounts Payable Clerk (Mary), *with input from Purchasing Officer (Dan) and/or Supplier Relationship Manager (Karen)*
**Description:** Mary (and Dan) attempt to clarify the discrepancy. This may involve:
- Contacting the supplier directly for a corrected invoice
- Karen checking the supplier contract to confirm correct pricing and advising AP/Purchasing accordingly
- Placing the invoice **on hold** pending a corrected version from the supplier

**Input:** Invoice, PO, supplier contract (Karen)
**Output:** Resolution or escalation decision

---

### GATEWAY 3 — [Exclusive] Can the discrepancy be resolved at the AP/Purchasing level?

####  PATH A — YES: Discrepancy Resolved
> *Note: If a corrected invoice was received from the Supplier, flow may loop back to **TASK 4** for re-verification by Dan. If the resolution is confirmed without a new invoice (e.g., Karen confirms correct price from contract), flow proceeds forward.*

** Proceed to TASK 5 (Three-Way Match).**

---

####  PATH B — NO: Discrepancy Cannot Be Resolved
**TASK 4d — Escalate to AP Supervisor**
**Actor:** Accounts Payable Clerk (Mary)
**Description:** Mary escalates the unresolvable discrepancy to Rita (AP Supervisor).

**TASK 4e — Supervisor Intervention and Resolution**
**Actor:** AP Supervisor (Rita), *coordinating with Supplier Relationship Manager (Karen), Department Heads, and/or Supplier*
**Description:** Rita takes ownership of the exception. Actions may include:
- Contacting the supplier directly
- Coordinating between departments to clarify terms
- Authorizing creation of a Retrospective PO (for informally contracted services)
- Deciding to reject the invoice if unresolvable

> ** Exception Path 4b — Invoice Rejected at Supervisor Level:**
> ** END EVENT (Rejection)** with notification to Supplier.

> ** Exception Path 4c — Retrospective PO Created:**
> Invoice re-enters process at **TASK 4** for Purchasing re-verification.

** After resolution:** Flow returns to **TASK 4** (re-verification) or **TASK 5** depending on the nature of the resolution.

---

### TASK 5 — Three-Way Match (Invoice vs. PO vs. Receipt Confirmation)
**Actor:** Accounts Payable Clerk (Mary)
**Description:** Mary performs the formal three-way match in the Accounting System: comparing invoice line items against the Purchase Order and the confirmed receipt record.
**Input:** Invoice, PO, Goods/Services Receipt Confirmation
**Output:** Match result (full match or residual discrepancy)

---

### GATEWAY 4 — [Exclusive] Does the three-way match succeed?

####  PATH A — YES: Full Match Confirmed
** Proceed to TASK 6.**

####  PATH B — NO: Residual Discrepancy Found
** Return to TASK 4c (Discrepancy Resolution loop).**
> *(This loop is bounded; persistent failures escalate to Rita per TASK 4d.)*

---

### TASK 6 — Route Invoice for Manager Approval
**Actor:** Accounting System *(automated)* / Accounts Payable Clerk (Mary)
**Description:** The Accounting System sends an automated approval notification email to the Department Manager (Carlos), presenting the invoice details, the PO reference, and the receipt confirmation.
**Input:** Matched and verified invoice record
**Output:** Approval Notification sent to Department Manager

---

### TASK 7 — Department Manager Review and Decision
**Actor:** Department Manager (Carlos)
**Description:** Carlos reviews the invoice details, PO, and confirmation in the system. He checks for budgetary alignment, unexpected items, or suspicious amounts.
**Input:** Invoice, PO, Receipt Confirmation, Approval Notification

---

### GATEWAY 5 — [Exclusive] Does the Manager approve the invoice?

####  PATH A — YES: Manager Approves
**TASK 7a — Record Manager Approval in System**
**Actor:** Department Manager (Carlos)
**Description:** Carlos clicks "Approve" in the Accounting System.
**Output:** Approved Invoice record
** Proceed to TASK 8.**

---

####  PATH B — NO: Manager Rejects or Requests Hold/Investigation

**TASK 7b — Manager Flags Invoice for Investigation**
**Actor:** Department Manager (Carlos)
**Description:** Carlos rejects the invoice in the system or instructs Mary to hold it and investigate (e.g., total amount deviates significantly from budget, unexpected line items detected).
**Output:** Rejection/Hold instruction to Mary

> *Note: Carlos indicates this occurs approximately once every couple of months.*

**TASK 7c — AP Clerk Investigates Manager's Concerns**
**Actor:** Accounts Payable Clerk (Mary), *coordinating as needed with Rita, Dan, or Karen*
**Description:** Mary investigates the flagged issue. Depending on findings:
- If resolvable  invoice is corrected or clarified and resubmitted for Manager approval (**loop back to TASK 6**).
- If unresolvable  invoice is escalated to Rita (**TASK 4d**) or rejected.

> ** Exception Path 5a — Invoice Rejected after Manager Review:**
> ** END EVENT (Rejection)** with supplier notification.

---

### TASK 8 — Schedule Invoice for Payment
**Actor:** Accounts Payable Clerk (Mary)
**Description:** Mary adds the fully approved invoice to the next payment run cycle in the Accounting System.
**Input:** Approved Invoice
**Output:** Invoice added to Payment Schedule

---

###  END EVENT (Successful)
**Payment scheduled.** Invoice has been fully validated, matched, approved, and queued for disbursement.

---

## 5. Summary Flow Diagram (Linear Textual Notation)

```
[START: Invoice Received]
        |
        
[TASK 1: Check for Valid PO Number] — Actor: Mary
        |
[GW1: Valid PO?]
   |              |
  NO             YES
   |              |
[TASK 1a:      [TASK 2: Log Invoice in System] — Actor: Mary
 Request PO]          |
   |              [TASK 3: Forward to Purchasing] — Actor: Mary
   |                    |
   | (PO confirmed)    |
   |              [TASK 4: Verify Receipt & PO Match] — Actor: Dan
   |                    |
   |              [GW2: Invoice Matches PO?]
   |               |              |
   |              YES             NO
   |               |              |
   |          [TASK 4a:      [TASK 4b/4c:
   |        Send Confirm]   Resolve Discrepancy]
   |               |         (Mary, Dan, Karen)
   |               |              |
   |               |         [GW3: Resolved?]
   |               |          |         |
   |               |         YES        NO
   |               |          |         |
   |               | ————————          |
   |               |              [TASK 4d/4e:
   |               |             Escalate to Rita]
   |               |                    |
   |               | ——(Resolved)———————
   |               |
                  
[TASK 5: Three-Way Match] — Actor: Mary
        |
[GW4: Match Succeeds?]
   |              |
  YES             NO
   |              |
   |         [ Loop back to TASK 4c]
   |
[TASK 6: Route for Manager Approval] — Actor: System/Mary
        |
[TASK 7: Manager Review] — Actor: Carlos
        |
[GW5: Manager Approves?]
   |              |
  YES             NO
   |              |
   |         [TASK 7b/7c: Hold & Investigate]
   |              |
   |         [ Loop back to TASK 6 or Escalate/Reject]
   |
[TASK 8: Schedule for Payment] — Actor: Mary
        |
[END: Payment Scheduled]
```

---

## 6. Noted Ambiguities and Uncertainties

| # | Ambiguity | Source | Recommended Handling |
|---|---|---|---|
| 1 | **Who contacts the supplier first when PO is missing?** Mary (Interview 1) implies she contacts the supplier directly; Karen (Interview 5) describes being looped in for this. | Mary vs. Karen | Model both as options: Mary contacts supplier directly for straightforward cases; Karen is engaged for key/strategic supplier relationships. |
| 2 | **Sequence of Discrepancy Resolution vs. Three-Way Match.** Mary describes matching *after* Purchasing confirms receipt. Dan suggests Purchasing itself compares invoice to PO. There is partial overlap between TASK 4 and TASK 5. | Mary vs. Dan | Modeled as: Dan performs an informal comparison (TASK 4); Mary performs the formal system-level three-way match (TASK 5). Both steps are retained. |
| 3 | **Does a corrected invoice restart the full process or re-enter mid-flow?** Not explicitly stated by any interviewee. | All | Modeled conservatively: corrected invoices re-enter at TASK 4 (Purchasing re-verification), not at TASK 1, unless the PO itself was missing (which would restart from TASK 2). |
| 4 | **Manager rejection outcome.** Carlos mentions rejection or hold, but the subsequent resolution path is not described in detail. | Carlos | Modeled as a rework loop back to Mary, with further escalation to Rita if needed, consistent with Rita's described role. |
| 5 | **Automated vs. manual routing to manager.** Mary says the system sends an automatic email; Carlos confirms receiving a system notification. Dan is less certain about this step. | Mary, Carlos | Modeled as system-automated notification (TASK 6), consistent with two corroborating accounts. |

---

## 7. Exception / Alternate Paths Summary

| Exception | Trigger | Handler | Resolution |
|---|---|---|---|
| Missing PO Number | Invoice arrives without PO reference | Mary / Karen | Supplier contacted; corrected invoice or PO provided; or retrospective PO created by Rita; or rejection |
| Informal Contract (No PO Exists) | Supplier invoices for uncontracted services | AP Supervisor (Rita) + Department Head | Retrospective PO created  re-enter flow; or invoice rejected |
| Pricing/Quantity Discrepancy | Invoice line items don't match PO | Dan, Mary, Karen | Supplier correction requested; Karen checks contract; invoice held pending resolution |
| Unresolvable Discrepancy | AP/Purchasing cannot resolve discrepancy | AP Supervisor (Rita) | Cross-department coordination; escalation to supplier; or rejection |
| Manager Rejection / Suspicious Invoice | Unexpected amounts, budget deviation | Department Manager (Carlos)  Mary  Rita | Investigation, correction, and resubmission; or rejection |