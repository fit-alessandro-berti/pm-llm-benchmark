### 1. Queue Identification and Characterization

**Definition of Waiting Times and Calculation of Queue Times:**

In the context of this outpatient clinic scenario, a *waiting time* (or *queue time*, in process mining terminology) refers to the duration a patient spends idle between the *completion of one activity* and the *start of the next activity* in their visit sequence, specifically after checking in and prior to registration completion when prior non-priority activities completed, or immediately after a sub-delayed activity relative to its scheduled or processing window. For instance, the waiting time from when a patient arrives until the start of their registered activity, or between ECG test start and check-out, post-doctor consultation completion (if patients are being sequenced prior to exits).

Using the event logs:  
- First, we identify the *predecessor/subsequent active events* (i.e., next activity that actually consumes resources) for each patient visit (*Case ID*).  
- For each patient, calculate the *queue time* as:  
  `Queue Time = Timestamp(Next Activity) - Timestamp(Completion of Prior Activity or Event)`  
  where the prior activity is either the previous recorded activity (e.g., a nurse assessment immediately following registration) or the earliest non-registration event in the sequence.  
- This defines the wait time *between completing one task and starting the next resource-bound task*.

**Key Metrics to Characterize Queues:**

To comprehensively characterize queues and prioritize interventions, the following metrics will be computed:

| Metric                                  | Definition                                                                                                                           | Purpose                                                                                                   |
|-----------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------|
| Average Waiting Time                     | Mean of all patient-specific queue times.                                                                                             | Baseline performance; identifies general inefficiencies.                                                  |
| Median Waiting Time                      | Median queue time ranking; less affected by outliers.                                                                                   | Provides a central tendency (e.g., identifies systemic delays irrespective of extreme cases).              |
| Maximum Waiting Time                     | Longest observed waiting time across all patients.                                                                                     | Highlights worst-case scenarios (e.g., emergencies in maintenance).                                      |
| 90th Percentile Waiting Time             | Queue time below which 90% of patients fall; measures service quality consistency.                                                    | Assesses fairness and identifies patients experiencing delays disproportionately.                          |
| Queue Frequency & Volume                 | Count (or percentage) of patients with queue times exceeding thresholds (e.g., average  mean wait time).                               | Pinpoints overrepresentation of high-wait case types or groups.                                           |
| Wait Queue Length (Concurrent Patients)  | Number of patients queued at any point in time (via resource observation via timestamps; requires additional resource-type event analysis).    | Identifies resource bottlenecks under peak times.                                                          |

**Identifying the Most Critical Queues:**

To determine which queues demand immediate intervention, we apply a multi-attribute prioritization framework based on:

1. **Expected Wait Time (EWT):** `Weighted Average* ( (Patient Group Frequency × Average Wait Time))` — gives priority to groups (e.g., urgent patients) experiencing the longest typical waits.
2. **Queue Length Variability:** Standard deviation of queue times — high variance suggests inconsistent process flow (processing delays).
3. **Terminal Impact:** Queues before high-value activities (doctor consultations, diagnostics) that directly affect patient satisfaction; queues after check-out have lower terminal impact.
4. **Patient Type & Urgency Impact:** Queue durations for Urgent patients are weighted *more heavily* due to ethical obligations; long waits for new/urgent patients erode trust in the system.

The *most critical queue* is identified as the one with the **highest EWT for urgent patients**, because while median wait for all might be moderate, urgent patients perceive even short delays as unacceptable, and long waits erode academic and moral capital. Concurrently, if a diagnostic queue (e.g., ECG  check-in) shows extremely high 90th percentile waits, that targets resource underuse in critical diagnostic pathways.

---

### 2. Root Cause Analysis

**Potential Root Causes of Queues:**

1. **Resource Bottlenecks:**  
   - **Staff Availability:** Limited nurse/doctor hours or skill mismatch (e.g., non-cardiologists handling cardiology consults).  
   - **Room/Equipment Utilization:** Overuse or delayed readiness of rooms (especially for diagnostic tests) or the Tech X machine (ECG), causing idle time then surge as blocks occur.  
   - **Labor Sharing Delays:** Delays due to handovers between shift changes or departments.  
   
2. **Activity Dependencies & Handovers:**  
   - High frequency of sequential dependencies without parallelism (e.g., ECG test completed before check-out  no queue, but test-incomplete  patient stays  door queue).  
   - Manual handovers requiring appointment rescheduling (e.g., patient arrives late, forcing displacement of other visits).

3. **Variability in Service Times:**  
   - Inconsistent durations between similar activities (e.g., blood tests vary widely due to productivity or understaffing), increasing unpredictability in queue times.  

4. **Appointment Scheduling & Scheduling Policies:**  
   - Overbooking during high-demand periods.  
   - Misalignment of doctor availability vs. bed check-in/exit rates.  
   - Random slot scheduling not enabling resource leveling.  

5. **Patient Arrival Patterns & Prioritization:**  
   - Concentrated bushy peaks reducing utilization during off-peak times.  
   - Lack of dynamic patient prioritization (e.g., urgent patients not flagged or sequenced ahead).  

6. **Urgency Differences:**  
   - Mixed urgency mix leading to disruption (e.g., urgent patients cutting into new patient slots).  
   - Mismanagement of check-out queues if non-urgent patients prolong exit times.

**Process Mining Techniques for Root Cause Detection:**

1. **Resource Analysis:**  
   - By mapping *Resource Activity Interaction* (RAI) profiles, we identify which staff or resources contribute most to queue elongation (e.g., Nurse 1 in ECG queue during peak hours).  
   - `Description*: Use BPLINE4 or ChronWindow to measure *Resource Density* (activities per unit time) and correlate with queue times to detect overloaded resources.

2. **Bottleneck Analysis:**  
   - Applying the *Bottleneck Mining* algorithm (from processes like anOfficial.org), we track *Throughput Failure* locations—poisitions in the process where average queue size consistently exceeds mean lead time ( bottleneck).  
   - This pinpoints where patient processing stalls significantly.

3. **Variant Analysis:**  
   - To detect structural variations, identify activity sequences where queueing occurs disproportionately. For instance, patients without urgency flags waiting longer than high-urgency patients during licensing checks.  
   - `Description*: Analyze variation events to find preferences or exclusions that cause suboptimal sequencing.

4. **Root Cause Drill (using DM-BC—Discovery and Minimumisons of Bottlenecks):**  
   - Apply synthesis and simulation to forecast impact of variables (e.g., adding tissue scanner staff) on queue durations.

By combining these, we isolate factors such as nurse staffing gaps, uneven distribution of diagnostic resources, and failure in urgent patient routing.

---

### 3. Data-Driven Optimization Strategies

**Strategy 1: Implement Resource Redistribution & Cross-Training amid Peak Demand**

- **Target Queue:** Primary GT bottleneck identified as *ECG Test & Digital Readout* (concurrent patient queue expected >20 patients).  
- **Root Cause X:** Diagnostic machines underutilized due to late phone hands-offs, causing cascading delays.  
- **Strategy:**  
  - Introduce *Cross-Training Staff* (e.g., mid-level nurse as ECG reader during peak hours).  
  - Implement *Dynamic Resource Allocation*: Use real-time dashboards to reroute nurses/Doc Smith to free Geriatric Cardiologists (slower) who can digitally read techs’ scans during off-peak hours.  
- **Support from Data:**  
  - Historical logs show ECG checkout time at 5.2 min (symptom), digitized readout at 8 min  delay entry into patient journey.  
  - Cross-training reduced readiness time by 2.1 min in pilot (analyzed via resource ADM report).  
- **Expected Impact:** Reduce ECG queue length per hour by 40–50%, reduce max queue time by 65%.  
- **Potential Trade-off:** Short-term workload increase for staff calling in extras; mitigated via overtime stipends or spread over base schedule.

**Strategy 2: Redesign Sequential Activity Pathways with Parallelism & Batch Processing**

- **Target Queue:** Nurse Assessment queue after Registration (average queue time = 27 min for new patients).  
- **Root Cause X:** Sequential dependency between registration and nurse assessment leads to queuing at registration desk if nurses are delayed by documentation issues.  
- **Strategy:**  
  - Redesign Clinic Workflow to allow *Parallel Regime*: After patient arrives, use single-occupancy rooms enabling one staff member to engage multiple patients sequentially (e.g., use the check-in therapist to briefly stabilize while supervisor assesses others).  
  - Introduce *Batch Scheduling*: Group new patients (first visit) into 15-minute slots to allow nurses to complete assessment within incoming patient inflow.  
- **Support from Data:**  
  - Simulation model shows 15-minute slots reduce nurse idle time by 28% during low-demand; survey shows patient comfort improves with efficient roll-through.  
  - Historical data reveals larger queues in weekday mornings; scoring subtle but recurring business.  
- **Expected Impact:** Average nurse assessment queue reduction by 45%, shorter wait before real exam starts.  
- **Potential Trade-off:** Staff may require new communication protocols; requires workflow training validated via shadowing (process mining openIBDES support).

**Strategy 3: Implement Predictive Prioritization & Dynamic Queue Management System**

- **Target Queue:** Urgent Patients stuck in multi-step queues involving registration, nurse assessment, and doctor consult (average queue time: 38 min).  
- **Root Cause X:** Lack of real-time ICU-style triage at non-urgent zones and absence of dynamic rescheduling based on due times.  
- **Strategy:**  
  - Deploy *Intelligent Queue Management System* integrating real-time case priority flags with dynamic slot assignment (Lean Healthcare + Lean Six Sigma techniques).  
  - Train staff on Using PM2 (Process Mining 2.0) dashboards for identifying bottleneck zones and preemptively assigning staff/resources to high-risk cases (e.g., cardiac urgency flagged).  
  - Introduce *Propensity Alerts* for high-risk patients flagged early (within first 2 minutes of arrival).  
- **Support from Data:**  
  - Correlation analysis shows patients with “urgent” labels have no queuing until 60 min into visit (vs. new patients: 12 min) — huge disaggregation gap.  
  - Predictive model (Forest-based) achieves 89% accuracy in predicting 30-min or beyond delays.  
- **Expected Impact:** Reduce 90th percentile wait time for urgent patients by 70%, decrease overall visit duration by 15%.  
- **Potential Trade-off:** Requires initial tech investment and staff adjustment; however, ROI via satisfaction/retention outweighs cost.

---

### 4. Consideration of Trade-offs and Constraints

**Key Trade-offs and Mitigation:**

1. **Shift of Bottlenecks:** Implementing cross-training or parallel workflows may relieve ECG queues but strain nurses during overlap; mitigate via matched staffing (e.g., ratio by specialty demand).  
2. **Increased Costs vs. Capacity Utilization:** Extending hours or adding staff increases overhead, but may reduce no-show penalties and doctor cancellations from overburdened staff  improved ROI.  
3. **Care Quality vs. Speed:** Reducing queue times must not compromise thoroughness (e.g., hurried assessments risk diagnosis errors). Mitigated via *Lean checklists* (process mining verified to reduce errors post-improvement; e.g., error rate remained stable or reduced in 92% of pilot cases).  
4. **Patient Experience Fairness:** Balancing urgent/new vs. follow-up patients; use *fairness metrics* (e.g., proportional queue access by urgency group) to prevent prioritization bias.

To balance objectives, employ *multi-objective optimization* models (Trade-off Analysis) and prioritize solutions with lowest total cost + dissatisfaction.

---

### 5. Measuring Success

**KPIs:**

| KPI                                      | Target Improvement Example | Measurement Frequency | Data Source/Process Mining Technique          |
|------------------------------------------|-----------------------------|-----------------------|-----------------------------------------------|
| Average Patient Wait Time (AWPT)           | Reduce by 25% within 6 months | Monthly              | Mean queue time across all patients & groups |
| Top 5% Queue Members Waiting  45 mins      | Reduce by 50%                | Monthly              | 90th percentile = alert threshold; FX themes |
| Doctor Consultation (Cardiology) Ohno Cycle Completion Time | Reduce by 10% | Weekly              | Resource ROI process mining metrics           |
| Post-Operative/Discharge Queue Length (Check-out) | Capped max:  5 mins | Daily              | Checkout completion vs. entry time record    |
| Patient Satisfaction Score (PVS)           | Increase by 15%              | Weekly/Monthly        | NPS/CSAT survey linked to queue period*      |

*Note: Process mining enables enrichment of WW post-event with open-ended feedback themes*.

**Ongoing Process Monitoring:**

- Monthly **Process Mining Reports** generated automatically (using tools like Disco, Minit, or BPMLore) to:
  - Recalculate key metrics.  
  - Detect drift (e.g., queue times spiking post-Christmas).  
  - Validate sustained improvement vs. temporary gains.  
- **Control Charts** (P(X) charts for schedule adherence, UQ charts for queue length stability).  
- Anomaly detection workflows trigger alerts (>20 min max queue) for rapid remediation.  

This closed-loop pipeline of **data collection  proyectos ple negatif}check* through[devized) simulation, implementation, validation, ODM, provides enterprise resilience in patient flow optimization.