### BPMN-Like Textual Process Model: Invoice Approval Process

This textual representation describes a BPMN (Business Process Model and Notation) diagram based on the consolidated accounts from the interviews. It captures the typical "happy path" sequence while incorporating decision points (gateways), exceptions/variations, and ambiguities. The model uses the following conventions for clarity:

- **Pools/Lanes:** Represented as sections for roles (e.g., Accounts Payable Clerk, Purchasing Officer). A shared "System" lane is implied for automated notifications/emails.
- **Events:** Start/End events marked as [Start Event] or [End Event].
- **Tasks:** Described as "Task: [Name] (Role: [Role])" with inputs/outputs if mentioned.
- **Gateways:** Exclusive (XOR) gateways for decisions, denoted as "Gateway: [Decision Point]?" with branches (e.g., Yes  [Flow]; No  [Alternate Flow]).
- **Sequence Flows:** Indicated by numbered steps and arrows () showing typical order. Dashed arrows (---) indicate variations or exceptions.
- **Data Objects/Artifacts:** Noted inline (e.g., Input: Invoice; Output: Confirmation Email).
- **Annotations:** Notes for ambiguities, conflicts, or consolidations (e.g., based on multiple interviewees). Conflicting details (e.g., exact order of matching vs. confirmation) are noted with uncertainty.
- **Overall Structure:** The process is linear with branches for exceptions. Loops are possible for rework (e.g., discrepancies). The model assumes a single pool for the organization, with sub-lanes for roles. Supplier interactions are modeled as external message flows.

The diagram would visualize as a horizontal flow from left to right, with lanes stacked vertically: Accounts Payable Clerk (primary lane), Purchasing Officer, Department Manager, Accounts Payable Supervisor (for exceptions), and Supplier Relationship Manager (ad-hoc). Automated system actions (e.g., emails) are in a footer lane.

#### Diagram Overview
- **Process Name:** Invoice Approval and Payment Scheduling
- **Trigger:** Receipt of invoice (typically via email).
- **Scope:** From invoice receipt to payment scheduling, including exceptions.
- **Assumptions/Consolidations:** 
  - The "happy path" prioritizes Mary's description as the frontline view, cross-validated with Dan and Carlos. Rita's exceptions are branched off. Karen's role is ad-hoc for resolutions.
  - Ambiguity: Order of "confirmation from Purchasing" vs. "matching by AP" is unclear (Mary says forward then match; Dan assumes matching happens after his confirmation). Modeled as parallel/sequential with a note.
  - No direct conflicts, but variations in escalation (e.g., Dan contacts supplier directly; Mary escalates to Rita; Karen assists).
  - Variations: ~5-10% of cases involve exceptions (per Carlos/Rita). Retrospective POs for informal services are rare.

---

#### BPMN Elements and Flow Description

**[Start Event: Invoice Received]**  
- Trigger: Invoice arrives (Input: Invoice via email).  
- Role: Accounts Payable Clerk (Mary).  
- Description: Process begins upon receipt of invoice from supplier.

**Step 1: Task: Check for Valid PO Number (Role: Accounts Payable Clerk - Mary)**  
- Input: Invoice.  
- Output: Logged Invoice (if valid) or Rejection Request (if invalid).  
- Sequence Flow: From Start Event  Step 1.  

**Gateway 1: Valid PO Present? (XOR Gateway - Decision: Does invoice have a valid PO number?)**  
- Yes Branch:  Step 2 (Log and Proceed).  
- No Branch:  Exception Path A (Request PO from Supplier).  
- Conditions: Based on Mary's initial check; Dan emphasizes no approval without PO.

**Yes Flow - Happy Path:**  
**Step 2: Task: Log Invoice into Accounting System (Role: Accounts Payable Clerk - Mary)**  
- Input: Invoice with PO.  
- Output: System-Logged Invoice.  
- Sequence Flow: From Gateway 1 (Yes)  Step 2.  
- Annotation: Automated system entry; triggers notifications.

**Step 3: Task: Forward to Purchasing for Confirmation (Role: Accounts Payable Clerk - Mary)**  
- Input: System-Logged Invoice.  
- Output: Forwarded Invoice Request (via email/system notification).  
- Sequence Flow: From Step 2  Step 3.  

**Step 4: Task: Confirm Receipt and Match Details (Role: Purchasing Officer - Dan)**  
- Input: Forwarded Invoice and PO.  
- Output: Confirmation Email (if match) or Discrepancy Report (if not).  
- Sequence Flow: From Step 3  Step 4 (Message Flow to Purchasing Lane).  
- Description: Dan compares quantities, prices, delivery charges against PO; confirms goods/services received.  
- Annotation: Assumes receipt confirmation is part of this; per Mary, this precedes her matching.

**Gateway 2: Details Match PO? (XOR Gateway - Decision: Do invoice line items match PO quantities/prices/receipt?)**  
- Yes Branch:  Step 5 (Proceed to Matching/Approval).  
- No Branch:  Exception Path B (Resolve Discrepancy).  
- Conditions: Based on Dan's check; discrepancies include extra units, incorrect pricing, missing items (per Mary/Dan).

**Yes Flow (Continued):**  
**Step 5: Task: Match Invoice Line Items Against PO (Role: Accounts Payable Clerk - Mary)**  
- Input: Confirmation Email from Step 4 + System-Logged Invoice.  
- Output: Matched Invoice.  
- Sequence Flow: From Gateway 2 (Yes)  Step 5 (Message Flow back to AP Lane).  
- Description: Final system-based matching post-confirmation.  
- Annotation: Potential parallelism/uncertainty—Mary describes this after confirmation, but Dan assumes it follows his step. If mismatch here, loops back to Gateway 2 (No).

**Gateway 3: All Matches Confirmed? (XOR Gateway - Decision: No remaining discrepancies after matching?)**  
- Yes Branch:  Step 6 (Trigger Manager Approval).  
- No Branch:  Exception Path B (Resolve Discrepancy).  
- Conditions: Post-matching check; triggers system email for approval (per Mary/Carlos).

**Step 6: Task: Request Manager Approval (Automated/System Task)**  
- Input: Matched Invoice + PO + Confirmation.  
- Output: Approval Notification (system email with details).  
- Sequence Flow: From Gateway 3 (Yes)  Step 6.  
- Description: System shows invoice, PO, and confirmation to manager.

**Step 7: Task: Review and Approve Invoice (Role: Department Manager - Carlos)**  
- Input: Approval Notification.  
- Output: Approved Invoice (or Rejection Note).  
- Sequence Flow: From Step 6  Step 7 (Message Flow to Manager Lane).  
- Description: Manager checks quantities, pricing, budget alignment; hits "approve" in system if good.

**Gateway 4: Manager Approves? (XOR Gateway - Decision: Does manager approve based on review?)**  
- Yes Branch:  Step 8 (Schedule Payment).  
- No Branch:  Exception Path C (Reject/Investigate).  
- Conditions: Suspicious items, budget overruns (rare, per Carlos: ~1-2x/month).

**Step 8: Task: Schedule for Payment (Role: Accounts Payable Clerk - Mary)**  
- Input: Approved Invoice.  
- Output: Payment Run Entry.  
- Sequence Flow: From Gateway 4 (Yes)  Step 8 (back to AP Lane).  
- Description: Add to next payment cycle.  

**[End Event: Payment Scheduled]**  
- Sequence Flow: From Step 8  End Event.  
- Description: Process completes; payment executed in batch run (per Dan/Carlos).

---

#### Exception/Variation Paths (Branched Flows with Potential Loops)
These are modeled as sub-flows from gateways, with message flows to external roles (e.g., Supplier). They can loop back to main flow (e.g., after resolution  Gateway 2 or 3). Dashed lines indicate non-standard paths.

**Exception Path A: From Gateway 1 (No PO) ---**  
- **Task: Request PO/Details from Supplier (Role: Accounts Payable Clerk - Mary or Supplier Relationship Manager - Karen)**  
  - Input: Invoice without PO.  
  - Output: Revised Invoice with PO.  
  - Description: Email supplier for details (Mary); Karen assists if needed for key suppliers (per Karen).  
- **Variation (per Rita):** If informal service, escalate to create retrospective PO (Role: Accounts Payable Supervisor - Rita)  Coordinate with department head  Back to Step 2 (Log).  
- **Loop/Return:** If unresolved, possible rejection (End: Invoice Rejected). Else  Gateway 1 (re-check).  
- Annotation: Dan notes AP must get PO before he proceeds; Karen handles revisions.

**Exception Path B: From Gateway 2 (No Match) or Gateway 3 (No) ---**  
- **Task: Resolve Discrepancy (Role: Purchasing Officer - Dan or Accounts Payable Clerk - Mary)**  
  - Input: Discrepancy Report.  
  - Output: Clarification Request or Corrected Invoice.  
  - Description: Contact supplier directly (Dan) or email Purchasing (Mary); hold invoice until corrected.  
- **Sub-Gateway: Can Be Resolved Easily? (XOR - per Mary)**  
  - Yes:  Task: Obtain Correction (involves Karen for contract checks/pricing).  
  - No:  Escalate to Supervisor (Role: Accounts Payable Supervisor - Rita)  Coordinate with departments/suppliers; possible retrospective PO.  
- **Involvement:** Karen looped in for supplier relations/pricing verification (per Karen).  
- **Loop/Return:** After resolution  Back to Step 4 or Gateway 2 (re-check match). If unresolvable  End: Invoice Rejected.  
- Annotation: Common for pricing/missing items; Rita ensures no indefinite holds.

**Exception Path C: From Gateway 4 (Manager Rejects) ---**  
- **Task: Investigate Rejection (Role: Accounts Payable Clerk - Mary or Department Manager - Carlos)**  
  - Input: Rejection Note.  
  - Output: Investigation Report.  
  - Description: Hold and investigate (e.g., budget issues); possible loop back to supplier via Path B.  
- **Escalation:** To Rita if complex (per Rita/Carlos).  
- **Loop/Return:** After fix  Back to Step 6 (Re-request Approval). If confirmed invalid  End: Invoice Rejected.  
- Annotation: Rare; may involve rework loop to earlier steps.

#### Additional Elements
- **Data Objects (Flowing Through Process):**
  - Invoice (central artifact: starts as input, evolves to "Matched/Approved Invoice").
  - Purchase Order (PO) (referenced/matched at multiple points; retrospective creation in exceptions).
  - Confirmation Email (from Purchasing to AP).
  - Approval Notification (system-generated).
  - Payment Run Entry (final output).
- **Message Flows:** External to Supplier (e.g., requests for PO/corrections); ad-hoc to Karen for resolutions.
- **Timers/Annotations for Variations:**
  - Rework Loops: Possible at discrepancies (Paths B/C) to avoid indefinite holds (per Rita).
  - Uncertainty Note: Exact sequencing of confirmation (Step 4) and matching (Step 5) may vary by case; in some accounts (Dan), Purchasing handles all matching before return.
  - Rejection End Event: Added for unresolvable cases (e.g., no PO, irreconcilable discrepancies); leads to supplier notification but not modeled in detail.
- **Performance Notes (from Interviews):** Process typically takes days; exceptions delay by weeks (escalations). System automates notifications but manual emails common for discrepancies.

This textual model can be directly translated into a BPMN tool (e.g., Camunda Modeler or Lucidchart) by mapping tasks to rectangles, gateways to diamonds, and flows to arrows. It provides a coherent, visualizable structure while noting empirical ambiguities from the multi-perspective interviews.