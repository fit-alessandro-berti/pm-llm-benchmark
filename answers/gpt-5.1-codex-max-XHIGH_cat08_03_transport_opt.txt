**1. Process Discovery and Conformance Checking**

- **Preprocessing and Integration:**
  - Define clear case notions depending on the analysis perspective:
    - For routing/operations: a “vehicle-day” case (e.g., `V12-20241205`), grouping all events from shift start to end for a vehicle.
    - For customer service: a “package” case (e.g., `P9876`), grouping depot scan, arrival, delivery outcome, and depart.
  - Harmonise timestamps (time zones, formats) and ensure clock synchronisation across GPS units, scanners, and dispatch systems.
  - Normalize activity labels and lifecycles (e.g., `Arrive Customer`, `Delivery Success`, `Delivery Failed`, `Depart Customer`, `Unscheduled Stop`, `Maintenance Start/End`).
  - Enrich GPS traces by segmenting into events: detect stops (speed0 for >X minutes), low-speed intervals (congestion), and link to nearest planned stop/customer geocode; filter out GPS noise and short idling.
  - Join planned data from dispatch to actual events: planned stop sequence, planned ETAs/time windows, planned route geometry, load/capacity.
  - Challenges: differing granularities (GPS pings vs. scanner events), matching GPS coordinates to customer addresses, missing/duplicate events, misaligned IDs between systems, noisy statuses (e.g. idle vs. parking).

- **Process Discovery:**
  - Use discovery algorithms robust to noise, such as the Inductive Miner or Heuristic Miner, on the vehicle-day log to obtain an endtoend model: `Start Shift  Route Assigned  Depart Depot  [Travel / Congestion / Unplanned Stop]*  Arrive Customer  [Delivery Success|Failed]  Depart Customer  …  Arrive Depot  End Shift`.
  - Overlay performance information (frequency, mean/median durations between activities) to visualise typical paths, loops (e.g. repeated failed attempts), and rare events (e.g. unscheduled stops due to breakdowns).
  - For the package-level log, discover the microprocess around service, highlighting differences between successful vs. failed deliveries.

- **Conformance Checking:**
  - Model the “as planned” process from the dispatch system (expected stop order, planned travel times, required time windows) as a reference model.
  - Perform alignment-based conformance checking between actual traces and the planned model to measure fitness (completeness), precision (extra behaviour), and quantify deviations.
  - Look for:
    - Sequence deviations: outoforder stops, skipped/planned but not visited customers, extra/unplanned stops.
    - Route deviations: detours from planned route geometry (using GPS traces).
    - Timing deviations: late arrivals beyond planned ETA/window, longer travel times than estimated, extended service times.
    - Unplanned events: unscheduled maintenance stops, long idling, returns to depot midroute.
    - Resource deviations: different driver/vehicle than assigned.

**2. Performance Analysis and Bottleneck Identification**

- **KPIs and Calculation:**
  - OnTime Delivery Rate: % of `Delivery Success` events where timestamp  planned time window from dispatch.
  - Average Service Time per Stop: `Depart Customer`  `Arrive Customer`, aggregated by route/driver/area.
  - Travel vs. Service Time Ratio: Sum of travel intervals (between `Depart` and next `Arrive`) vs. sum of service intervals within a shift.
  - Fuel Consumption per km/package: using telematics/fuel data if available; otherwise estimate via speed/distance and vehicle efficiency; divide by km driven or packages delivered.
  - Vehicle Utilization Rate: Active driving/servicing time ÷ shift length; capacity utilisation (packages loaded ÷ capacity).
  - Traffic Delay Frequency/Duration: Count and duration of lowspeed segments (<X km/h) tagged as congestion, relative to route length/time of day/area.
  - Failed Delivery Rate: `Delivery Failed` events ÷ total delivery attempts; by reason code (e.g. customer not home).
  - Overtime: Shift end  scheduled end; number of days with overtime.

- **Identifying Bottlenecks:**
  - Use performance overlays on the discovered model to highlight activities/transitions with high mean/variance in duration.
  - Apply bottleneck analysis per dimension: compare cycle times by route, time of day, weekday, area, driver, vehicle type.
  - Map delays spatially using GPS to identify traffic hotspots (persistent low speeds) and areas with long parking/search times (long “ArriveDepart”).
  - Use variant analysis to see common route execution patterns and which variants correlate with longer shift durations or higher delay rates.
  - Quantify impact by measuring how much each bottleneck contributes to total delay (e.g. cumulative extra minutes in congestion segments per route), and correlating with KPIs (e.g. ontime rate drop during peak congestion hours).

**3. Root Cause Analysis for Inefficiencies**

- Potential root causes and corresponding analyses:
  - **Suboptimal/static route planning:** Compare planned vs. actual sequences and travel times; identify frequent reordering or detours implying poor initial plans.
  - **Inaccurate travel time estimates:** Systematically longer actual travel times than planned, especially during certain hours; regression analysis on planned vs. actual travel times by segment/time of day.
  - **Traffic congestion patterns:** Clusters of lowspeed events in certain corridors/times; correlate congestion events with late deliveries.
  - **High service time variability:** Wide variance in `ArriveDepart` durations; analyse by customer type, location (e.g. highrise vs. house), and driver behaviour.
  - **Vehicle breakdowns/maintenance:** Occurrence of unscheduled stops followed by delays; correlate maintenance logs with vehicles exhibiting frequent delays or higher fuel consumption.
  - **Driver behaviour/skill differences:** Variant analysis by driver showing differences in stop handling, idling time, adherence to plan; outliers with consistently longer service/travel times.
  - **Failed deliveries/redeliveries:** High failed attempt rates in certain areas or time windows; analyse relationship between time window tightness, communication status, and failure reasons.

  - Techniques: filter traces by performance (fast vs. slow routes) to compare paths; cluster cases by delay profiles; use dotted charts to spot temporal patterns; perform conformance diagnostics to see recurrent deviations linked to specific resources or contexts.

**4. Data-Driven Optimization Strategies**

1. **Dynamic Routing with Traffic Awareness**
   - Targets: Delays due to congestion and static routing.
   - Root cause: Planned routes/ETAs don’t reflect realtime conditions or recurrent peak patterns.
   - Data support: Congestion hotspots and systematic travel time overruns identified in event log; conformance shows frequent detours/resequencing.
   - Action: Integrate realtime traffic into dispatch; reoptimise stop sequence midroute; adjust planned travel times using historical patterns by time of day.
   - Impact: Higher ontime delivery rate, reduced travel time, improved travel/service ratio, lower fuel per km.

2. **Territory and Stop Sequence Optimisation**
   - Targets: Long routes/overtime, unbalanced workloads, excessive deadhead distance.
   - Root cause: Suboptimal allocation of stops to routes and stop ordering.
   - Data support: Variant and performance analysis showing certain routes regularly exceeding shift length or having high travel/service ratios.
   - Action: Use historical performance to redesign delivery territories to balance volumes and travel times; optimise daily stop sequences to minimise distance and consider customer time windows.
   - Impact: Reduced average time per route, lower overtime, better vehicle utilisation, lower fuel per package.

3. **Enhanced Time Window Management and Customer Communication**
   - Targets: High failed delivery rate and redelivery costs.
   - Root cause: Customers not home within planned windows; misaligned expectations.
   - Data support: Patterns of failed deliveries at certain times/areas; conformance showing late arrivals outside promised windows.
   - Action: Adjust offered time windows based on actual arrival distributions; proactive notifications/ETA updates; offer rescheduling options; flag risky stops for priority scheduling.
   - Impact: Lower failed delivery rate, reduced redelivery kilometres, improved ontime delivery.

4. **Predictive Maintenance Scheduling**
   - Targets: Unscheduled stops/breakdowns causing route disruption and high maintenance costs.
   - Root cause: Reactive maintenance; vehicles dispatched despite emerging issues.
   - Data support: Correlation of unscheduled stop events and maintenance logs with specific vehicles; increased delays/fuel consumption preceding breakdowns.
   - Action: Use usage patterns (km driven, engine hours, idling) to trigger maintenance before failure; schedule maintenance outside peak delivery periods.
   - Impact: Fewer inshift breakdowns, more stable route execution, reduced overtime, potentially improved fuel efficiency.

5. **Targeted Driver Coaching**
   - Targets: Variability in service times and idling; inefficiencies at stops.
   - Root cause: Differences in parking/search strategies, scanning discipline, customer interaction.
   - Data support: Driverlevel performance metrics showing outliers in `ArriveDepart` durations and idling time.
   - Action: Share best practices from high performers; train on efficient parking/approach, scanner use; set idling reduction targets with feedback.
   - Impact: Lower average service time per stop, reduced fuel use from idling, smoother adherence to schedule.

**5. Considering Operational Constraints and Monitoring**

- **Operational Constraints:**
  - All optimisation must respect driver hours of service, mandated breaks, and labour agreements; incorporate these as hard constraints in routing and shift planning.
  - Vehicle capacities and package characteristics (size/weight) must be respected in territory/sequence optimisation.
  - Customer time windows remain key; dynamic routing should not create more violations, and any resequencing must honour windows.

- **Continuous Monitoring Plan:**
  - Implement process mining dashboards refreshed daily to track:
    - KPI trends: ontime delivery %, average travel/service times, travel/service ratio, failed delivery rate, overtime occurrences, fuel per km/package.
    - Conformance metrics: fitness to planned routes, number/type of deviations (outoforder stops, unplanned stops), time window violations.
    - Bottleneck hotspots: map of congestion/long service times by area/time; vehicles with frequent unscheduled stops.
    - Resource performance: driver comparison on key metrics.
  - Set alerts for emerging issues (e.g. spike in failures in an area, rising delays on a route).
  - After implementing strategies, compare pre/post metrics and process variants to verify effectiveness; iterate on plans based on observed changes.
  - Use periodic rediscovery to detect drift in the process (seasonality, new patterns) and adjust optimisation models accordingly.

By grounding analysis and recommendations in the integrated event data and process mining insights, Speedy Parcels can target the specific inefficiencies in their lastmile operations, improve punctuality, and reduce fuel and maintenance costs while staying within operational constraints.