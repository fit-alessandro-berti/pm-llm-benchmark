# Event Log Integration for Process Mining

## Approach and Assumptions

### Methodology:
1. **Case ID**: Using `order_id` as the primary case identifier
2. **Activities Derived**:
   - "Order Created" - from Orders table
   - "Item Picked" - from Order Lines table (one event per item picked)
   - "Order Dispatched" - from Delivery table
   - "Order Arrived" - from Delivery table
   - "Invoice Issued" - from Invoice table
   - "Payment Received" - from Payments table

### Assumptions:
1. **Order 1004**: Has no delivery, invoice, or payment records - the process appears incomplete. Only order creation and item picking events are included.
2. **Multiple deliveries** (Order 1002): Each dispatch and arrival is treated as a separate event to capture the split shipment process.
3. **Multiple invoices** (Order 1002): Each invoice is a separate event.
4. **Payments linked via invoices**: Payment events are traced back to orders through the invoice_id relationship.
5. **Resource names**: Resolved using the Resources table where available.
6. **Chronological ordering**: Events are sorted by timestamp within each case.

---

## Final Event Log

| Case ID | Activity Name | Timestamp | Resource/Actor | Resource Role | Additional Attributes |
|---------|--------------|-----------|----------------|---------------|----------------------|
| 1001 | Order Created | 2024-01-01T09:00:00Z | Alice Brown | Sales Person | customer_id: CUST-ABC, customer_type: Retail, order_priority: High |
| 1001 | Item Picked | 2024-01-02T10:15:00Z | David Lin | Warehouse Staff | item_id: ITEM-001, item_description: Widget A, quantity: 2 |
| 1001 | Item Picked | 2024-01-02T11:00:00Z | Eva Johnson | Warehouse Staff | item_id: ITEM-002, item_description: Widget B, quantity: 1 |
| 1001 | Order Dispatched | 2024-01-03T08:30:00Z | GlobalTransport | Carrier | delivery_id: DLV-5001, delivery_note: Normal route |
| 1001 | Order Arrived | 2024-01-05T14:45:00Z | GlobalTransport | Carrier | delivery_id: DLV-5001, delivery_note: Normal route |
| 1001 | Invoice Issued | 2024-01-06T09:00:00Z | Gina Carter | Billing Clerk | invoice_id: INV-1001, invoice_amount: 250.00 |
| 1001 | Payment Received | 2024-01-10T11:30:00Z | - | - | payment_id: PAY-2001, payment_method: Credit Card, payment_reference: REF-CC-123 |
| 1002 | Order Created | 2024-01-02T12:30:00Z | Bob Smith | Sales Person | customer_id: CUST-XYZ, customer_type: Wholesale, order_priority: Medium |
| 1002 | Item Picked | 2024-01-03T09:45:00Z | Eva Johnson | Warehouse Staff | item_id: ITEM-003, item_description: Gadget X, quantity: 4 |
| 1002 | Item Picked | 2024-01-03T10:00:00Z | David Lin | Warehouse Staff | item_id: ITEM-005, item_description: Gadget Y, quantity: 2 |
| 1002 | Order Dispatched | 2024-01-04T07:20:00Z | FastShip | Carrier | delivery_id: DLV-5002, delivery_note: Requires signature |
| 1002 | Order Dispatched | 2024-01-05T07:00:00Z | GlobalTransport | Carrier | delivery_id: DLV-5003, delivery_note: Partial backorder |
| 1002 | Order Arrived | 2024-01-07T16:10:00Z | FastShip | Carrier | delivery_id: DLV-5002, delivery_note: Requires signature |
| 1002 | Order Arrived | 2024-01-08T10:00:00Z | GlobalTransport | Carrier | delivery_id: DLV-5003, delivery_note: Partial backorder |
| 1002 | Invoice Issued | 2024-01-08T10:15:00Z | Harry Lee | Billing Clerk | invoice_id: INV-1002, invoice_amount: 400.00 |
| 1002 | Invoice Issued | 2024-01-10T11:00:00Z | Harry Lee | Billing Clerk | invoice_id: INV-1003, invoice_amount: 100.00 |
| 1002 | Payment Received | 2024-01-12T14:00:00Z | - | - | payment_id: PAY-2002, payment_method: Wire Transfer, payment_reference: REF-WT-XYZ |
| 1002 | Payment Received | 2024-01-15T09:00:00Z | - | - | payment_id: PAY-2003, payment_method: Check, payment_reference: REF-CH-789 |
| 1003 | Order Created | 2024-01-03T10:00:00Z | Bob Smith | Sales Person | customer_id: CUST-AAA, customer_type: Retail, order_priority: High |
| 1003 | Item Picked | 2024-01-05T15:30:00Z | Frank Miller | Warehouse Staff | item_id: ITEM-002, item_description: Widget B, quantity: 1 |
| 1003 | Item Picked | 2024-01-05T15:45:00Z | David Lin | Warehouse Staff | item_id: ITEM-006, item_description: Part P, quantity: 3 |
| 1003 | Order Dispatched | 2024-01-06T07:30:00Z | AirExpress | Carrier | delivery_id: DLV-5004, delivery_note: Expedited delivery |
| 1003 | Order Arrived | 2024-01-07T20:00:00Z | AirExpress | Carrier | delivery_id: DLV-5004, delivery_note: Expedited delivery |
| 1003 | Invoice Issued | 2024-01-09T08:00:00Z | Gina Carter | Billing Clerk | invoice_id: INV-1004, invoice_amount: 150.00 |
| 1003 | Payment Received | 2024-01-11T10:30:00Z | - | - | payment_id: PAY-2004, payment_method: Credit Card, payment_reference: REF-CC-456 |
| 1004 | Order Created | 2024-01-04T14:15:00Z | Charlie Kim | Sales Person | customer_id: CUST-BBB, customer_type: Government, order_priority: Low |
| 1004 | Item Picked | 2024-01-06T08:00:00Z | Eva Johnson | Warehouse Staff | item_id: ITEM-001, item_description: Widget A, quantity: 5 |
| 1005 | Order Created | 2024-01-05T08:45:00Z | Alice Brown | Sales Person | customer_id: CUST-ZZZ, customer_type: Retail, order_priority: High |
| 1005 | Item Picked | 2024-01-06T09:30:00Z | Frank Miller | Warehouse Staff | item_id: ITEM-007, item_description: Special Widget Deluxe, quantity: 10 |
| 1005 | Item Picked | 2024-01-06T09:45:00Z | Eva Johnson | Warehouse Staff | item_id: ITEM-002, item_description: Widget B, quantity: 2 |
| 1005 | Order Dispatched | 2024-01-07T10:15:00Z | FastShip | Carrier | delivery_id: DLV-5005, delivery_note: Fragile items, handle with care |
| 1005 | Order Arrived | 2024-01-09T11:45:00Z | FastShip | Carrier | delivery_id: DLV-5005, delivery_note: Fragile items, handle with care |
| 1005 | Invoice Issued | 2024-01-10T09:30:00Z | Irene Park | Billing Clerk | invoice_id: INV-1005, invoice_amount: 500.00 |
| 1005 | Payment Received | 2024-01-15T12:00:00Z | - | - | payment_id: PAY-2005, payment_method: Credit Card, payment_reference: REF-CC-789 |

---

## Summary Statistics

| Metric | Value |
|--------|-------|
| Total Cases | 5 |
| Total Events | 34 |
| Complete Cases (OrderPayment) | 4 (1001, 1002, 1003, 1005) |
| Incomplete Cases | 1 (1004 - missing delivery, invoice, payment) |
| Cases with Multiple Deliveries | 1 (1002) |
| Cases with Multiple Invoices | 1 (1002) |

## Process Flow Observations

1. **Typical Process Flow**: Order Created  Item(s) Picked  Order Dispatched  Order Arrived  Invoice Issued  Payment Received
2. **Order 1002** shows a complex case with split shipments (2 deliveries) and multiple invoices (2), likely due to the "Partial backorder" situation noted in the delivery records.
3. **Order 1004** appears to be stuck after item picking - potentially pending dispatch or cancelled. This warrants investigation in the actual process.