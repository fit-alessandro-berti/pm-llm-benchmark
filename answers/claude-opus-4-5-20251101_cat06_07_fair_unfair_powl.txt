# POWL Models for GlobalTeq Solutions Hiring Process

I'll create two POWL models based on the hiring process description: one that contains the potential unfairness through an XOR branch, and one that treats all applicants equally.

## Model 1: POWL Model with Potential Unfairness

This model includes an XOR branch after the skill assessment where applicants either go through a standard cultural fit check OR receive preferential treatment through a community affiliation check.

```python
import pm4py
from pm4py.objects.powl.obj import StrictPartialOrder, OperatorPOWL, Transition, SilentTransition
from pm4py.objects.process_tree.obj import Operator

# Define all activities for the unfair model
ReceiveApplication = Transition(label="ReceiveApplication")
DataCompletenessCheck = Transition(label="DataCompletenessCheck")
RequestMoreInfo = Transition(label="RequestMoreInfo")
SkillAssessment = Transition(label="SkillAssessment")
CulturalFitCheck = Transition(label="CulturalFitCheck")
CommunityAffiliationCheck = Transition(label="CommunityAffiliationCheck")  # Bias point
ManagerialReview = Transition(label="ManagerialReview")
FinalDecision = Transition(label="FinalDecision")

# Create the loop for data completeness (loop back if more info needed)
# Loop structure: execute DataCompletenessCheck, then either exit or RequestMoreInfo and repeat
data_loop = OperatorPOWL(
    operator=Operator.LOOP, 
    children=[DataCompletenessCheck, RequestMoreInfo]
)

# Create the XOR branch for cultural evaluation - THIS IS WHERE UNFAIRNESS OCCURS
# Either standard CulturalFitCheck OR CommunityAffiliationCheck (which gives advantage)
cultural_xor = OperatorPOWL(
    operator=Operator.XOR, 
    children=[CulturalFitCheck, CommunityAffiliationCheck]
)

# Build the complete workflow with partial order
unfair_model = StrictPartialOrder(
    nodes=[
        ReceiveApplication,
        data_loop,
        SkillAssessment,
        cultural_xor,
        ManagerialReview,
        FinalDecision
    ]
)

# Define the sequential order of the process
unfair_model.order.add_edge(ReceiveApplication, data_loop)
unfair_model.order.add_edge(data_loop, SkillAssessment)
unfair_model.order.add_edge(SkillAssessment, cultural_xor)
unfair_model.order.add_edge(cultural_xor, ManagerialReview)
unfair_model.order.add_edge(ManagerialReview, FinalDecision)

print("Model 1 (With Potential Unfairness) created successfully")
print("Bias Point: XOR choice between CulturalFitCheck and CommunityAffiliationCheck")
```

## Model 2: POWL Model Without Unfairness

This model removes the biased XOR branch. All applicants go through the same cultural fit evaluation process, ensuring fairness.

```python
import pm4py
from pm4py.objects.powl.obj import StrictPartialOrder, OperatorPOWL, Transition, SilentTransition
from pm4py.objects.process_tree.obj import Operator

# Define all activities for the fair model
ReceiveApplication_fair = Transition(label="ReceiveApplication")
DataCompletenessCheck_fair = Transition(label="DataCompletenessCheck")
RequestMoreInfo_fair = Transition(label="RequestMoreInfo")
SkillAssessment_fair = Transition(label="SkillAssessment")
CulturalFitCheck_fair = Transition(label="CulturalFitCheck")  # Same for all applicants
ManagerialReview_fair = Transition(label="ManagerialReview")
FinalDecision_fair = Transition(label="FinalDecision")

# Create the loop for data completeness (same as before)
# Loop structure: execute DataCompletenessCheck, then either exit or RequestMoreInfo and repeat
data_loop_fair = OperatorPOWL(
    operator=Operator.LOOP, 
    children=[DataCompletenessCheck_fair, RequestMoreInfo_fair]
)

# Build the complete workflow with partial order - NO XOR BRANCH FOR CULTURAL CHECK
# All applicants go through the same CulturalFitCheck
fair_model = StrictPartialOrder(
    nodes=[
        ReceiveApplication_fair,
        data_loop_fair,
        SkillAssessment_fair,
        CulturalFitCheck_fair,  # Single path for all - no preferential treatment
        ManagerialReview_fair,
        FinalDecision_fair
    ]
)

# Define the sequential order of the process
fair_model.order.add_edge(ReceiveApplication_fair, data_loop_fair)
fair_model.order.add_edge(data_loop_fair, SkillAssessment_fair)
fair_model.order.add_edge(SkillAssessment_fair, CulturalFitCheck_fair)
fair_model.order.add_edge(CulturalFitCheck_fair, ManagerialReview_fair)
fair_model.order.add_edge(ManagerialReview_fair, FinalDecision_fair)

print("Model 2 (Without Unfairness) created successfully")
print("All applicants undergo the same CulturalFitCheck - no preferential paths")
```

## Summary of Differences

| Aspect | Model 1 (Unfair) | Model 2 (Fair) |
|--------|------------------|----------------|
| Cultural Evaluation | XOR between `CulturalFitCheck` and `CommunityAffiliationCheck` | Single `CulturalFitCheck` for all |
| Bias Potential | Applicants with community affiliations get preferential path | No preferential treatment |
| Data Completeness Loop | Present | Present |
| Sequential Flow | Yes | Yes |