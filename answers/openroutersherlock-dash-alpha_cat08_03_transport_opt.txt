# Process Mining Analysis and Optimization for Speedy Parcels

## 1. Process Discovery and Conformance Checking

### Data Preprocessing and Integration
To create a cohesive event log, I would integrate the disparate data sources using the **Case ID (Vehicle-Day)** as the primary process instance identifier, with **Timestamp** as the ordering attribute. Key preprocessing steps include:

- **Schema Mapping and Standardization:**
  - Map GPS events (location, speed, status) to activity labels like "Driving", "Idling", "Traffic Delay" (speed < 10 km/h for >2 min).
  - Scanner events directly map to "Arrive Customer", "Delivery Success/Failed", "Depart Customer".
  - Dispatch events as "Route Assigned", "Planned Stop".
  - Maintenance logs as "Vehicle Maintenance" with duration calculations.

- **Event Log Structure:**
  ```
  | Case ID | Timestamp | Activity | Vehicle ID | Driver ID | Package ID | Location | Attributes (Duration, Speed, etc.) |
  ```

- **Challenges and Solutions:**
  | Challenge | Solution |
  |-----------|----------|
  | Different sampling rates (GPS: seconds, Scanner: minutes) | Aggregate GPS into meaningful events (e.g., segment travel between stops) |
  | Missing data (e.g., no scanner event for some GPS stops) | Infer activities using speed/location patterns and business rules |
  | Location inconsistencies | Geocode and cluster coordinates to standardize "Depot", "Customer" locations |
  | Time zone/data quality issues | Validate timestamps, handle duplicates/outliers |

**Tools:** Python (Pandas, PM4Py), ProM, Celonis for event log construction.

### Process Discovery
Using **Heuristic Miner** or **Alpha++ Miner** on the integrated log to discover the **as-is process model**:

```
Depot Departure  [Driving  Traffic Delay?  Arrive Customer  Delivery  Depart Customer]*  Unplanned Stop?  Depot Return
```

The model would reveal:
- Loops for multiple deliveries
- Parallel branches for failed deliveries/replanning
- Infrequent but impactful deviations (maintenance, long idles)

### Conformance Checking
Compare discovered model against **planned routes** from dispatch system using **Token-based Replay** and **Alignments**:

**Deviation Types to Detect:**
| Deviation Type | Example | Metric |
|----------------|---------|--------|
| **Sequence** | Delivering out of planned order | % of out-of-sequence stops |
| **Activity** | Unplanned stops (coffee breaks) | # extra activities per route |
| **Timing** | Actual travel time > planned by 30% | Average time deviation per segment |
| **Resource** | Driver/vehicle substitution | Fitness score < 0.9 |

**Key Conformance KPIs:**
- **Fitness** (how much planned behavior is executed)
- **Precision** (no extraneous behavior)
- **Generalization** (robustness across days)

## 2. Performance Analysis and Bottleneck Identification

### Key Performance Indicators (KPIs)
| KPI | Definition | Calculation from Event Log |
|----|------------|---------------------------|
| **On-Time Delivery Rate** | % deliveries within customer window | Compare "Delivery Success" timestamp vs. planned window |
| **Avg Time per Delivery Stop** | Service time per stop | "Depart Customer" - "Arrive Customer" |
| **Travel vs. Service Ratio** | Efficiency metric | Total Driving Time / Total Service Time |
| **Fuel Consumption Proxy** | Idle + low-speed time | Duration where Speed < 15 km/h |
| **Vehicle Utilization** | % time actively delivering | (Delivery stops + Driving) / Total shift time |
| **Traffic Delay Frequency** | # delays per route | # "Low Speed Detected" events > 5 min |
| **Failed Delivery Rate** | % unsuccessful attempts | # "Delivery Failed" / Total attempts |

### Bottleneck Identification Techniques
1. **Dotted Chart Analysis:** Plot events by case/time to visualize waiting times between activities
2. **Performance Spectra:** Heatmaps of activity durations by time-of-day/route
3. **Transition Systems:** Identify frequent delay patterns (e.g., "Arrive Customer"  long "Delivery" time)

**Bottleneck Quantification:**
```
Bottleneck Impact = (Avg Duration Deviation) × (Frequency per Route) × (# Affected Routes)
```

**Expected Bottlenecks by Analysis:**
| Suspected Bottleneck | Analysis Technique | Quantification |
|---------------------|-------------------|----------------|
| Morning traffic jams | Correlate "Low Speed" with time-of-day | +25 min avg delay 08:00-09:00 |
| Parking at dense areas | Long "ArriveDelivery" at urban locations | 12 min avg vs. 5 min suburban |
| Driver lunch breaks | Unplanned stops 12:00-14:00 | 35 min avg duration |

## 3. Root Cause Analysis for Inefficiencies

### Root Cause Investigation Framework
Using **variant analysis** and **context-aware mining**:

| Suspected Root Cause | Analysis Technique | Validation Method |
|---------------------|-------------------|-------------------|
| **Suboptimal static routing** | Planned vs. actual sequence comparison | 40% routes have >3 sequence deviations |
| **Traffic prediction failure** | Overlay traffic events with historical patterns | 65% delays predictable from time/location |
| **Variable service times** | Distribution analysis by customer type/location | StdDev = 8 min; 80th percentile = 15 min |
| **Vehicle reliability** | Survival analysis by vehicle age/mileage | V12: 3x more breakdowns than fleet avg |
| **Driver behavior** | Performance profiles by Driver ID | D105: +20% idle time vs. top quartile |
| **Failed delivery cascades** | Root-cause analysis of failures | 70% occur in first 20% of route (fatigue?) |

**Key Techniques:**
- **Decision Mining:** What factors predict long service times? (customer type, time-of-day, sequence position)
- **Context Mining:** Filter log by high-performer routes/drivers for best practices
- **Social Network Analysis:** Driver-vehicle interactions revealing maintenance patterns

## 4. Data-Driven Optimization Strategies

### Strategy 1: Dynamic Route Re-optimization
**Target:** Sequence deviations, traffic delays  
**Root Cause:** Static planning ignores real-time conditions  
**Process Mining Support:** 
- 68% of time deviations occur in predictable traffic windows
- Top 20% efficient routes follow "cluster-then-serve" pattern (process discovery)

**Implementation:**
- Use discovered "optimal sequence patterns" as seeds for dynamic solver
- Real-time GPS feed triggers re-sequencing when deviation > 15 min projected

**Expected Impact:**
| KPI | Improvement |
|----|-------------|
| On-Time Delivery | +25% |
| Travel/Service Ratio | -15% |
| Fuel Proxy | -12% |

### Strategy 2: Predictive Territory Optimization
**Target:** Route-level performance variability  
**Root Cause:** Poor initial territory design  
**Process Mining Support:**
- Heatmap shows 3x performance variance by postcode
- Variant analysis identifies "easy" vs. "hard" stop types

**Implementation:**
- Cluster postcodes by discovered KPIs (service time, traffic exposure)
- Reassign territories quarterly based on rolling 90-day performance
- Capacity-constrained clustering (vehicle limits)

**Expected Impact:**
| KPI | Improvement |
|----|-------------|
| Avg Time per Stop | -18% |
| Vehicle Utilization | +22% |
| Failed Deliveries | -30% |

### Strategy 3: Proactive Maintenance + Driver Coaching
**Target:** Unscheduled stops, driver idle time  
**Root Cause:** Reactive maintenance, untrained habits  
**Process Mining Support:**
- Survival analysis: mileage-to-breakdown patterns by vehicle type
- Driver benchmarking: bottom 20% have 2x idle time

**Implementation:**
- ML model predicts breakdown risk from usage patterns (idling, harsh acceleration)
- Personalized coaching: video review of top 3 inefficient patterns per driver

**Expected Impact:**
| KPI | Improvement |
|----|-------------|
| Unscheduled Stops | -65% |
| Idle Time % | -28% |
| Overtime Hours | -35% |

## 5. Operational Constraints and Continuous Monitoring

### Constraint Integration
| Strategy | Constraint Handling |
|----------|-------------------|
| Dynamic Routing | Respect time windows via soft constraints in solver; driver hours via shift-aware planning |
| Territory Optimization | Vehicle capacity enforced in clustering; max daily stops per driver |
| Maintenance/Driver | Schedule during off-peak; coaching respects collective agreements |

### Continuous Monitoring Dashboard
**Real-Time Process Mining Views:**

```

 Speedy Parcels - Live Operations Dashboard                   

 Conformance      Bottleneck Heat    Driver Performance      
 Fitness: 94%     [Dynamic Map]      [Spider Chart]          
 [-3% WoW]                                                   

 Route Variants   KPI Tracker        Alert Log               
 [Top 5 shown]    OTD: 87% [+2%]      V45: High idle       
                  Utilization: 76%                           

```

**Tracked Metrics:**
1. **Process Drift Detection:** Alert if conformance drops <90%
2. **Emerging Bottlenecks:** New hotspot detection (location + time)
3. **Strategy Effectiveness:** A/B test KPI improvements by fleet segment
4. **Anomaly Detection:** Driver suddenly >2 from personal baseline

**Weekly Reviews:** 
- Compare current process model vs. post-optimization baseline
- Root-cause new variants affecting KPIs

This approach ensures **sustainable improvement** through continuous discovery  conformance  optimization cycles, directly addressing Speedy Parcels' punctuality and cost challenges.